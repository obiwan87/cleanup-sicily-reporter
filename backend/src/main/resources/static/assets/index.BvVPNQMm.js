(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const p of c)if(p.type==="childList")for(const v of p.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&o(v)}).observe(document,{childList:!0,subtree:!0});function n(c){const p={};return c.integrity&&(p.integrity=c.integrity),c.referrerPolicy&&(p.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?p.credentials="include":c.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function o(c){if(c.ep)return;c.ep=!0;const p=n(c);fetch(c.href,p)}})();function hh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var go={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Gd=go.exports,kl;function Kd(){return kl||(kl=1,function(i,t){(function(n,o){o(t)})(Gd,function(n){var o="1.9.4";function c(e){var r,u,f,_;for(u=1,f=arguments.length;u<f;u++){_=arguments[u];for(r in _)e[r]=_[r]}return e}var p=Object.create||function(){function e(){}return function(r){return e.prototype=r,new e}}();function v(e,r){var u=Array.prototype.slice;if(e.bind)return e.bind.apply(e,u.call(arguments,1));var f=u.call(arguments,2);return function(){return e.apply(r,f.length?f.concat(u.call(arguments)):arguments)}}var A=0;function S(e){return"_leaflet_id"in e||(e._leaflet_id=++A),e._leaflet_id}function U(e,r,u){var f,_,T,R;return R=function(){f=!1,_&&(T.apply(u,_),_=!1)},T=function(){f?_=arguments:(e.apply(u,arguments),setTimeout(R,r),f=!0)},T}function j(e,r,u){var f=r[1],_=r[0],T=f-_;return e===f&&u?e:((e-_)%T+T)%T+_}function J(){return!1}function et(e,r){if(r===!1)return e;var u=Math.pow(10,r===void 0?6:r);return Math.round(e*u)/u}function ut(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function X(e){return ut(e).split(/\s+/)}function Y(e,r){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?p(e.options):{});for(var u in r)e.options[u]=r[u];return e.options}function at(e,r,u){var f=[];for(var _ in e)f.push(encodeURIComponent(u?_.toUpperCase():_)+"="+encodeURIComponent(e[_]));return(!r||r.indexOf("?")===-1?"?":"&")+f.join("&")}var ot=/\{ *([\w_ -]+) *\}/g;function It(e,r){return e.replace(ot,function(u,f){var _=r[f];if(_===void 0)throw new Error("No value provided for variable "+u);return typeof _=="function"&&(_=_(r)),_})}var dt=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function ct(e,r){for(var u=0;u<e.length;u++)if(e[u]===r)return u;return-1}var St="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function wt(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var h=0;function O(e){var r=+new Date,u=Math.max(0,16-(r-h));return h=r+u,window.setTimeout(e,u)}var x=window.requestAnimationFrame||wt("RequestAnimationFrame")||O,M=window.cancelAnimationFrame||wt("CancelAnimationFrame")||wt("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function D(e,r,u){if(u&&x===O)e.call(r);else return x.call(window,v(e,r))}function H(e){e&&M.call(window,e)}var P={__proto__:null,extend:c,create:p,bind:v,get lastId(){return A},stamp:S,throttle:U,wrapNum:j,falseFn:J,formatNum:et,trim:ut,splitWords:X,setOptions:Y,getParamString:at,template:It,isArray:dt,indexOf:ct,emptyImageUrl:St,requestFn:x,cancelFn:M,requestAnimFrame:D,cancelAnimFrame:H};function Yt(){}Yt.extend=function(e){var r=function(){Y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=r.__super__=this.prototype,f=p(u);f.constructor=r,r.prototype=f;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(r[_]=this[_]);return e.statics&&c(r,e.statics),e.includes&&(Ue(e.includes),c.apply(null,[f].concat(e.includes))),c(f,e),delete f.statics,delete f.includes,f.options&&(f.options=u.options?p(u.options):{},c(f.options,e.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,R=f._initHooks.length;T<R;T++)f._initHooks[T].call(this)}},r},Yt.include=function(e){var r=this.prototype.options;return c(this.prototype,e),e.options&&(this.prototype.options=r,this.mergeOptions(e.options)),this},Yt.mergeOptions=function(e){return c(this.prototype.options,e),this},Yt.addInitHook=function(e){var r=Array.prototype.slice.call(arguments,1),u=typeof e=="function"?e:function(){this[e].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function Ue(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=dt(e)?e:[e];for(var r=0;r<e.length;r++)e[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ne={on:function(e,r,u){if(typeof e=="object")for(var f in e)this._on(f,e[f],r);else{e=X(e);for(var _=0,T=e.length;_<T;_++)this._on(e[_],r,u)}return this},off:function(e,r,u){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var f in e)this._off(f,e[f],r);else{e=X(e);for(var _=arguments.length===1,T=0,R=e.length;T<R;T++)_?this._off(e[T]):this._off(e[T],r,u)}return this},_on:function(e,r,u,f){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(e,r,u)===!1){u===this&&(u=void 0);var _={fn:r,ctx:u};f&&(_.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(_)}},_off:function(e,r,u){var f,_,T;if(this._events&&(f=this._events[e],!!f)){if(arguments.length===1){if(this._firingCount)for(_=0,T=f.length;_<T;_++)f[_].fn=J;delete this._events[e];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var R=this._listens(e,r,u);if(R!==!1){var V=f[R];this._firingCount&&(V.fn=J,this._events[e]=f=f.slice()),f.splice(R,1)}}},fire:function(e,r,u){if(!this.listens(e,u))return this;var f=c({},r,{type:e,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var _=this._events[e];if(_){this._firingCount=this._firingCount+1||1;for(var T=0,R=_.length;T<R;T++){var V=_[T],G=V.fn;V.once&&this.off(e,G,V.ctx),G.call(V.ctx||this,f)}this._firingCount--}}return u&&this._propagateEvent(f),this},listens:function(e,r,u,f){typeof e!="string"&&console.warn('"string" type argument expected');var _=r;typeof r!="function"&&(f=!!r,_=void 0,u=void 0);var T=this._events&&this._events[e];if(T&&T.length&&this._listens(e,_,u)!==!1)return!0;if(f){for(var R in this._eventParents)if(this._eventParents[R].listens(e,r,u,f))return!0}return!1},_listens:function(e,r,u){if(!this._events)return!1;var f=this._events[e]||[];if(!r)return!!f.length;u===this&&(u=void 0);for(var _=0,T=f.length;_<T;_++)if(f[_].fn===r&&f[_].ctx===u)return _;return!1},once:function(e,r,u){if(typeof e=="object")for(var f in e)this._on(f,e[f],r,!0);else{e=X(e);for(var _=0,T=e.length;_<T;_++)this._on(e[_],r,u,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[S(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[S(e)],this},_propagateEvent:function(e){for(var r in this._eventParents)this._eventParents[r].fire(e.type,c({layer:e.target,propagatedFrom:e.target},e),!0)}};ne.addEventListener=ne.on,ne.removeEventListener=ne.clearAllEventListeners=ne.off,ne.addOneTimeEventListener=ne.once,ne.fireEvent=ne.fire,ne.hasEventListeners=ne.listens;var Xt=Yt.extend(ne);function yt(e,r,u){this.x=u?Math.round(e):e,this.y=u?Math.round(r):r}var Ee=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};yt.prototype={clone:function(){return new yt(this.x,this.y)},add:function(e){return this.clone()._add(Et(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(Et(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new yt(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new yt(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ee(this.x),this.y=Ee(this.y),this},distanceTo:function(e){e=Et(e);var r=e.x-this.x,u=e.y-this.y;return Math.sqrt(r*r+u*u)},equals:function(e){return e=Et(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=Et(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+et(this.x)+", "+et(this.y)+")"}};function Et(e,r,u){return e instanceof yt?e:dt(e)?new yt(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new yt(e.x,e.y):new yt(e,r,u)}function Jt(e,r){if(e)for(var u=r?[e,r]:e,f=0,_=u.length;f<_;f++)this.extend(u[f])}Jt.prototype={extend:function(e){var r,u;if(!e)return this;if(e instanceof yt||typeof e[0]=="number"||"x"in e)r=u=Et(e);else if(e=Qt(e),r=e.min,u=e.max,!r||!u)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=u.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(e){return Et((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return Et(this.min.x,this.max.y)},getTopRight:function(){return Et(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var r,u;return typeof e[0]=="number"||e instanceof yt?e=Et(e):e=Qt(e),e instanceof Jt?(r=e.min,u=e.max):r=u=e,r.x>=this.min.x&&u.x<=this.max.x&&r.y>=this.min.y&&u.y<=this.max.y},intersects:function(e){e=Qt(e);var r=this.min,u=this.max,f=e.min,_=e.max,T=_.x>=r.x&&f.x<=u.x,R=_.y>=r.y&&f.y<=u.y;return T&&R},overlaps:function(e){e=Qt(e);var r=this.min,u=this.max,f=e.min,_=e.max,T=_.x>r.x&&f.x<u.x,R=_.y>r.y&&f.y<u.y;return T&&R},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var r=this.min,u=this.max,f=Math.abs(r.x-u.x)*e,_=Math.abs(r.y-u.y)*e;return Qt(Et(r.x-f,r.y-_),Et(u.x+f,u.y+_))},equals:function(e){return e?(e=Qt(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function Qt(e,r){return!e||e instanceof Jt?e:new Jt(e,r)}function Ft(e,r){if(e)for(var u=r?[e,r]:e,f=0,_=u.length;f<_;f++)this.extend(u[f])}Ft.prototype={extend:function(e){var r=this._southWest,u=this._northEast,f,_;if(e instanceof Rt)f=e,_=e;else if(e instanceof Ft){if(f=e._southWest,_=e._northEast,!f||!_)return this}else return e?this.extend(Bt(e)||te(e)):this;return!r&&!u?(this._southWest=new Rt(f.lat,f.lng),this._northEast=new Rt(_.lat,_.lng)):(r.lat=Math.min(f.lat,r.lat),r.lng=Math.min(f.lng,r.lng),u.lat=Math.max(_.lat,u.lat),u.lng=Math.max(_.lng,u.lng)),this},pad:function(e){var r=this._southWest,u=this._northEast,f=Math.abs(r.lat-u.lat)*e,_=Math.abs(r.lng-u.lng)*e;return new Ft(new Rt(r.lat-f,r.lng-_),new Rt(u.lat+f,u.lng+_))},getCenter:function(){return new Rt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Rt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Rt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof Rt||"lat"in e?e=Bt(e):e=te(e);var r=this._southWest,u=this._northEast,f,_;return e instanceof Ft?(f=e.getSouthWest(),_=e.getNorthEast()):f=_=e,f.lat>=r.lat&&_.lat<=u.lat&&f.lng>=r.lng&&_.lng<=u.lng},intersects:function(e){e=te(e);var r=this._southWest,u=this._northEast,f=e.getSouthWest(),_=e.getNorthEast(),T=_.lat>=r.lat&&f.lat<=u.lat,R=_.lng>=r.lng&&f.lng<=u.lng;return T&&R},overlaps:function(e){e=te(e);var r=this._southWest,u=this._northEast,f=e.getSouthWest(),_=e.getNorthEast(),T=_.lat>r.lat&&f.lat<u.lat,R=_.lng>r.lng&&f.lng<u.lng;return T&&R},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,r){return e?(e=te(e),this._southWest.equals(e.getSouthWest(),r)&&this._northEast.equals(e.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function te(e,r){return e instanceof Ft?e:new Ft(e,r)}function Rt(e,r,u){if(isNaN(e)||isNaN(r))throw new Error("Invalid LatLng object: ("+e+", "+r+")");this.lat=+e,this.lng=+r,u!==void 0&&(this.alt=+u)}Rt.prototype={equals:function(e,r){if(!e)return!1;e=Bt(e);var u=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return u<=(r===void 0?1e-9:r)},toString:function(e){return"LatLng("+et(this.lat,e)+", "+et(this.lng,e)+")"},distanceTo:function(e){return Ce.distance(this,Bt(e))},wrap:function(){return Ce.wrapLatLng(this)},toBounds:function(e){var r=180*e/40075017,u=r/Math.cos(Math.PI/180*this.lat);return te([this.lat-r,this.lng-u],[this.lat+r,this.lng+u])},clone:function(){return new Rt(this.lat,this.lng,this.alt)}};function Bt(e,r,u){return e instanceof Rt?e:dt(e)&&typeof e[0]!="object"?e.length===3?new Rt(e[0],e[1],e[2]):e.length===2?new Rt(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new Rt(e.lat,"lng"in e?e.lng:e.lon,e.alt):r===void 0?null:new Rt(e,r,u)}var be={latLngToPoint:function(e,r){var u=this.projection.project(e),f=this.scale(r);return this.transformation._transform(u,f)},pointToLatLng:function(e,r){var u=this.scale(r),f=this.transformation.untransform(e,u);return this.projection.unproject(f)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var r=this.projection.bounds,u=this.scale(e),f=this.transformation.transform(r.min,u),_=this.transformation.transform(r.max,u);return new Jt(f,_)},infinite:!1,wrapLatLng:function(e){var r=this.wrapLng?j(e.lng,this.wrapLng,!0):e.lng,u=this.wrapLat?j(e.lat,this.wrapLat,!0):e.lat,f=e.alt;return new Rt(u,r,f)},wrapLatLngBounds:function(e){var r=e.getCenter(),u=this.wrapLatLng(r),f=r.lat-u.lat,_=r.lng-u.lng;if(f===0&&_===0)return e;var T=e.getSouthWest(),R=e.getNorthEast(),V=new Rt(T.lat-f,T.lng-_),G=new Rt(R.lat-f,R.lng-_);return new Ft(V,G)}},Ce=c({},be,{wrapLng:[-180,180],R:6371e3,distance:function(e,r){var u=Math.PI/180,f=e.lat*u,_=r.lat*u,T=Math.sin((r.lat-e.lat)*u/2),R=Math.sin((r.lng-e.lng)*u/2),V=T*T+Math.cos(f)*Math.cos(_)*R*R,G=2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V));return this.R*G}}),si=6378137,Te={R:si,MAX_LATITUDE:85.0511287798,project:function(e){var r=Math.PI/180,u=this.MAX_LATITUDE,f=Math.max(Math.min(u,e.lat),-u),_=Math.sin(f*r);return new yt(this.R*e.lng*r,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(e){var r=180/Math.PI;return new Rt((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*r,e.x*r/this.R)},bounds:function(){var e=si*Math.PI;return new Jt([-e,-e],[e,e])}()};function dn(e,r,u,f){if(dt(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=r,this._c=u,this._d=f}dn.prototype={transform:function(e,r){return this._transform(e.clone(),r)},_transform:function(e,r){return r=r||1,e.x=r*(this._a*e.x+this._b),e.y=r*(this._c*e.y+this._d),e},untransform:function(e,r){return r=r||1,new yt((e.x/r-this._b)/this._a,(e.y/r-this._d)/this._c)}};function Oe(e,r,u,f){return new dn(e,r,u,f)}var Xe=c({},Ce,{code:"EPSG:3857",projection:Te,transformation:function(){var e=.5/(Math.PI*Te.R);return Oe(e,.5,-e,.5)}()}),yi=c({},Xe,{code:"EPSG:900913"});function wi(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Vn(e,r){var u="",f,_,T,R,V,G;for(f=0,T=e.length;f<T;f++){for(V=e[f],_=0,R=V.length;_<R;_++)G=V[_],u+=(_?"L":"M")+G.x+" "+G.y;u+=r?vt.svg?"z":"x":""}return u||"M0 0"}var In=document.documentElement.style,ke="ActiveXObject"in window,nr=ke&&!document.addEventListener,Ve="msLaunchUri"in navigator&&!("documentMode"in document),xn=He("webkit"),Ne=He("android"),Je=He("android 2")||He("android 3"),Qe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),gt=Ne&&He("Google")&&Qe<537&&!("AudioNode"in window),Zt=!!window.opera,ge=!Ve&&He("chrome"),Wn=He("gecko")&&!xn&&!Zt&&!ke,Ss=!ge&&He("safari"),ir=He("phantom"),Vr="OTransition"in In,Pn=navigator.platform.indexOf("Win")===0,tn=ke&&"transition"in In,pn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Je,Ln="MozPerspective"in In,oo=!window.L_DISABLE_3D&&(tn||pn||Ln)&&!Vr&&!ir,qn=typeof orientation<"u"||He("mobile"),rr=qn&&xn,Wr=qn&&pn,Cs=!window.PointerEvent&&window.MSPointerEvent,en=!!(window.PointerEvent||Cs),Zn="ontouchstart"in window||!!window.TouchEvent,sr=!window.L_NO_TOUCH&&(Zn||en),oi=qn&&Zt,ze=qn&&Wn,Ie=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,or=function(){var e=!1;try{var r=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",J,r),window.removeEventListener("testPassiveEventSupport",J,r)}catch{}return e}(),Di=function(){return!!document.createElement("canvas").getContext}(),Mi=!!(document.createElementNS&&wi("svg").createSVGRect),xe=!!Mi&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ai=!Mi&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var r=e.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),gn=navigator.platform.indexOf("Mac")===0,ui=navigator.platform.indexOf("Linux")===0;function He(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var vt={ie:ke,ielt9:nr,edge:Ve,webkit:xn,android:Ne,android23:Je,androidStock:gt,opera:Zt,chrome:ge,gecko:Wn,safari:Ss,phantom:ir,opera12:Vr,win:Pn,ie3d:tn,webkit3d:pn,gecko3d:Ln,any3d:oo,mobile:qn,mobileWebkit:rr,mobileWebkit3d:Wr,msPointer:Cs,pointer:en,touch:sr,touchNative:Zn,mobileOpera:oi,mobileGecko:ze,retina:Ie,passiveEvents:or,canvas:Di,svg:Mi,vml:ai,inlineSvg:xe,mac:gn,linux:ui},li=vt.msPointer?"MSPointerDown":"pointerdown",Is=vt.msPointer?"MSPointerMove":"pointermove",qr=vt.msPointer?"MSPointerUp":"pointerup",ar=vt.msPointer?"MSPointerCancel":"pointercancel",Zr={touchstart:li,touchmove:Is,touchend:qr,touchcancel:ar},Bi={touchstart:zi,touchmove:Gn,touchend:Gn,touchcancel:Gn},On={},Re=!1;function Gr(e,r,u){return r==="touchstart"&&xs(),Bi[r]?(u=Bi[r].bind(this,u),e.addEventListener(Zr[r],u,!1),u):(console.warn("wrong event specified:",r),J)}function ur(e,r,u){if(!Zr[r]){console.warn("wrong event specified:",r);return}e.removeEventListener(Zr[r],u,!1)}function Ui(e){On[e.pointerId]=e}function Ei(e){On[e.pointerId]&&(On[e.pointerId]=e)}function lr(e){delete On[e.pointerId]}function xs(){Re||(document.addEventListener(li,Ui,!0),document.addEventListener(Is,Ei,!0),document.addEventListener(qr,lr,!0),document.addEventListener(ar,lr,!0),Re=!0)}function Gn(e,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var u in On)r.touches.push(On[u]);r.changedTouches=[r],e(r)}}function zi(e,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&ce(r),Gn(e,r)}function Kr(e){var r={},u,f;for(f in e)u=e[f],r[f]=u&&u.bind?u.bind(e):u;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var cr=200;function bi(e,r){e.addEventListener("dblclick",r);var u=0,f;function _(T){if(T.detail!==1){f=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var R=_r(T);if(!(R.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!R.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var V=Date.now();V-u<=cr?(f++,f===2&&r(Kr(T))):f=1,u=V}}}return e.addEventListener("click",_),{dblclick:r,simDblclick:_}}function ci(e,r){e.removeEventListener("dblclick",r.dblclick),e.removeEventListener("click",r.simDblclick)}var hi=di(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Hi=di(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yr=Hi==="webkitTransition"||Hi==="OTransition"?Hi+"End":"transitionend";function hr(e){return typeof e=="string"?document.getElementById(e):e}function fi(e,r){var u=e.style[r]||e.currentStyle&&e.currentStyle[r];if((!u||u==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(e,null);u=f?f[r]:null}return u==="auto"?null:u}function jt(e,r,u){var f=document.createElement(e);return f.className=r||"",u&&u.appendChild(f),f}function se(e){var r=e.parentNode;r&&r.removeChild(e)}function ve(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function We(e){var r=e.parentNode;r&&r.lastChild!==e&&r.appendChild(e)}function kn(e){var r=e.parentNode;r&&r.firstChild!==e&&r.insertBefore(e,r.firstChild)}function Xr(e,r){if(e.classList!==void 0)return e.classList.contains(r);var u=Fe(e);return u.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(u)}function Dt(e,r){if(e.classList!==void 0)for(var u=X(r),f=0,_=u.length;f<_;f++)e.classList.add(u[f]);else if(!Xr(e,r)){var T=Fe(e);fr(e,(T?T+" ":"")+r)}}function ue(e,r){e.classList!==void 0?e.classList.remove(r):fr(e,ut((" "+Fe(e)+" ").replace(" "+r+" "," ")))}function fr(e,r){e.className.baseVal===void 0?e.className=r:e.className.baseVal=r}function Fe(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function de(e,r){"opacity"in e.style?e.style.opacity=r:"filter"in e.style&&dr(e,r)}function dr(e,r){var u=!1,f="DXImageTransform.Microsoft.Alpha";try{u=e.filters.item(f)}catch{if(r===1)return}r=Math.round(r*100),u?(u.Enabled=r!==100,u.Opacity=r):e.style.filter+=" progid:"+f+"(opacity="+r+")"}function di(e){for(var r=document.documentElement.style,u=0;u<e.length;u++)if(e[u]in r)return e[u];return!1}function ye(e,r,u){var f=r||new yt(0,0);e.style[hi]=(vt.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(u?" scale("+u+")":"")}function Lt(e,r){e._leaflet_pos=r,vt.any3d?ye(e,r):(e.style.left=r.x+"px",e.style.top=r.y+"px")}function De(e){return e._leaflet_pos||new yt(0,0)}var Nn,Rn,Dn;if("onselectstart"in document)Nn=function(){Ct(window,"selectstart",ce)},Rn=function(){ee(window,"selectstart",ce)};else{var qe=di(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Nn=function(){if(qe){var e=document.documentElement.style;Dn=e[qe],e[qe]="none"}},Rn=function(){qe&&(document.documentElement.style[qe]=Dn,Dn=void 0)}}function Fi(){Ct(window,"dragstart",ce)}function Jr(){ee(window,"dragstart",ce)}var Kn,pr;function Mn(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Ze(),Kn=e,pr=e.style.outlineStyle,e.style.outlineStyle="none",Ct(window,"keydown",Ze))}function Ze(){Kn&&(Kn.style.outlineStyle=pr,Kn=void 0,pr=void 0,ee(window,"keydown",Ze))}function gr(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function mr(e){var r=e.getBoundingClientRect();return{x:r.width/e.offsetWidth||1,y:r.height/e.offsetHeight||1,boundingClientRect:r}}var Qr={__proto__:null,TRANSFORM:hi,TRANSITION:Hi,TRANSITION_END:Yr,get:hr,getStyle:fi,create:jt,remove:se,empty:ve,toFront:We,toBack:kn,hasClass:Xr,addClass:Dt,removeClass:ue,setClass:fr,getClass:Fe,setOpacity:de,testProp:di,setTransform:ye,setPosition:Lt,getPosition:De,get disableTextSelection(){return Nn},get enableTextSelection(){return Rn},disableImageDrag:Fi,enableImageDrag:Jr,preventOutline:Mn,restoreOutline:Ze,getSizedParentNode:gr,getScale:mr};function Ct(e,r,u,f){if(r&&typeof r=="object")for(var _ in r)ts(e,_,r[_],u);else{r=X(r);for(var T=0,R=r.length;T<R;T++)ts(e,r[T],u,f)}return this}var mn="_leaflet_events";function ee(e,r,u,f){if(arguments.length===1)Ps(e),delete e[mn];else if(r&&typeof r=="object")for(var _ in r)es(e,_,r[_],u);else if(r=X(r),arguments.length===2)Ps(e,function(V){return ct(r,V)!==-1});else for(var T=0,R=r.length;T<R;T++)es(e,r[T],u,f);return this}function Ps(e,r){for(var u in e[mn]){var f=u.split(/\d/)[0];(!r||r(f))&&es(e,f,null,null,u)}}var _n={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ts(e,r,u,f){var _=r+S(u)+(f?"_"+S(f):"");if(e[mn]&&e[mn][_])return this;var T=function(V){return u.call(f||e,V||window.event)},R=T;!vt.touchNative&&vt.pointer&&r.indexOf("touch")===0?T=Gr(e,r,T):vt.touch&&r==="dblclick"?T=bi(e,T):"addEventListener"in e?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?e.addEventListener(_n[r]||r,T,vt.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(T=function(V){V=V||window.event,ji(e,V)&&R(V)},e.addEventListener(_n[r],T,!1)):e.addEventListener(r,R,!1):e.attachEvent("on"+r,T),e[mn]=e[mn]||{},e[mn][_]=T}function es(e,r,u,f,_){_=_||r+S(u)+(f?"_"+S(f):"");var T=e[mn]&&e[mn][_];if(!T)return this;!vt.touchNative&&vt.pointer&&r.indexOf("touch")===0?ur(e,r,T):vt.touch&&r==="dblclick"?ci(e,T):"removeEventListener"in e?e.removeEventListener(_n[r]||r,T,!1):e.detachEvent("on"+r,T),e[mn][_]=null}function vn(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Ti(e){return ts(e,"wheel",vn),this}function Ai(e){return Ct(e,"mousedown touchstart dblclick contextmenu",vn),e._leaflet_disable_click=!0,this}function ce(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function je(e){return ce(e),vn(e),this}function _r(e){if(e.composedPath)return e.composedPath();for(var r=[],u=e.target;u;)r.push(u),u=u.parentNode;return r}function Si(e,r){if(!r)return new yt(e.clientX,e.clientY);var u=mr(r),f=u.boundingClientRect;return new yt((e.clientX-f.left)/u.x-r.clientLeft,(e.clientY-f.top)/u.y-r.clientTop)}var he=vt.linux&&vt.chrome?window.devicePixelRatio:vt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ns(e){return vt.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/he:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function ji(e,r){var u=r.relatedTarget;if(!u)return!0;try{for(;u&&u!==e;)u=u.parentNode}catch{return!1}return u!==e}var Ls={__proto__:null,on:Ct,off:ee,stopPropagation:vn,disableScrollPropagation:Ti,disableClickPropagation:Ai,preventDefault:ce,stop:je,getPropagationPath:_r,getMousePosition:Si,getWheelDelta:ns,isExternalTarget:ji,addListener:Ct,removeListener:ee},is=Xt.extend({run:function(e,r,u,f){this.stop(),this._el=e,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=De(e),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(e){var r=+new Date-this._startTime,u=this._duration*1e3;r<u?this._runFrame(this._easeOut(r/u),e):(this._runFrame(1),this._complete())},_runFrame:function(e,r){var u=this._startPos.add(this._offset.multiplyBy(e));r&&u._round(),Lt(this._el,u),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Wt=Xt.extend({options:{crs:Xe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,r){r=Y(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=v(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(Bt(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Hi&&vt.any3d&&!vt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ct(this._proxy,Yr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,r,u){if(r=r===void 0?this._zoom:this._limitZoom(r),e=this._limitCenter(Bt(e),r,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=c({animate:u.animate},u.zoom),u.pan=c({animate:u.animate,duration:u.duration},u.pan));var f=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,r,u.zoom):this._tryAnimatedPan(e,u.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(e,r,u.pan&&u.pan.noMoveStart),this},setZoom:function(e,r){return this._loaded?this.setView(this.getCenter(),e,{zoom:r}):(this._zoom=e,this)},zoomIn:function(e,r){return e=e||(vt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,r)},zoomOut:function(e,r){return e=e||(vt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,r)},setZoomAround:function(e,r,u){var f=this.getZoomScale(r),_=this.getSize().divideBy(2),T=e instanceof yt?e:this.latLngToContainerPoint(e),R=T.subtract(_).multiplyBy(1-1/f),V=this.containerPointToLatLng(_.add(R));return this.setView(V,r,{zoom:u})},_getBoundsCenterZoom:function(e,r){r=r||{},e=e.getBounds?e.getBounds():te(e);var u=Et(r.paddingTopLeft||r.padding||[0,0]),f=Et(r.paddingBottomRight||r.padding||[0,0]),_=this.getBoundsZoom(e,!1,u.add(f));if(_=typeof r.maxZoom=="number"?Math.min(r.maxZoom,_):_,_===1/0)return{center:e.getCenter(),zoom:_};var T=f.subtract(u).divideBy(2),R=this.project(e.getSouthWest(),_),V=this.project(e.getNorthEast(),_),G=this.unproject(R.add(V).divideBy(2).add(T),_);return{center:G,zoom:_}},fitBounds:function(e,r){if(e=te(e),!e.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(e,r);return this.setView(u.center,u.zoom,r)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,r){return this.setView(e,this._zoom,{pan:r})},panBy:function(e,r){if(e=Et(e).round(),r=r||{},!e.x&&!e.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new is,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){Dt(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,u,r.duration||.25,r.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,r,u){if(u=u||{},u.animate===!1||!vt.any3d)return this.setView(e,r,u);this._stop();var f=this.project(this.getCenter()),_=this.project(e),T=this.getSize(),R=this._zoom;e=Bt(e),r=r===void 0?R:r;var V=Math.max(T.x,T.y),G=V*this.getZoomScale(R,r),nt=_.distanceTo(f)||1,pt=1.42,Ot=pt*pt;function Gt(Pe){var Ho=Pe?-1:1,Vd=Pe?G:V,Wd=G*G-V*V+Ho*Ot*Ot*nt*nt,qd=2*Vd*Ot*nt,Ba=Wd/qd,Ol=Math.sqrt(Ba*Ba+1)-Ba,Zd=Ol<1e-9?-18:Math.log(Ol);return Zd}function an(Pe){return(Math.exp(Pe)-Math.exp(-Pe))/2}function Be(Pe){return(Math.exp(Pe)+Math.exp(-Pe))/2}function Jn(Pe){return an(Pe)/Be(Pe)}var En=Gt(0);function Rs(Pe){return V*(Be(En)/Be(En+pt*Pe))}function Hd(Pe){return V*(Be(En)*Jn(En+pt*Pe)-an(En))/Ot}function Fd(Pe){return 1-Math.pow(1-Pe,1.5)}var jd=Date.now(),Pl=(Gt(1)-En)/pt,$d=u.duration?1e3*u.duration:1e3*Pl*.8;function Ll(){var Pe=(Date.now()-jd)/$d,Ho=Fd(Pe)*Pl;Pe<=1?(this._flyToFrame=D(Ll,this),this._move(this.unproject(f.add(_.subtract(f).multiplyBy(Hd(Ho)/nt)),R),this.getScaleZoom(V/Rs(Ho),R),{flyTo:!0})):this._move(e,r)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Ll.call(this),this},flyToBounds:function(e,r){var u=this._getBoundsCenterZoom(e,r);return this.flyTo(u.center,u.zoom,r)},setMaxBounds:function(e){return e=te(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var r=this.options.minZoom;return this.options.minZoom=e,this._loaded&&r!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var r=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&r!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,r){this._enforcingBounds=!0;var u=this.getCenter(),f=this._limitCenter(u,this._zoom,te(e));return u.equals(f)||this.panTo(f,r),this._enforcingBounds=!1,this},panInside:function(e,r){r=r||{};var u=Et(r.paddingTopLeft||r.padding||[0,0]),f=Et(r.paddingBottomRight||r.padding||[0,0]),_=this.project(this.getCenter()),T=this.project(e),R=this.getPixelBounds(),V=Qt([R.min.add(u),R.max.subtract(f)]),G=V.getSize();if(!V.contains(T)){this._enforcingBounds=!0;var nt=T.subtract(V.getCenter()),pt=V.extend(T).getSize().subtract(G);_.x+=nt.x<0?-pt.x:pt.x,_.y+=nt.y<0?-pt.y:pt.y,this.panTo(this.unproject(_),r),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=c({animate:!1,pan:!0},e===!0?{animate:!0}:e);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),f=r.divideBy(2).round(),_=u.divideBy(2).round(),T=f.subtract(_);return!T.x&&!T.y?this:(e.animate&&e.pan?this.panBy(T):(e.pan&&this._rawPanBy(T),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(v(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=c({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=v(this._handleGeolocationResponse,this),u=v(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,u,e):navigator.geolocation.getCurrentPosition(r,u,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var r=e.code,u=e.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var r=e.coords.latitude,u=e.coords.longitude,f=new Rt(r,u),_=f.toBounds(e.coords.accuracy*2),T=this._locateOptions;if(T.setView){var R=this.getBoundsZoom(_);this.setView(f,T.maxZoom?Math.min(R,T.maxZoom):R)}var V={latlng:f,bounds:_,timestamp:e.timestamp};for(var G in e.coords)typeof e.coords[G]=="number"&&(V[G]=e.coords[G]);this.fire("locationfound",V)}},addHandler:function(e,r){if(!r)return this;var u=this[e]=new r(this);return this._handlers.push(u),this.options[e]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)se(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,r){var u="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),f=jt("div",u,r||this._mapPane);return e&&(this._panes[e]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),r=this.unproject(e.getBottomLeft()),u=this.unproject(e.getTopRight());return new Ft(r,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,r,u){e=te(e),u=Et(u||[0,0]);var f=this.getZoom()||0,_=this.getMinZoom(),T=this.getMaxZoom(),R=e.getNorthWest(),V=e.getSouthEast(),G=this.getSize().subtract(u),nt=Qt(this.project(V,f),this.project(R,f)).getSize(),pt=vt.any3d?this.options.zoomSnap:1,Ot=G.x/nt.x,Gt=G.y/nt.y,an=r?Math.max(Ot,Gt):Math.min(Ot,Gt);return f=this.getScaleZoom(an,f),pt&&(f=Math.round(f/(pt/100))*(pt/100),f=r?Math.ceil(f/pt)*pt:Math.floor(f/pt)*pt),Math.max(_,Math.min(T,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new yt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,r){var u=this._getTopLeftPoint(e,r);return new Jt(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,r){var u=this.options.crs;return r=r===void 0?this._zoom:r,u.scale(e)/u.scale(r)},getScaleZoom:function(e,r){var u=this.options.crs;r=r===void 0?this._zoom:r;var f=u.zoom(e*u.scale(r));return isNaN(f)?1/0:f},project:function(e,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(Bt(e),r)},unproject:function(e,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(Et(e),r)},layerPointToLatLng:function(e){var r=Et(e).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(e){var r=this.project(Bt(e))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(Bt(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(te(e))},distance:function(e,r){return this.options.crs.distance(Bt(e),Bt(r))},containerPointToLayerPoint:function(e){return Et(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return Et(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var r=this.containerPointToLayerPoint(Et(e));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Bt(e)))},mouseEventToContainerPoint:function(e){return Si(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var r=this._container=hr(e);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ct(r,"scroll",this._onScroll,this),this._containerId=S(r)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&vt.any3d,Dt(e,"leaflet-container"+(vt.touch?" leaflet-touch":"")+(vt.retina?" leaflet-retina":"")+(vt.ielt9?" leaflet-oldie":"")+(vt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=fi(e,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Lt(this._mapPane,new yt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Dt(e.markerPane,"leaflet-zoom-hide"),Dt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,r,u){Lt(this._mapPane,new yt(0,0));var f=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var _=this._zoom!==r;this._moveStart(_,u)._move(e,r)._moveEnd(_),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(e,r){return e&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(e,r,u,f){r===void 0&&(r=this._zoom);var _=this._zoom!==r;return this._zoom=r,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),f?u&&u.pinch&&this.fire("zoom",u):((_||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Lt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[S(this._container)]=this;var r=e?ee:Ct;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),vt.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,r){for(var u=[],f,_=r==="mouseout"||r==="mouseover",T=e.target||e.srcElement,R=!1;T;){if(f=this._targets[S(T)],f&&(r==="click"||r==="preclick")&&this._draggableMoved(f)){R=!0;break}if(f&&f.listens(r,!0)&&(_&&!ji(T,e)||(u.push(f),_))||T===this._container)break;T=T.parentNode}return!u.length&&!R&&!_&&this.listens(r,!0)&&(u=[this]),u},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var r=e.target||e.srcElement;if(!(!this._loaded||r._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(r))){var u=e.type;u==="mousedown"&&Mn(r),this._fireDOMEvent(e,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,r,u){if(e.type==="click"){var f=c({},e);f.type="preclick",this._fireDOMEvent(f,f.type,u)}var _=this._findEventTargets(e,r);if(u){for(var T=[],R=0;R<u.length;R++)u[R].listens(r,!0)&&T.push(u[R]);_=T.concat(_)}if(_.length){r==="contextmenu"&&ce(e);var V=_[0],G={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var nt=V.getLatLng&&(!V._radius||V._radius<=10);G.containerPoint=nt?this.latLngToContainerPoint(V.getLatLng()):this.mouseEventToContainerPoint(e),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=nt?V.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(R=0;R<_.length;R++)if(_[R].fire(r,G,!0),G.originalEvent._stopped||_[R].options.bubblingMouseEvents===!1&&ct(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,r=this._handlers.length;e<r;e++)this._handlers[e].disable()},whenReady:function(e,r){return this._loaded?e.call(r||this,{target:this}):this.on("load",e,r),this},_getMapPanePos:function(){return De(this._mapPane)||new yt(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,r){var u=e&&r!==void 0?this._getNewPixelOrigin(e,r):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,r){var u=this.getSize()._divideBy(2);return this.project(e,r)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,r,u){var f=this._getNewPixelOrigin(u,r);return this.project(e,r)._subtract(f)},_latLngBoundsToNewLayerBounds:function(e,r,u){var f=this._getNewPixelOrigin(u,r);return Qt([this.project(e.getSouthWest(),r)._subtract(f),this.project(e.getNorthWest(),r)._subtract(f),this.project(e.getSouthEast(),r)._subtract(f),this.project(e.getNorthEast(),r)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,r,u){if(!u)return e;var f=this.project(e,r),_=this.getSize().divideBy(2),T=new Jt(f.subtract(_),f.add(_)),R=this._getBoundsOffset(T,u,r);return Math.abs(R.x)<=1&&Math.abs(R.y)<=1?e:this.unproject(f.add(R),r)},_limitOffset:function(e,r){if(!r)return e;var u=this.getPixelBounds(),f=new Jt(u.min.add(e),u.max.add(e));return e.add(this._getBoundsOffset(f,r))},_getBoundsOffset:function(e,r,u){var f=Qt(this.project(r.getNorthEast(),u),this.project(r.getSouthWest(),u)),_=f.min.subtract(e.min),T=f.max.subtract(e.max),R=this._rebound(_.x,-T.x),V=this._rebound(_.y,-T.y);return new yt(R,V)},_rebound:function(e,r){return e+r>0?Math.round(e-r)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(r))},_limitZoom:function(e){var r=this.getMinZoom(),u=this.getMaxZoom(),f=vt.any3d?this.options.zoomSnap:1;return f&&(e=Math.round(e/f)*f),Math.max(r,Math.min(u,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ue(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,r){var u=this._getCenterOffset(e)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,r),!0)},_createAnimProxy:function(){var e=this._proxy=jt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(r){var u=hi,f=this._proxy.style[u];ye(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),f===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),r=this.getZoom();ye(this._proxy,this.project(e,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,r,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(r),_=this._getCenterOffset(e)._divideBy(1-1/f);return u.animate!==!0&&!this.getSize().contains(_)?!1:(D(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(e,r,!0)},this),!0)},_animateZoom:function(e,r,u,f){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=r,Dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:r,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(v(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ue(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Yn(e,r){return new Wt(e,r)}var $e=Yt.extend({options:{position:"topright"},initialize:function(e){Y(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var r=this._map;return r&&r.removeControl(this),this.options.position=e,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var r=this._container=this.onAdd(e),u=this.getPosition(),f=e._controlCorners[u];return Dt(r,"leaflet-control"),u.indexOf("bottom")!==-1?f.insertBefore(r,f.firstChild):f.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Le=function(e){return new $e(e)};Wt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},r="leaflet-",u=this._controlContainer=jt("div",r+"control-container",this._container);function f(_,T){var R=r+_+" "+r+T;e[_+T]=jt("div",R,u)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)se(this._controlCorners[e]);se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var rs=$e.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,r,u,f){return u<f?-1:f<u?1:0}},initialize:function(e,r,u){Y(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in e)this._addLayer(e[f],f);for(f in r)this._addLayer(r[f],f,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return $e.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,r){return this._addLayer(e,r),this._map?this._update():this},addOverlay:function(e,r){return this._addLayer(e,r,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var r=this._getLayer(S(e));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){Dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(Dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ue(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ue(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",r=this._container=jt("div",e),u=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Ai(r),Ti(r);var f=this._section=jt("section",e+"-list");u&&(this._map.on("click",this.collapse,this),Ct(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=jt("a",e+"-toggle",r);_.href="#",_.title="Layers",_.setAttribute("role","button"),Ct(_,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){ce(T),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=jt("div",e+"-base",f),this._separator=jt("div",e+"-separator",f),this._overlaysList=jt("div",e+"-overlays",f),r.appendChild(f)},_getLayer:function(e){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&S(this._layers[r].layer)===e)return this._layers[r]},_addLayer:function(e,r,u){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:r,overlay:u}),this.options.sortLayers&&this._layers.sort(v(function(f,_){return this.options.sortFunction(f.layer,_.layer,f.name,_.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ve(this._baseLayersList),ve(this._overlaysList),this._layerControlInputs=[];var e,r,u,f,_=0;for(u=0;u<this._layers.length;u++)f=this._layers[u],this._addItem(f),r=r||f.overlay,e=e||!f.overlay,_+=f.overlay?0:1;return this.options.hideSingleBase&&(e=e&&_>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=r&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var r=this._getLayer(S(e.target)),u=r.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;u&&this._map.fire(u,r)},_createRadioElement:function(e,r){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(r?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=u,f.firstChild},_addItem:function(e){var r=document.createElement("label"),u=this._map.hasLayer(e.layer),f;e.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=u):f=this._createRadioElement("leaflet-base-layers_"+S(this),u),this._layerControlInputs.push(f),f.layerId=S(e.layer),Ct(f,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+e.name;var T=document.createElement("span");r.appendChild(T),T.appendChild(f),T.appendChild(_);var R=e.overlay?this._overlaysList:this._baseLayersList;return R.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,r,u,f=[],_=[];this._handlingClick=!0;for(var T=e.length-1;T>=0;T--)r=e[T],u=this._getLayer(r.layerId).layer,r.checked?f.push(u):r.checked||_.push(u);for(T=0;T<_.length;T++)this._map.hasLayer(_[T])&&this._map.removeLayer(_[T]);for(T=0;T<f.length;T++)this._map.hasLayer(f[T])||this._map.addLayer(f[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,r,u,f=this._map.getZoom(),_=e.length-1;_>=0;_--)r=e[_],u=this._getLayer(r.layerId).layer,r.disabled=u.options.minZoom!==void 0&&f<u.options.minZoom||u.options.maxZoom!==void 0&&f>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Ct(e,"click",ce),this.expand();var r=this;setTimeout(function(){ee(e,"click",ce),r._preventClick=!1})}}),ao=function(e,r,u){return new rs(e,r,u)},pi=$e.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var r="leaflet-control-zoom",u=jt("div",r+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,r+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,r+"-out",u,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,r,u,f,_){var T=jt("a",u,f);return T.innerHTML=e,T.href="#",T.title=r,T.setAttribute("role","button"),T.setAttribute("aria-label",r),Ai(T),Ct(T,"click",je),Ct(T,"click",_,this),Ct(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var e=this._map,r="leaflet-disabled";ue(this._zoomInButton,r),ue(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(Dt(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(Dt(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Wt.mergeOptions({zoomControl:!0}),Wt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new pi,this.addControl(this.zoomControl))});var s=function(e){return new pi(e)},l=$e.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var r="leaflet-control-scale",u=jt("div",r),f=this.options;return this._addScales(f,r+"-line",u),e.on(f.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),u},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,r,u){e.metric&&(this._mScale=jt("div",r,u)),e.imperial&&(this._iScale=jt("div",r,u))},_update:function(){var e=this._map,r=e.getSize().y/2,u=e.distance(e.containerPointToLatLng([0,r]),e.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(u)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var r=this._getRoundNum(e),u=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,u,r/e)},_updateImperial:function(e){var r=e*3.2808399,u,f,_;r>5280?(u=r/5280,f=this._getRoundNum(u),this._updateScale(this._iScale,f+" mi",f/u)):(_=this._getRoundNum(r),this._updateScale(this._iScale,_+" ft",_/r))},_updateScale:function(e,r,u){e.style.width=Math.round(this.options.maxWidth*u)+"px",e.innerHTML=r},_getRoundNum:function(e){var r=Math.pow(10,(Math.floor(e)+"").length-1),u=e/r;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,r*u}}),d=function(e){return new l(e)},m='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',w=$e.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(vt.inlineSvg?m+" ":"")+"Leaflet</a>"},initialize:function(e){Y(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=jt("div","leaflet-control-attribution"),Ai(this._container);for(var r in e._layers)e._layers[r].getAttribution&&this.addAttribution(e._layers[r].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var r in this._attributions)this._attributions[r]&&e.push(r);var u=[];this.options.prefix&&u.push(this.options.prefix),e.length&&u.push(e.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Wt.mergeOptions({attributionControl:!0}),Wt.addInitHook(function(){this.options.attributionControl&&new w().addTo(this)});var E=function(e){return new w(e)};$e.Layers=rs,$e.Zoom=pi,$e.Scale=l,$e.Attribution=w,Le.layers=ao,Le.zoom=s,Le.scale=d,Le.attribution=E;var b=Yt.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});b.addTo=function(e,r){return e.addHandler(r,this),this};var N={Events:ne},k=vt.touch?"touchstart mousedown":"mousedown",z=Xt.extend({options:{clickTolerance:3},initialize:function(e,r,u,f){Y(this,f),this._element=e,this._dragStartTarget=r||e,this._preventOutline=u},enable:function(){this._enabled||(Ct(this._dragStartTarget,k,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(z._dragging===this&&this.finishDrag(!0),ee(this._dragStartTarget,k,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Xr(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){z._dragging===this&&this.finishDrag();return}if(!(z._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(z._dragging=this,this._preventOutline&&Mn(this._element),Fi(),Nn(),!this._moving)){this.fire("down");var r=e.touches?e.touches[0]:e,u=gr(this._element);this._startPoint=new yt(r.clientX,r.clientY),this._startPos=De(this._element),this._parentScale=mr(u);var f=e.type==="mousedown";Ct(document,f?"mousemove":"touchmove",this._onMove,this),Ct(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var r=e.touches&&e.touches.length===1?e.touches[0]:e,u=new yt(r.clientX,r.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,ce(e),this._moved||(this.fire("dragstart"),this._moved=!0,Dt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Lt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ue(document.body,"leaflet-dragging"),this._lastTarget&&(ue(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ee(document,"mousemove touchmove",this._onMove,this),ee(document,"mouseup touchend touchcancel",this._onUp,this),Jr(),Rn();var r=this._moved&&this._moving;this._moving=!1,z._dragging=!1,r&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function K(e,r,u){var f,_=[1,4,2,8],T,R,V,G,nt,pt,Ot,Gt;for(T=0,pt=e.length;T<pt;T++)e[T]._code=Ut(e[T],r);for(V=0;V<4;V++){for(Ot=_[V],f=[],T=0,pt=e.length,R=pt-1;T<pt;R=T++)G=e[T],nt=e[R],G._code&Ot?nt._code&Ot||(Gt=rn(nt,G,Ot,r,u),Gt._code=Ut(Gt,r),f.push(Gt)):(nt._code&Ot&&(Gt=rn(nt,G,Ot,r,u),Gt._code=Ut(Gt,r),f.push(Gt)),f.push(G));e=f}return e}function Q(e,r){var u,f,_,T,R,V,G,nt,pt;if(!e||e.length===0)throw new Error("latlngs not passed");g(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Ot=Bt([0,0]),Gt=te(e),an=Gt.getNorthWest().distanceTo(Gt.getSouthWest())*Gt.getNorthEast().distanceTo(Gt.getNorthWest());an<1700&&(Ot=W(e));var Be=e.length,Jn=[];for(u=0;u<Be;u++){var En=Bt(e[u]);Jn.push(r.project(Bt([En.lat-Ot.lat,En.lng-Ot.lng])))}for(V=G=nt=0,u=0,f=Be-1;u<Be;f=u++)_=Jn[u],T=Jn[f],R=_.y*T.x-T.y*_.x,G+=(_.x+T.x)*R,nt+=(_.y+T.y)*R,V+=R*3;V===0?pt=Jn[0]:pt=[G/V,nt/V];var Rs=r.unproject(Et(pt));return Bt([Rs.lat+Ot.lat,Rs.lng+Ot.lng])}function W(e){for(var r=0,u=0,f=0,_=0;_<e.length;_++){var T=Bt(e[_]);r+=T.lat,u+=T.lng,f++}return Bt([r/f,u/f])}var it={__proto__:null,clipPolygon:K,polygonCenter:Q,centroid:W};function Tt(e,r){if(!r||!e.length)return e.slice();var u=r*r;return e=nn(e,u),e=we(e,u),e}function $t(e,r,u){return Math.sqrt(a(e,r,u,!0))}function xt(e,r,u){return a(e,r,u)}function we(e,r){var u=e.length,f=typeof Uint8Array<"u"?Uint8Array:Array,_=new f(u);_[0]=_[u-1]=1,fe(e,_,r,0,u-1);var T,R=[];for(T=0;T<u;T++)_[T]&&R.push(e[T]);return R}function fe(e,r,u,f,_){var T=0,R,V,G;for(V=f+1;V<=_-1;V++)G=a(e[V],e[f],e[_],!0),G>T&&(R=V,T=G);T>u&&(r[R]=1,fe(e,r,u,f,R),fe(e,r,u,R,_))}function nn(e,r){for(var u=[e[0]],f=1,_=0,T=e.length;f<T;f++)ie(e[f],e[_])>r&&(u.push(e[f]),_=f);return _<T-1&&u.push(e[T-1]),u}var Ge;function At(e,r,u,f,_){var T=f?Ge:Ut(e,u),R=Ut(r,u),V,G,nt;for(Ge=R;;){if(!(T|R))return[e,r];if(T&R)return!1;V=T||R,G=rn(e,r,V,u,_),nt=Ut(G,u),V===T?(e=G,T=nt):(r=G,R=nt)}}function rn(e,r,u,f,_){var T=r.x-e.x,R=r.y-e.y,V=f.min,G=f.max,nt,pt;return u&8?(nt=e.x+T*(G.y-e.y)/R,pt=G.y):u&4?(nt=e.x+T*(V.y-e.y)/R,pt=V.y):u&2?(nt=G.x,pt=e.y+R*(G.x-e.x)/T):u&1&&(nt=V.x,pt=e.y+R*(V.x-e.x)/T),new yt(nt,pt,_)}function Ut(e,r){var u=0;return e.x<r.min.x?u|=1:e.x>r.max.x&&(u|=2),e.y<r.min.y?u|=4:e.y>r.max.y&&(u|=8),u}function ie(e,r){var u=r.x-e.x,f=r.y-e.y;return u*u+f*f}function a(e,r,u,f){var _=r.x,T=r.y,R=u.x-_,V=u.y-T,G=R*R+V*V,nt;return G>0&&(nt=((e.x-_)*R+(e.y-T)*V)/G,nt>1?(_=u.x,T=u.y):nt>0&&(_+=R*nt,T+=V*nt)),R=e.x-_,V=e.y-T,f?R*R+V*V:new yt(_,T)}function g(e){return!dt(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function y(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),g(e)}function C(e,r){var u,f,_,T,R,V,G,nt;if(!e||e.length===0)throw new Error("latlngs not passed");g(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var pt=Bt([0,0]),Ot=te(e),Gt=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());Gt<1700&&(pt=W(e));var an=e.length,Be=[];for(u=0;u<an;u++){var Jn=Bt(e[u]);Be.push(r.project(Bt([Jn.lat-pt.lat,Jn.lng-pt.lng])))}for(u=0,f=0;u<an-1;u++)f+=Be[u].distanceTo(Be[u+1])/2;if(f===0)nt=Be[0];else for(u=0,T=0;u<an-1;u++)if(R=Be[u],V=Be[u+1],_=R.distanceTo(V),T+=_,T>f){G=(T-f)/_,nt=[V.x-G*(V.x-R.x),V.y-G*(V.y-R.y)];break}var En=r.unproject(Et(nt));return Bt([En.lat+pt.lat,En.lng+pt.lng])}var F={__proto__:null,simplify:Tt,pointToSegmentDistance:$t,closestPointOnSegment:xt,clipSegment:At,_getEdgeIntersection:rn,_getBitCode:Ut,_sqClosestPointOnSegment:a,isFlat:g,_flat:y,polylineCenter:C},q={project:function(e){return new yt(e.lng,e.lat)},unproject:function(e){return new Rt(e.y,e.x)},bounds:new Jt([-180,-90],[180,90])},st={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Jt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var r=Math.PI/180,u=this.R,f=e.lat*r,_=this.R_MINOR/u,T=Math.sqrt(1-_*_),R=T*Math.sin(f),V=Math.tan(Math.PI/4-f/2)/Math.pow((1-R)/(1+R),T/2);return f=-u*Math.log(Math.max(V,1e-10)),new yt(e.lng*r*u,f)},unproject:function(e){for(var r=180/Math.PI,u=this.R,f=this.R_MINOR/u,_=Math.sqrt(1-f*f),T=Math.exp(-e.y/u),R=Math.PI/2-2*Math.atan(T),V=0,G=.1,nt;V<15&&Math.abs(G)>1e-7;V++)nt=_*Math.sin(R),nt=Math.pow((1-nt)/(1+nt),_/2),G=Math.PI/2-2*Math.atan(T*nt)-R,R+=G;return new Rt(R*r,e.x*r/u)}},Ht={__proto__:null,LonLat:q,Mercator:st,SphericalMercator:Te},me=c({},Ce,{code:"EPSG:3395",projection:st,transformation:function(){var e=.5/(Math.PI*st.R);return Oe(e,.5,-e,.5)}()}),Mt=c({},Ce,{code:"EPSG:4326",projection:q,transformation:Oe(1/180,1,-1/180,.5)}),le=c({},be,{projection:q,transformation:Oe(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,r){var u=r.lng-e.lng,f=r.lat-e.lat;return Math.sqrt(u*u+f*f)},infinite:!0});be.Earth=Ce,be.EPSG3395=me,be.EPSG3857=Xe,be.EPSG900913=yi,be.EPSG4326=Mt,be.Simple=le;var oe=Xt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[S(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[S(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var r=e.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var u=this.getEvents();r.on(u,this),this.once("remove",function(){r.off(u,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Wt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var r=S(e);return this._layers[r]?this:(this._layers[r]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var r=S(e);return this._layers[r]?(this._loaded&&e.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return S(e)in this._layers},eachLayer:function(e,r){for(var u in this._layers)e.call(r,this._layers[u]);return this},_addLayers:function(e){e=e?dt(e)?e:[e]:[];for(var r=0,u=e.length;r<u;r++)this.addLayer(e[r])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[S(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var r=S(e);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,r=-1/0,u=this._getZoomSpan();for(var f in this._zoomBoundLayers){var _=this._zoomBoundLayers[f].options;e=_.minZoom===void 0?e:Math.min(e,_.minZoom),r=_.maxZoom===void 0?r:Math.max(r,_.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=e===1/0?void 0:e,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var sn=oe.extend({initialize:function(e,r){Y(this,r),this._layers={};var u,f;if(e)for(u=0,f=e.length;u<f;u++)this.addLayer(e[u])},addLayer:function(e){var r=this.getLayerId(e);return this._layers[r]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var r=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(e){var r=typeof e=="number"?e:this.getLayerId(e);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var r=Array.prototype.slice.call(arguments,1),u,f;for(u in this._layers)f=this._layers[u],f[e]&&f[e].apply(f,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,r){for(var u in this._layers)e.call(r,this._layers[u]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return S(e)}}),on=function(e,r){return new sn(e,r)},zt=sn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),sn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),sn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new Ft;for(var r in this._layers){var u=this._layers[r];e.extend(u.getBounds?u.getBounds():u.getLatLng())}return e}}),Ci=function(e,r){return new zt(e,r)},Me=Yt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){Y(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,r){var u=this._getIconUrl(e);if(!u){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(u,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(f,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(e,r){var u=this.options,f=u[r+"Size"];typeof f=="number"&&(f=[f,f]);var _=Et(f),T=Et(r==="shadow"&&u.shadowAnchor||u.iconAnchor||_&&_.divideBy(2,!0));e.className="leaflet-marker-"+r+" "+(u.className||""),T&&(e.style.marginLeft=-T.x+"px",e.style.marginTop=-T.y+"px"),_&&(e.style.width=_.x+"px",e.style.height=_.y+"px")},_createImg:function(e,r){return r=r||document.createElement("img"),r.src=e,r},_getIconUrl:function(e){return vt.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function vr(e){return new Me(e)}var ss=Me.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof ss.imagePath!="string"&&(ss.imagePath=this._detectIconPath()),(this.options.imagePath||ss.imagePath)+Me.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var r=function(u,f,_){var T=f.exec(u);return T&&T[_]};return e=r(e,/^url\((['"])?(.+)\1\)$/,2),e&&r(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=jt("div","leaflet-default-icon-path",document.body),r=fi(e,"background-image")||fi(e,"backgroundImage");if(document.body.removeChild(e),r=this._stripUrl(r),r)return r;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Mo=b.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new z(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Dt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ue(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var r=this._marker,u=r._map,f=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,T=De(r._icon),R=u.getPixelBounds(),V=u.getPixelOrigin(),G=Qt(R.min._subtract(V).add(_),R.max._subtract(V).subtract(_));if(!G.contains(T)){var nt=Et((Math.max(G.max.x,T.x)-G.max.x)/(R.max.x-G.max.x)-(Math.min(G.min.x,T.x)-G.min.x)/(R.min.x-G.min.x),(Math.max(G.max.y,T.y)-G.max.y)/(R.max.y-G.max.y)-(Math.min(G.min.y,T.y)-G.min.y)/(R.min.y-G.min.y)).multiplyBy(f);u.panBy(nt,{animate:!1}),this._draggable._newPos._add(nt),this._draggable._startPos._add(nt),Lt(r._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=D(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,e)))},_onDrag:function(e){var r=this._marker,u=r._shadow,f=De(r._icon),_=r._map.layerPointToLatLng(f);u&&Lt(u,f),r._latlng=_,e.latlng=_,e.oldLatLng=this._oldLatLng,r.fire("move",e).fire("drag",e)},_onDragEnd:function(e){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),os=oe.extend({options:{icon:new ss,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,r){Y(this,r),this._latlng=Bt(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var r=this._latlng;return this._latlng=Bt(e),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=e.icon.createIcon(this._icon),f=!1;u!==this._icon&&(this._icon&&this._removeIcon(),f=!0,e.title&&(u.title=e.title),u.tagName==="IMG"&&(u.alt=e.alt||"")),Dt(u,r),e.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(u,"focus",this._panOnFocus,this);var _=e.icon.createShadow(this._shadow),T=!1;_!==this._shadow&&(this._removeShadow(),T=!0),_&&(Dt(_,r),_.alt=""),this._shadow=_,e.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&T&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(this._icon,"focus",this._panOnFocus,this),se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&se(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Lt(this._icon,e),this._shadow&&Lt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(Dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mo)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mo(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&de(this._icon,e),this._shadow&&de(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var r=this.options.icon.options,u=r.iconSize?Et(r.iconSize):Et(0,0),f=r.iconAnchor?Et(r.iconAnchor):Et(0,0);e.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:u.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $i(e,r){return new os(e,r)}var Xn=oe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return Y(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Bn=Xn.extend({options:{fill:!0,radius:10},initialize:function(e,r){Y(this,r),this._latlng=Bt(e),this._radius=this.options.radius},setLatLng:function(e){var r=this._latlng;return this._latlng=Bt(e),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var r=e&&e.radius||this._radius;return Xn.prototype.setStyle.call(this,e),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,r=this._radiusY||e,u=this._clickTolerance(),f=[e+u,r+u];this._pxBounds=new Jt(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Bo(e,r){return new Bn(e,r)}var Vi=Bn.extend({initialize:function(e,r,u){if(typeof r=="number"&&(r=c({},u,{radius:r})),Y(this,r),this._latlng=Bt(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new Ft(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Xn.prototype.setStyle,_project:function(){var e=this._latlng.lng,r=this._latlng.lat,u=this._map,f=u.options.crs;if(f.distance===Ce.distance){var _=Math.PI/180,T=this._mRadius/Ce.R/_,R=u.project([r+T,e]),V=u.project([r-T,e]),G=R.add(V).divideBy(2),nt=u.unproject(G).lat,pt=Math.acos((Math.cos(T*_)-Math.sin(r*_)*Math.sin(nt*_))/(Math.cos(r*_)*Math.cos(nt*_)))/_;(isNaN(pt)||pt===0)&&(pt=T/Math.cos(Math.PI/180*r)),this._point=G.subtract(u.getPixelOrigin()),this._radius=isNaN(pt)?0:G.x-u.project([nt,e-pt]).x,this._radiusY=G.y-R.y}else{var Ot=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(Ot).x}this._updateBounds()}});function Os(e,r,u){return new Vi(e,r,u)}var yn=Xn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,r){Y(this,r),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var r=1/0,u=null,f=a,_,T,R=0,V=this._parts.length;R<V;R++)for(var G=this._parts[R],nt=1,pt=G.length;nt<pt;nt++){_=G[nt-1],T=G[nt];var Ot=f(e,_,T,!0);Ot<r&&(r=Ot,u=f(e,_,T))}return u&&(u.distance=Math.sqrt(r)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return C(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,r){return r=r||this._defaultShape(),e=Bt(e),r.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new Ft,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return g(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var r=[],u=g(e),f=0,_=e.length;f<_;f++)u?(r[f]=Bt(e[f]),this._bounds.extend(r[f])):r[f]=this._convertLatLngs(e[f]);return r},_project:function(){var e=new Jt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),r=new yt(e,e);this._rawPxBounds&&(this._pxBounds=new Jt([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(e,r,u){var f=e[0]instanceof Rt,_=e.length,T,R;if(f){for(R=[],T=0;T<_;T++)R[T]=this._map.latLngToLayerPoint(e[T]),u.extend(R[T]);r.push(R)}else for(T=0;T<_;T++)this._projectLatlngs(e[T],r,u)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,u,f,_,T,R,V,G;for(u=0,_=0,T=this._rings.length;u<T;u++)for(G=this._rings[u],f=0,R=G.length;f<R-1;f++)V=At(G[f],G[f+1],e,f,!0),V&&(r[_]=r[_]||[],r[_].push(V[0]),(V[1]!==G[f+1]||f===R-2)&&(r[_].push(V[1]),_++))}},_simplifyPoints:function(){for(var e=this._parts,r=this.options.smoothFactor,u=0,f=e.length;u<f;u++)e[u]=Tt(e[u],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,r){var u,f,_,T,R,V,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(u=0,T=this._parts.length;u<T;u++)for(V=this._parts[u],f=0,R=V.length,_=R-1;f<R;_=f++)if(!(!r&&f===0)&&$t(e,V[_],V[f])<=G)return!0;return!1}});function uo(e,r){return new yn(e,r)}yn._flat=y;var yr=yn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Q(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var r=yn.prototype._convertLatLngs.call(this,e),u=r.length;return u>=2&&r[0]instanceof Rt&&r[0].equals(r[u-1])&&r.pop(),r},_setLatLngs:function(e){yn.prototype._setLatLngs.call(this,e),g(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return g(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,r=this.options.weight,u=new yt(r,r);if(e=new Jt(e.min.subtract(u),e.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,_=this._rings.length,T;f<_;f++)T=K(this._rings[f],e,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var r=!1,u,f,_,T,R,V,G,nt;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(T=0,G=this._parts.length;T<G;T++)for(u=this._parts[T],R=0,nt=u.length,V=nt-1;R<nt;V=R++)f=u[R],_=u[V],f.y>e.y!=_.y>e.y&&e.x<(_.x-f.x)*(e.y-f.y)/(_.y-f.y)+f.x&&(r=!r);return r||yn.prototype._containsPoint.call(this,e,!0)}});function ks(e,r){return new yr(e,r)}var Un=zt.extend({initialize:function(e,r){Y(this,r),this._layers={},e&&this.addData(e)},addData:function(e){var r=dt(e)?e:e.features,u,f,_;if(r){for(u=0,f=r.length;u<f;u++)_=r[u],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var T=this.options;if(T.filter&&!T.filter(e))return this;var R=wr(e,T);return R?(R.feature=Z(e),R.defaultOptions=R.options,this.resetStyle(R),T.onEachFeature&&T.onEachFeature(e,R),this.addLayer(R)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=c({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(r){this._setLayerStyle(r,e)},this)},_setLayerStyle:function(e,r){e.setStyle&&(typeof r=="function"&&(r=r(e.feature)),e.setStyle(r))}});function wr(e,r){var u=e.type==="Feature"?e.geometry:e,f=u?u.coordinates:null,_=[],T=r&&r.pointToLayer,R=r&&r.coordsToLatLng||as,V,G,nt,pt;if(!f&&!u)return null;switch(u.type){case"Point":return V=R(f),Uo(T,e,V,r);case"MultiPoint":for(nt=0,pt=f.length;nt<pt;nt++)V=R(f[nt]),_.push(Uo(T,e,V,r));return new zt(_);case"LineString":case"MultiLineString":return G=us(f,u.type==="LineString"?0:1,R),new yn(G,r);case"Polygon":case"MultiPolygon":return G=us(f,u.type==="Polygon"?1:2,R),new yr(G,r);case"GeometryCollection":for(nt=0,pt=u.geometries.length;nt<pt;nt++){var Ot=wr({geometry:u.geometries[nt],type:"Feature",properties:e.properties},r);Ot&&_.push(Ot)}return new zt(_);case"FeatureCollection":for(nt=0,pt=u.features.length;nt<pt;nt++){var Gt=wr(u.features[nt],r);Gt&&_.push(Gt)}return new zt(_);default:throw new Error("Invalid GeoJSON object.")}}function Uo(e,r,u,f){return e?e(r,u):new os(u,f&&f.markersInheritOptions&&f)}function as(e){return new Rt(e[1],e[0],e[2])}function us(e,r,u){for(var f=[],_=0,T=e.length,R;_<T;_++)R=r?us(e[_],r-1,u):(u||as)(e[_]),f.push(R);return f}function I(e,r){return e=Bt(e),e.alt!==void 0?[et(e.lng,r),et(e.lat,r),et(e.alt,r)]:[et(e.lng,r),et(e.lat,r)]}function B(e,r,u,f){for(var _=[],T=0,R=e.length;T<R;T++)_.push(r?B(e[T],g(e[T])?0:r-1,u,f):I(e[T],f));return!r&&u&&_.length>0&&_.push(_[0].slice()),_}function $(e,r){return e.feature?c({},e.feature,{geometry:r}):Z(r)}function Z(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var tt={toGeoJSON:function(e){return $(this,{type:"Point",coordinates:I(this.getLatLng(),e)})}};os.include(tt),Vi.include(tt),Bn.include(tt),yn.include({toGeoJSON:function(e){var r=!g(this._latlngs),u=B(this._latlngs,r?1:0,!1,e);return $(this,{type:(r?"Multi":"")+"LineString",coordinates:u})}}),yr.include({toGeoJSON:function(e){var r=!g(this._latlngs),u=r&&!g(this._latlngs[0]),f=B(this._latlngs,u?2:r?1:0,!0,e);return r||(f=[f]),$(this,{type:(u?"Multi":"")+"Polygon",coordinates:f})}}),sn.include({toMultiPoint:function(e){var r=[];return this.eachLayer(function(u){r.push(u.toGeoJSON(e).geometry.coordinates)}),$(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(e){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(e);var u=r==="GeometryCollection",f=[];return this.eachLayer(function(_){if(_.toGeoJSON){var T=_.toGeoJSON(e);if(u)f.push(T.geometry);else{var R=Z(T);R.type==="FeatureCollection"?f.push.apply(f,R.features):f.push(R)}}}),u?$(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function lt(e,r){return new Un(e,r)}var ht=lt,mt=oe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,r,u){this._url=e,this._bounds=te(r),Y(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&We(this._image),this},bringToBack:function(){return this._map&&kn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=te(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",r=this._image=e?this._url:jt("img");if(Dt(r,"leaflet-image-layer"),this._zoomAnimated&&Dt(r,"leaflet-zoom-animated"),this.options.className&&Dt(r,this.options.className),r.onselectstart=J,r.onmousemove=J,r.onload=v(this.fire,this,"load"),r.onerror=v(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(e){var r=this._map.getZoomScale(e.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;ye(this._image,u,r)},_reset:function(){var e=this._image,r=new Jt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=r.getSize();Lt(e,r.min),e.style.width=u.x+"px",e.style.height=u.y+"px"},_updateOpacity:function(){de(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),ft=function(e,r,u){return new mt(e,r,u)},Vt=mt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",r=this._image=e?this._url:jt("video");if(Dt(r,"leaflet-image-layer"),this._zoomAnimated&&Dt(r,"leaflet-zoom-animated"),this.options.className&&Dt(r,this.options.className),r.onselectstart=J,r.onmousemove=J,r.onloadeddata=v(this.fire,this,"load"),e){for(var u=r.getElementsByTagName("source"),f=[],_=0;_<u.length;_++)f.push(u[_].src);this._url=u.length>0?f:[r.src];return}dt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var R=jt("source");R.src=this._url[T],r.appendChild(R)}}});function Pt(e,r,u){return new Vt(e,r,u)}var kt=mt.extend({_initImage:function(){var e=this._image=this._url;Dt(e,"leaflet-image-layer"),this._zoomAnimated&&Dt(e,"leaflet-zoom-animated"),this.options.className&&Dt(e,this.options.className),e.onselectstart=J,e.onmousemove=J}});function qt(e,r,u){return new kt(e,r,u)}var _t=oe.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,r){e&&(e instanceof Rt||dt(e))?(this._latlng=Bt(e),Y(this,r)):(Y(this,e),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&de(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&de(this._container,1),this.bringToFront(),this.options.interactive&&(Dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(de(this._container,0),this._removeTimeout=setTimeout(v(se,void 0,this._container),200)):se(this._container),this.options.interactive&&(ue(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=Bt(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&We(this._container),this},bringToBack:function(){return this._map&&kn(this._container),this},_prepareOpen:function(e){var r=this._source;if(!r._map)return!1;if(r instanceof zt){r=null;var u=this._source._layers;for(var f in u)if(u[f]._map){r=u[f];break}if(!r)return!1;this._source=r}if(!e)if(r.getCenter)e=r.getCenter();else if(r.getLatLng)e=r.getLatLng();else if(r.getBounds)e=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")e.innerHTML=r;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),r=Et(this.options.offset),u=this._getAnchor();this._zoomAnimated?Lt(this._container,e.add(u)):r=r.add(e).add(u);var f=this._containerBottom=-r.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=f+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});Wt.include({_initOverlay:function(e,r,u,f){var _=r;return _ instanceof e||(_=new e(f).setContent(r)),u&&_.setLatLng(u),_}}),oe.include({_initOverlay:function(e,r,u,f){var _=u;return _ instanceof e?(Y(_,f),_._source=this):(_=r&&!f?r:new e(f,this),_.setContent(u)),_}});var re=_t.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,_t.prototype.openOn.call(this,e)},onAdd:function(e){_t.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xn||this._source.on("preclick",vn))},onRemove:function(e){_t.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xn||this._source.off("preclick",vn))},getEvents:function(){var e=_t.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",r=this._container=jt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=jt("div",e+"-content-wrapper",r);if(this._contentNode=jt("div",e+"-content",u),Ai(r),Ti(this._contentNode),Ct(r,"contextmenu",vn),this._tipContainer=jt("div",e+"-tip-container",r),this._tip=jt("div",e+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=jt("a",e+"-close-button",r);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',Ct(f,"click",function(_){ce(_),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,r=e.style;r.width="",r.whiteSpace="nowrap";var u=e.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),r.width=u+1+"px",r.whiteSpace="",r.height="";var f=e.offsetHeight,_=this.options.maxHeight,T="leaflet-popup-scrolled";_&&f>_?(r.height=_+"px",Dt(e,T)):ue(e,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),u=this._getAnchor();Lt(this._container,r.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,r=parseInt(fi(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+r,f=this._containerWidth,_=new yt(this._containerLeft,-u-this._containerBottom);_._add(De(this._container));var T=e.layerPointToContainerPoint(_),R=Et(this.options.autoPanPadding),V=Et(this.options.autoPanPaddingTopLeft||R),G=Et(this.options.autoPanPaddingBottomRight||R),nt=e.getSize(),pt=0,Ot=0;T.x+f+G.x>nt.x&&(pt=T.x+f-nt.x+G.x),T.x-pt-V.x<0&&(pt=T.x-V.x),T.y+u+G.y>nt.y&&(Ot=T.y+u-nt.y+G.y),T.y-Ot-V.y<0&&(Ot=T.y-V.y),(pt||Ot)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([pt,Ot]))}},_getAnchor:function(){return Et(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ke=function(e,r){return new re(e,r)};Wt.mergeOptions({closePopupOnClick:!0}),Wt.include({openPopup:function(e,r,u){return this._initOverlay(re,e,r,u).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),oe.include({bindPopup:function(e,r){return this._popup=this._initOverlay(re,this._popup,e,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof zt||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){je(e);var r=e.layer||e.target;if(this._popup._source===r&&!(r instanceof Xn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=r,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Ae=_t.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){_t.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){_t.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=_t.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",r=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=jt("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+S(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var r,u,f=this._map,_=this._container,T=f.latLngToContainerPoint(f.getCenter()),R=f.layerPointToContainerPoint(e),V=this.options.direction,G=_.offsetWidth,nt=_.offsetHeight,pt=Et(this.options.offset),Ot=this._getAnchor();V==="top"?(r=G/2,u=nt):V==="bottom"?(r=G/2,u=0):V==="center"?(r=G/2,u=nt/2):V==="right"?(r=0,u=nt/2):V==="left"?(r=G,u=nt/2):R.x<T.x?(V="right",r=0,u=nt/2):(V="left",r=G+(pt.x+Ot.x)*2,u=nt/2),e=e.subtract(Et(r,u,!0)).add(pt).add(Ot),ue(_,"leaflet-tooltip-right"),ue(_,"leaflet-tooltip-left"),ue(_,"leaflet-tooltip-top"),ue(_,"leaflet-tooltip-bottom"),Dt(_,"leaflet-tooltip-"+V),Lt(_,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&de(this._container,e)},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(r)},_getAnchor:function(){return Et(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),wn=function(e,r){return new Ae(e,r)};Wt.include({openTooltip:function(e,r,u){return this._initOverlay(Ae,e,r,u).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),oe.include({bindTooltip:function(e,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ae,this._tooltip,e,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var r=e?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[r](u),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof zt||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var r=typeof e.getElement=="function"&&e.getElement();r&&(Ct(r,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),Ct(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var r=typeof e.getElement=="function"&&e.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var r=e.latlng,u,f;this._tooltip.options.sticky&&e.originalEvent&&(u=this._map.mouseEventToContainerPoint(e.originalEvent),f=this._map.containerPointToLayerPoint(u),r=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(r)}});var zn=Me.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var r=e&&e.tagName==="DIV"?e:document.createElement("div"),u=this.options;if(u.html instanceof Element?(ve(r),r.appendChild(u.html)):r.innerHTML=u.html!==!1?u.html:"",u.bgPos){var f=Et(u.bgPos);r.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Er(e){return new zn(e)}Me.Default=ss;var Se=oe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){Y(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),se(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(We(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(kn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=U(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof yt?e:new yt(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var r=this.getPane().children,u=-e(-1/0,1/0),f=0,_=r.length,T;f<_;f++)T=r[f].style.zIndex,r[f]!==this._container&&T&&(u=e(u,+T));isFinite(u)&&(this.options.zIndex=u+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!vt.ielt9){de(this._container,this.options.opacity);var e=+new Date,r=!1,u=!1;for(var f in this._tiles){var _=this._tiles[f];if(!(!_.current||!_.loaded)){var T=Math.min(1,(e-_.loaded)/200);de(_.el,T),T<1?r=!0:(_.active?u=!0:this._onOpaqueTile(_),_.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),r&&(H(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:J,_initContainer:function(){this._container||(this._container=jt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,r=this.options.maxZoom;if(e!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===e?(this._levels[u].el.style.zIndex=r-Math.abs(e-u),this._onUpdateLevel(u)):(se(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var f=this._levels[e],_=this._map;return f||(f=this._levels[e]={},f.el=jt("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=r,f.origin=_.project(_.unproject(_.getPixelOrigin()),e).round(),f.zoom=e,this._setZoomTransform(f,_.getCenter(),_.getZoom()),J(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:J,_onRemoveLevel:J,_onCreateLevel:J,_pruneTiles:function(){if(this._map){var e,r,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)r=this._tiles[e],r.retain=r.current;for(e in this._tiles)if(r=this._tiles[e],r.current&&!r.active){var f=r.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var r in this._tiles)this._tiles[r].coords.z===e&&this._removeTile(r)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)se(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,r,u,f){var _=Math.floor(e/2),T=Math.floor(r/2),R=u-1,V=new yt(+_,+T);V.z=+R;var G=this._tileCoordsToKey(V),nt=this._tiles[G];return nt&&nt.active?(nt.retain=!0,!0):(nt&&nt.loaded&&(nt.retain=!0),R>f?this._retainParent(_,T,R,f):!1)},_retainChildren:function(e,r,u,f){for(var _=2*e;_<2*e+2;_++)for(var T=2*r;T<2*r+2;T++){var R=new yt(_,T);R.z=u+1;var V=this._tileCoordsToKey(R),G=this._tiles[V];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);u+1<f&&this._retainChildren(_,T,u+1,f)}},_resetView:function(e){var r=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var r=this.options;return r.minNativeZoom!==void 0&&e<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<e?r.maxNativeZoom:e},_setView:function(e,r,u,f){var _=Math.round(r);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var T=this.options.updateWhenZooming&&_!==this._tileZoom;(!f||T)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(e),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(e,r)},_setZoomTransforms:function(e,r){for(var u in this._levels)this._setZoomTransform(this._levels[u],e,r)},_setZoomTransform:function(e,r,u){var f=this._map.getZoomScale(u,e.zoom),_=e.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(r,u)).round();vt.any3d?ye(e.el,_,f):Lt(e.el,_)},_resetGrid:function(){var e=this._map,r=e.options.crs,u=this._tileSize=this.getTileSize(),f=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,r.wrapLng[0]],f).x/u.x),Math.ceil(e.project([0,r.wrapLng[1]],f).x/u.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([r.wrapLat[0],0],f).y/u.x),Math.ceil(e.project([r.wrapLat[1],0],f).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var r=this._map,u=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),f=r.getZoomScale(u,this._tileZoom),_=r.project(e,this._tileZoom).floor(),T=r.getSize().divideBy(f*2);return new Jt(_.subtract(T),_.add(T))},_update:function(e){var r=this._map;if(r){var u=this._clampZoom(r.getZoom());if(e===void 0&&(e=r.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(e),_=this._pxBoundsToTileRange(f),T=_.getCenter(),R=[],V=this.options.keepBuffer,G=new Jt(_.getBottomLeft().subtract([V,-V]),_.getTopRight().add([V,-V]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var nt in this._tiles){var pt=this._tiles[nt].coords;(pt.z!==this._tileZoom||!G.contains(new yt(pt.x,pt.y)))&&(this._tiles[nt].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(e,u);return}for(var Ot=_.min.y;Ot<=_.max.y;Ot++)for(var Gt=_.min.x;Gt<=_.max.x;Gt++){var an=new yt(Gt,Ot);if(an.z=this._tileZoom,!!this._isValidTile(an)){var Be=this._tiles[this._tileCoordsToKey(an)];Be?Be.current=!0:R.push(an)}}if(R.sort(function(En,Rs){return En.distanceTo(T)-Rs.distanceTo(T)}),R.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Jn=document.createDocumentFragment();for(Gt=0;Gt<R.length;Gt++)this._addTile(R[Gt],Jn);this._level.el.appendChild(Jn)}}}},_isValidTile:function(e){var r=this._map.options.crs;if(!r.infinite){var u=this._globalTileRange;if(!r.wrapLng&&(e.x<u.min.x||e.x>u.max.x)||!r.wrapLat&&(e.y<u.min.y||e.y>u.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(e);return te(this.options.bounds).overlaps(f)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var r=this._map,u=this.getTileSize(),f=e.scaleBy(u),_=f.add(u),T=r.unproject(f,e.z),R=r.unproject(_,e.z);return[T,R]},_tileCoordsToBounds:function(e){var r=this._tileCoordsToNwSe(e),u=new Ft(r[0],r[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var r=e.split(":"),u=new yt(+r[0],+r[1]);return u.z=+r[2],u},_removeTile:function(e){var r=this._tiles[e];r&&(se(r.el),delete this._tiles[e],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){Dt(e,"leaflet-tile");var r=this.getTileSize();e.style.width=r.x+"px",e.style.height=r.y+"px",e.onselectstart=J,e.onmousemove=J,vt.ielt9&&this.options.opacity<1&&de(e,this.options.opacity)},_addTile:function(e,r){var u=this._getTilePos(e),f=this._tileCoordsToKey(e),_=this.createTile(this._wrapCoords(e),v(this._tileReady,this,e));this._initTile(_),this.createTile.length<2&&D(v(this._tileReady,this,e,null,_)),Lt(_,u),this._tiles[f]={el:_,coords:e,current:!0},r.appendChild(_),this.fire("tileloadstart",{tile:_,coords:e})},_tileReady:function(e,r,u){r&&this.fire("tileerror",{error:r,tile:u,coords:e});var f=this._tileCoordsToKey(e);u=this._tiles[f],u&&(u.loaded=+new Date,this._map._fadeAnimated?(de(u.el,0),H(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),r||(Dt(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),vt.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(v(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var r=new yt(this._wrapX?j(e.x,this._wrapX):e.x,this._wrapY?j(e.y,this._wrapY):e.y);return r.z=e.z,r},_pxBoundsToTileRange:function(e){var r=this.getTileSize();return new Jt(e.min.unscaleBy(r).floor(),e.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Rd(e){return new Se(e)}var Ns=Se.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,r){this._url=e,r=Y(this,r),r.detectRetina&&vt.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,r){return this._url===e&&r===void 0&&(r=!0),this._url=e,r||this.redraw(),this},createTile:function(e,r){var u=document.createElement("img");return Ct(u,"load",v(this._tileOnLoad,this,r,u)),Ct(u,"error",v(this._tileOnError,this,r,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(e),u},getTileUrl:function(e){var r={r:vt.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-e.y;this.options.tms&&(r.y=u),r["-y"]=u}return It(this._url,c(r,this.options))},_tileOnLoad:function(e,r){vt.ielt9?setTimeout(v(e,this,null,r),0):e(null,r)},_tileOnError:function(e,r,u){var f=this.options.errorTileUrl;f&&r.getAttribute("src")!==f&&(r.src=f),e(u,r)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,r=this.options.maxZoom,u=this.options.zoomReverse,f=this.options.zoomOffset;return u&&(e=r-e),e+f},_getSubdomain:function(e){var r=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var e,r;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(r=this._tiles[e].el,r.onload=J,r.onerror=J,!r.complete)){r.src=St;var u=this._tiles[e].coords;se(r),delete this._tiles[e],this.fire("tileabort",{tile:r,coords:u})}},_removeTile:function(e){var r=this._tiles[e];if(r)return r.el.setAttribute("src",St),Se.prototype._removeTile.call(this,e)},_tileReady:function(e,r,u){if(!(!this._map||u&&u.getAttribute("src")===St))return Se.prototype._tileReady.call(this,e,r,u)}});function ml(e,r){return new Ns(e,r)}var _l=Ns.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,r){this._url=e;var u=c({},this.defaultWmsParams);for(var f in r)f in this.options||(u[f]=r[f]);r=Y(this,r);var _=r.detectRetina&&vt.retina?2:1,T=this.getTileSize();u.width=T.x*_,u.height=T.y*_,this.wmsParams=u},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Ns.prototype.onAdd.call(this,e)},getTileUrl:function(e){var r=this._tileCoordsToNwSe(e),u=this._crs,f=Qt(u.project(r[0]),u.project(r[1])),_=f.min,T=f.max,R=(this._wmsVersion>=1.3&&this._crs===Mt?[_.y,_.x,T.y,T.x]:[_.x,_.y,T.x,T.y]).join(","),V=Ns.prototype.getTileUrl.call(this,e);return V+at(this.wmsParams,V,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+R},setParams:function(e,r){return c(this.wmsParams,e),r||this.redraw(),this}});function Dd(e,r){return new _l(e,r)}Ns.WMS=_l,ml.wms=Dd;var Wi=oe.extend({options:{padding:.1},initialize:function(e){Y(this,e),S(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,r){var u=this._map.getZoomScale(r,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,r),T=f.multiplyBy(-u).add(_).subtract(this._map._getNewPixelOrigin(e,r));vt.any3d?ye(this._container,T,u):Lt(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,r=this._map.getSize(),u=this._map.containerPointToLayerPoint(r.multiplyBy(-e)).round();this._bounds=new Jt(u,u.add(r.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vl=Wi.extend({options:{tolerance:0},getEvents:function(){var e=Wi.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Ct(e,"mousemove",this._onMouseMove,this),Ct(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ct(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,se(this._container),ee(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var r in this._layers)e=this._layers[r],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wi.prototype._update.call(this);var e=this._bounds,r=this._container,u=e.getSize(),f=vt.retina?2:1;Lt(r,e.min),r.width=f*u.x,r.height=f*u.y,r.style.width=u.x+"px",r.style.height=u.y+"px",vt.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Wi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[S(e)]=e;var r=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var r=e._order,u=r.next,f=r.prev;u?u.prev=f:this._drawLast=f,f?f.next=u:this._drawFirst=u,delete e._order,delete this._layers[S(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var r=e.options.dashArray.split(/[, ]+/),u=[],f,_;for(_=0;_<r.length;_++){if(f=Number(r[_]),isNaN(f))return;u.push(f)}e.options._dashArray=u}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var r=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Jt,this._redrawBounds.extend(e._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(e._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var r=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,r=this._redrawBounds;if(this._ctx.save(),r){var u=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)e=f.layer,(!r||e._pxBounds&&e._pxBounds.intersects(r))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,r){if(this._drawing){var u,f,_,T,R=e._parts,V=R.length,G=this._ctx;if(V){for(G.beginPath(),u=0;u<V;u++){for(f=0,_=R[u].length;f<_;f++)T=R[u][f],G[f?"lineTo":"moveTo"](T.x,T.y);r&&G.closePath()}this._fillStroke(G,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var r=e._point,u=this._ctx,f=Math.max(Math.round(e._radius),1),_=(Math.max(Math.round(e._radiusY),1)||f)/f;_!==1&&(u.save(),u.scale(1,_)),u.beginPath(),u.arc(r.x,r.y/_,f,0,Math.PI*2,!1),_!==1&&u.restore(),this._fillStroke(u,e)}},_fillStroke:function(e,r){var u=r.options;u.fill&&(e.globalAlpha=u.fillOpacity,e.fillStyle=u.fillColor||u.color,e.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(e.setLineDash&&e.setLineDash(r.options&&r.options._dashArray||[]),e.globalAlpha=u.opacity,e.lineWidth=u.weight,e.strokeStyle=u.color,e.lineCap=u.lineCap,e.lineJoin=u.lineJoin,e.stroke())},_onClick:function(e){for(var r=this._map.mouseEventToLayerPoint(e),u,f,_=this._drawFirst;_;_=_.next)u=_.layer,u.options.interactive&&u._containsPoint(r)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(u))&&(f=u);this._fireEvent(f?[f]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,r)}},_handleMouseOut:function(e){var r=this._hoveredLayer;r&&(ue(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,r){if(!this._mouseHoverThrottled){for(var u,f,_=this._drawFirst;_;_=_.next)u=_.layer,u.options.interactive&&u._containsPoint(r)&&(f=u);f!==this._hoveredLayer&&(this._handleMouseOut(e),f&&(Dt(this._container,"leaflet-interactive"),this._fireEvent([f],e,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(v(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,r,u){this._map._fireDOMEvent(r,u||r.type,e)},_bringToFront:function(e){var r=e._order;if(r){var u=r.next,f=r.prev;if(u)u.prev=f;else return;f?f.next=u:u&&(this._drawFirst=u),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(e)}},_bringToBack:function(e){var r=e._order;if(r){var u=r.next,f=r.prev;if(f)f.next=u;else return;u?u.prev=f:f&&(this._drawLast=f),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(e)}}});function yl(e){return vt.canvas?new vl(e):null}var lo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Md={_initContainer:function(){this._container=jt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wi.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var r=e._container=lo("shape");Dt(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",e._path=lo("path"),r.appendChild(e._path),this._updateStyle(e),this._layers[S(e)]=e},_addPath:function(e){var r=e._container;this._container.appendChild(r),e.options.interactive&&e.addInteractiveTarget(r)},_removePath:function(e){var r=e._container;se(r),e.removeInteractiveTarget(r),delete this._layers[S(e)]},_updateStyle:function(e){var r=e._stroke,u=e._fill,f=e.options,_=e._container;_.stroked=!!f.stroke,_.filled=!!f.fill,f.stroke?(r||(r=e._stroke=lo("stroke")),_.appendChild(r),r.weight=f.weight+"px",r.color=f.color,r.opacity=f.opacity,f.dashArray?r.dashStyle=dt(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=f.lineCap.replace("butt","flat"),r.joinstyle=f.lineJoin):r&&(_.removeChild(r),e._stroke=null),f.fill?(u||(u=e._fill=lo("fill")),_.appendChild(u),u.color=f.fillColor||f.color,u.opacity=f.fillOpacity):u&&(_.removeChild(u),e._fill=null)},_updateCircle:function(e){var r=e._point.round(),u=Math.round(e._radius),f=Math.round(e._radiusY||u);this._setPath(e,e._empty()?"M0 0":"AL "+r.x+","+r.y+" "+u+","+f+" 0,"+65535*360)},_setPath:function(e,r){e._path.v=r},_bringToFront:function(e){We(e._container)},_bringToBack:function(e){kn(e._container)}},zo=vt.vml?lo:wi,co=Wi.extend({_initContainer:function(){this._container=zo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=zo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){se(this._container),ee(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wi.prototype._update.call(this);var e=this._bounds,r=e.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,u.setAttribute("width",r.x),u.setAttribute("height",r.y)),Lt(u,e.min),u.setAttribute("viewBox",[e.min.x,e.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(e){var r=e._path=zo("path");e.options.className&&Dt(r,e.options.className),e.options.interactive&&Dt(r,"leaflet-interactive"),this._updateStyle(e),this._layers[S(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){se(e._path),e.removeInteractiveTarget(e._path),delete this._layers[S(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var r=e._path,u=e.options;r&&(u.stroke?(r.setAttribute("stroke",u.color),r.setAttribute("stroke-opacity",u.opacity),r.setAttribute("stroke-width",u.weight),r.setAttribute("stroke-linecap",u.lineCap),r.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?r.setAttribute("stroke-dasharray",u.dashArray):r.removeAttribute("stroke-dasharray"),u.dashOffset?r.setAttribute("stroke-dashoffset",u.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),u.fill?(r.setAttribute("fill",u.fillColor||u.color),r.setAttribute("fill-opacity",u.fillOpacity),r.setAttribute("fill-rule",u.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(e,r){this._setPath(e,Vn(e._parts,r))},_updateCircle:function(e){var r=e._point,u=Math.max(Math.round(e._radius),1),f=Math.max(Math.round(e._radiusY),1)||u,_="a"+u+","+f+" 0 1,0 ",T=e._empty()?"M0 0":"M"+(r.x-u)+","+r.y+_+u*2+",0 "+_+-u*2+",0 ";this._setPath(e,T)},_setPath:function(e,r){e._path.setAttribute("d",r)},_bringToFront:function(e){We(e._path)},_bringToBack:function(e){kn(e._path)}});vt.vml&&co.include(Md);function wl(e){return vt.svg||vt.vml?new co(e):null}Wt.include({getRenderer:function(e){var r=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var r=this._paneRenderers[e];return r===void 0&&(r=this._createRenderer({pane:e}),this._paneRenderers[e]=r),r},_createRenderer:function(e){return this.options.preferCanvas&&yl(e)||wl(e)}});var El=yr.extend({initialize:function(e,r){yr.prototype.initialize.call(this,this._boundsToLatLngs(e),r)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=te(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Bd(e,r){return new El(e,r)}co.create=zo,co.pointsToPath=Vn,Un.geometryToLayer=wr,Un.coordsToLatLng=as,Un.coordsToLatLngs=us,Un.latLngToCoords=I,Un.latLngsToCoords=B,Un.getFeature=$,Un.asFeature=Z,Wt.mergeOptions({boxZoom:!0});var bl=b.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Nn(),Fi(),this._startPoint=this._map.mouseEventToContainerPoint(e),Ct(document,{contextmenu:je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=jt("div","leaflet-zoom-box",this._container),Dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var r=new Jt(this._point,this._startPoint),u=r.getSize();Lt(this._box,r.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(se(this._box),ue(this._container,"leaflet-crosshair")),Rn(),Jr(),ee(document,{contextmenu:je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(v(this._resetState,this),0);var r=new Ft(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Wt.addInitHook("addHandler","boxZoom",bl),Wt.mergeOptions({doubleClickZoom:!0});var Tl=b.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var r=this._map,u=r.getZoom(),f=r.options.zoomDelta,_=e.originalEvent.shiftKey?u-f:u+f;r.options.doubleClickZoom==="center"?r.setZoom(_):r.setZoomAround(e.containerPoint,_)}});Wt.addInitHook("addHandler","doubleClickZoom",Tl),Wt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Al=b.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new z(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}Dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ue(this._map._container,"leaflet-grab"),ue(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=te(this._map.options.maxBounds);this._offsetLimit=Qt(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var r=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(r),this._prunePositions(r)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,r){return e-(e-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;e.x<r.min.x&&(e.x=this._viscousLimit(e.x,r.min.x)),e.y<r.min.y&&(e.y=this._viscousLimit(e.y,r.min.y)),e.x>r.max.x&&(e.x=this._viscousLimit(e.x,r.max.x)),e.y>r.max.y&&(e.y=this._viscousLimit(e.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,r=Math.round(e/2),u=this._initialWorldOffset,f=this._draggable._newPos.x,_=(f-r+u)%e+r-u,T=(f+r+u)%e-r-u,R=Math.abs(_+u)<Math.abs(T+u)?_:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=R},_onDragEnd:function(e){var r=this._map,u=r.options,f=!u.inertia||e.noInertia||this._times.length<2;if(r.fire("dragend",e),f)r.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,R=u.easeLinearity,V=_.multiplyBy(R/T),G=V.distanceTo([0,0]),nt=Math.min(u.inertiaMaxSpeed,G),pt=V.multiplyBy(nt/G),Ot=nt/(u.inertiaDeceleration*R),Gt=pt.multiplyBy(-Ot/2).round();!Gt.x&&!Gt.y?r.fire("moveend"):(Gt=r._limitOffset(Gt,r.options.maxBounds),D(function(){r.panBy(Gt,{duration:Ot,easeLinearity:R,noMoveStart:!0,animate:!0})}))}}});Wt.addInitHook("addHandler","dragging",Al),Wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Sl=b.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Ct(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ee(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,r=document.documentElement,u=e.scrollTop||r.scrollTop,f=e.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(f,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var r=this._panKeys={},u=this.keyCodes,f,_;for(f=0,_=u.left.length;f<_;f++)r[u.left[f]]=[-1*e,0];for(f=0,_=u.right.length;f<_;f++)r[u.right[f]]=[e,0];for(f=0,_=u.down.length;f<_;f++)r[u.down[f]]=[0,e];for(f=0,_=u.up.length;f<_;f++)r[u.up[f]]=[0,-1*e]},_setZoomDelta:function(e){var r=this._zoomKeys={},u=this.keyCodes,f,_;for(f=0,_=u.zoomIn.length;f<_;f++)r[u.zoomIn[f]]=e;for(f=0,_=u.zoomOut.length;f<_;f++)r[u.zoomOut[f]]=-e},_addHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var r=e.keyCode,u=this._map,f;if(r in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(f=this._panKeys[r],e.shiftKey&&(f=Et(f).multiplyBy(3)),u.options.maxBounds&&(f=u._limitOffset(Et(f),u.options.maxBounds)),u.options.worldCopyJump){var _=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(f)));u.panTo(_)}else u.panBy(f)}else if(r in this._zoomKeys)u.setZoom(u.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;je(e)}}});Wt.addInitHook("addHandler","keyboard",Sl),Wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Cl=b.extend({addHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var r=ns(e),u=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var f=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(v(this._performZoom,this),f),je(e)},_performZoom:function(){var e=this._map,r=e.getZoom(),u=this._map.options.zoomSnap||0;e._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,T=u?Math.ceil(_/u)*u:_,R=e._limitZoom(r+(this._delta>0?T:-T))-r;this._delta=0,this._startTime=null,R&&(e.options.scrollWheelZoom==="center"?e.setZoom(r+R):e.setZoomAround(this._lastMousePos,r+R))}});Wt.addInitHook("addHandler","scrollWheelZoom",Cl);var Ud=600;Wt.mergeOptions({tapHold:vt.touchNative&&vt.safari&&vt.mobile,tapTolerance:15});var Il=b.extend({addHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var r=e.touches[0];this._startPos=this._newPos=new yt(r.clientX,r.clientY),this._holdTimeout=setTimeout(v(function(){this._cancel(),this._isTapValid()&&(Ct(document,"touchend",ce),Ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),Ud),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){ee(document,"touchend",ce),ee(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)},_onMove:function(e){var r=e.touches[0];this._newPos=new yt(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,r){var u=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});u._simulated=!0,r.target.dispatchEvent(u)}});Wt.addInitHook("addHandler","tapHold",Il),Wt.mergeOptions({touchZoom:vt.touch,bounceAtZoomLimits:!0});var xl=b.extend({addHooks:function(){Dt(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ue(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var r=this._map;if(!(!e.touches||e.touches.length!==2||r._animatingZoom||this._zooming)){var u=r.mouseEventToContainerPoint(e.touches[0]),f=r.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(u.add(f)._divideBy(2))),this._startDist=u.distanceTo(f),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),ce(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var r=this._map,u=r.mouseEventToContainerPoint(e.touches[0]),f=r.mouseEventToContainerPoint(e.touches[1]),_=u.distanceTo(f)/this._startDist;if(this._zoom=r.getScaleZoom(_,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&_<1||this._zoom>r.getMaxZoom()&&_>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var T=u._add(f)._divideBy(2)._subtract(this._centerPoint);if(_===1&&T.x===0&&T.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var R=v(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(R,this,!0),ce(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Wt.addInitHook("addHandler","touchZoom",xl),Wt.BoxZoom=bl,Wt.DoubleClickZoom=Tl,Wt.Drag=Al,Wt.Keyboard=Sl,Wt.ScrollWheelZoom=Cl,Wt.TapHold=Il,Wt.TouchZoom=xl,n.Bounds=Jt,n.Browser=vt,n.CRS=be,n.Canvas=vl,n.Circle=Vi,n.CircleMarker=Bn,n.Class=Yt,n.Control=$e,n.DivIcon=zn,n.DivOverlay=_t,n.DomEvent=Ls,n.DomUtil=Qr,n.Draggable=z,n.Evented=Xt,n.FeatureGroup=zt,n.GeoJSON=Un,n.GridLayer=Se,n.Handler=b,n.Icon=Me,n.ImageOverlay=mt,n.LatLng=Rt,n.LatLngBounds=Ft,n.Layer=oe,n.LayerGroup=sn,n.LineUtil=F,n.Map=Wt,n.Marker=os,n.Mixin=N,n.Path=Xn,n.Point=yt,n.PolyUtil=it,n.Polygon=yr,n.Polyline=yn,n.Popup=re,n.PosAnimation=is,n.Projection=Ht,n.Rectangle=El,n.Renderer=Wi,n.SVG=co,n.SVGOverlay=kt,n.TileLayer=Ns,n.Tooltip=Ae,n.Transformation=dn,n.Util=P,n.VideoOverlay=Vt,n.bind=v,n.bounds=Qt,n.canvas=yl,n.circle=Os,n.circleMarker=Bo,n.control=Le,n.divIcon=Er,n.extend=c,n.featureGroup=Ci,n.geoJSON=lt,n.geoJson=ht,n.gridLayer=Rd,n.icon=vr,n.imageOverlay=ft,n.latLng=Bt,n.latLngBounds=te,n.layerGroup=on,n.map=Yn,n.marker=$i,n.point=Et,n.polygon=ks,n.polyline=uo,n.popup=Ke,n.rectangle=Bd,n.setOptions=Y,n.stamp=S,n.svg=wl,n.svgOverlay=qt,n.tileLayer=ml,n.tooltip=wn,n.transformation=Oe,n.version=o,n.videoOverlay=Pt;var zd=window.L;n.noConflict=function(){return window.L=zd,this},window.L=n})}(go,go.exports)),go.exports}var Yd=Kd();const Or=hh(Yd);var ta={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var Xd=ta.exports,Nl;function Jd(){return Nl||(Nl=1,function(i){(function(t,n){i.exports=t.document?n(t,!0):function(o){if(!o.document)throw new Error("jQuery requires a window with a document");return n(o)}})(typeof window<"u"?window:Xd,function(t,n){var o=[],c=Object.getPrototypeOf,p=o.slice,v=o.flat?function(s){return o.flat.call(s)}:function(s){return o.concat.apply([],s)},A=o.push,S=o.indexOf,U={},j=U.toString,J=U.hasOwnProperty,et=J.toString,ut=et.call(Object),X={},Y=function(l){return typeof l=="function"&&typeof l.nodeType!="number"&&typeof l.item!="function"},at=function(l){return l!=null&&l===l.window},ot=t.document,It={type:!0,src:!0,nonce:!0,noModule:!0};function dt(s,l,d){d=d||ot;var m,w,E=d.createElement("script");if(E.text=s,l)for(m in It)w=l[m]||l.getAttribute&&l.getAttribute(m),w&&E.setAttribute(m,w);d.head.appendChild(E).parentNode.removeChild(E)}function ct(s){return s==null?s+"":typeof s=="object"||typeof s=="function"?U[j.call(s)]||"object":typeof s}var St="3.7.1",wt=/HTML$/i,h=function(s,l){return new h.fn.init(s,l)};h.fn=h.prototype={jquery:St,constructor:h,length:0,toArray:function(){return p.call(this)},get:function(s){return s==null?p.call(this):s<0?this[s+this.length]:this[s]},pushStack:function(s){var l=h.merge(this.constructor(),s);return l.prevObject=this,l},each:function(s){return h.each(this,s)},map:function(s){return this.pushStack(h.map(this,function(l,d){return s.call(l,d,l)}))},slice:function(){return this.pushStack(p.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(h.grep(this,function(s,l){return(l+1)%2}))},odd:function(){return this.pushStack(h.grep(this,function(s,l){return l%2}))},eq:function(s){var l=this.length,d=+s+(s<0?l:0);return this.pushStack(d>=0&&d<l?[this[d]]:[])},end:function(){return this.prevObject||this.constructor()},push:A,sort:o.sort,splice:o.splice},h.extend=h.fn.extend=function(){var s,l,d,m,w,E,b=arguments[0]||{},N=1,k=arguments.length,z=!1;for(typeof b=="boolean"&&(z=b,b=arguments[N]||{},N++),typeof b!="object"&&!Y(b)&&(b={}),N===k&&(b=this,N--);N<k;N++)if((s=arguments[N])!=null)for(l in s)m=s[l],!(l==="__proto__"||b===m)&&(z&&m&&(h.isPlainObject(m)||(w=Array.isArray(m)))?(d=b[l],w&&!Array.isArray(d)?E=[]:!w&&!h.isPlainObject(d)?E={}:E=d,w=!1,b[l]=h.extend(z,E,m)):m!==void 0&&(b[l]=m));return b},h.extend({expando:"jQuery"+(St+Math.random()).replace(/\D/g,""),isReady:!0,error:function(s){throw new Error(s)},noop:function(){},isPlainObject:function(s){var l,d;return!s||j.call(s)!=="[object Object]"?!1:(l=c(s),l?(d=J.call(l,"constructor")&&l.constructor,typeof d=="function"&&et.call(d)===ut):!0)},isEmptyObject:function(s){var l;for(l in s)return!1;return!0},globalEval:function(s,l,d){dt(s,{nonce:l&&l.nonce},d)},each:function(s,l){var d,m=0;if(O(s))for(d=s.length;m<d&&l.call(s[m],m,s[m])!==!1;m++);else for(m in s)if(l.call(s[m],m,s[m])===!1)break;return s},text:function(s){var l,d="",m=0,w=s.nodeType;if(!w)for(;l=s[m++];)d+=h.text(l);return w===1||w===11?s.textContent:w===9?s.documentElement.textContent:w===3||w===4?s.nodeValue:d},makeArray:function(s,l){var d=l||[];return s!=null&&(O(Object(s))?h.merge(d,typeof s=="string"?[s]:s):A.call(d,s)),d},inArray:function(s,l,d){return l==null?-1:S.call(l,s,d)},isXMLDoc:function(s){var l=s&&s.namespaceURI,d=s&&(s.ownerDocument||s).documentElement;return!wt.test(l||d&&d.nodeName||"HTML")},merge:function(s,l){for(var d=+l.length,m=0,w=s.length;m<d;m++)s[w++]=l[m];return s.length=w,s},grep:function(s,l,d){for(var m,w=[],E=0,b=s.length,N=!d;E<b;E++)m=!l(s[E],E),m!==N&&w.push(s[E]);return w},map:function(s,l,d){var m,w,E=0,b=[];if(O(s))for(m=s.length;E<m;E++)w=l(s[E],E,d),w!=null&&b.push(w);else for(E in s)w=l(s[E],E,d),w!=null&&b.push(w);return v(b)},guid:1,support:X}),typeof Symbol=="function"&&(h.fn[Symbol.iterator]=o[Symbol.iterator]),h.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(s,l){U["[object "+l+"]"]=l.toLowerCase()});function O(s){var l=!!s&&"length"in s&&s.length,d=ct(s);return Y(s)||at(s)?!1:d==="array"||l===0||typeof l=="number"&&l>0&&l-1 in s}function x(s,l){return s.nodeName&&s.nodeName.toLowerCase()===l.toLowerCase()}var M=o.pop,D=o.sort,H=o.splice,P="[\\x20\\t\\r\\n\\f]",Yt=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g");h.contains=function(s,l){var d=l&&l.parentNode;return s===d||!!(d&&d.nodeType===1&&(s.contains?s.contains(d):s.compareDocumentPosition&&s.compareDocumentPosition(d)&16))};var Ue=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ne(s,l){return l?s==="\0"?"":s.slice(0,-1)+"\\"+s.charCodeAt(s.length-1).toString(16)+" ":"\\"+s}h.escapeSelector=function(s){return(s+"").replace(Ue,ne)};var Xt=ot,yt=A;(function(){var s,l,d,m,w,E=yt,b,N,k,z,K,Q=h.expando,W=0,it=0,Tt=Ci(),$t=Ci(),xt=Ci(),we=Ci(),fe=function(I,B){return I===B&&(w=!0),0},nn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ge="(?:\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",At="\\["+P+"*("+Ge+")(?:"+P+"*([*^$|!~]?=)"+P+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ge+"))|)"+P+"*\\]",rn=":("+Ge+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+At+")*)|.*)\\)|)",Ut=new RegExp(P+"+","g"),ie=new RegExp("^"+P+"*,"+P+"*"),a=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),g=new RegExp(P+"|>"),y=new RegExp(rn),C=new RegExp("^"+Ge+"$"),F={ID:new RegExp("^#("+Ge+")"),CLASS:new RegExp("^\\.("+Ge+")"),TAG:new RegExp("^("+Ge+"|[*])"),ATTR:new RegExp("^"+At),PSEUDO:new RegExp("^"+rn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+nn+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},q=/^(?:input|select|textarea|button)$/i,st=/^h\d$/i,Ht=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,Mt=new RegExp("\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\([^\\r\\n\\f])","g"),le=function(I,B){var $="0x"+I.slice(1)-65536;return B||($<0?String.fromCharCode($+65536):String.fromCharCode($>>10|55296,$&1023|56320))},oe=function(){Bn()},sn=yn(function(I){return I.disabled===!0&&x(I,"fieldset")},{dir:"parentNode",next:"legend"});function on(){try{return b.activeElement}catch{}}try{E.apply(o=p.call(Xt.childNodes),Xt.childNodes),o[Xt.childNodes.length].nodeType}catch{E={apply:function(B,$){yt.apply(B,p.call($))},call:function(B){yt.apply(B,p.call(arguments,1))}}}function zt(I,B,$,Z){var tt,lt,ht,mt,ft,Vt,Pt,kt=B&&B.ownerDocument,qt=B?B.nodeType:9;if($=$||[],typeof I!="string"||!I||qt!==1&&qt!==9&&qt!==11)return $;if(!Z&&(Bn(B),B=B||b,k)){if(qt!==11&&(ft=Ht.exec(I)))if(tt=ft[1]){if(qt===9)if(ht=B.getElementById(tt)){if(ht.id===tt)return E.call($,ht),$}else return $;else if(kt&&(ht=kt.getElementById(tt))&&zt.contains(B,ht)&&ht.id===tt)return E.call($,ht),$}else{if(ft[2])return E.apply($,B.getElementsByTagName(I)),$;if((tt=ft[3])&&B.getElementsByClassName)return E.apply($,B.getElementsByClassName(tt)),$}if(!we[I+" "]&&(!z||!z.test(I))){if(Pt=I,kt=B,qt===1&&(g.test(I)||a.test(I))){for(kt=me.test(I)&&Xn(B.parentNode)||B,(kt!=B||!X.scope)&&((mt=B.getAttribute("id"))?mt=h.escapeSelector(mt):B.setAttribute("id",mt=Q)),Vt=Vi(I),lt=Vt.length;lt--;)Vt[lt]=(mt?"#"+mt:":scope")+" "+Os(Vt[lt]);Pt=Vt.join(",")}try{return E.apply($,kt.querySelectorAll(Pt)),$}catch{we(I,!0)}finally{mt===Q&&B.removeAttribute("id")}}}return us(I.replace(Yt,"$1"),B,$,Z)}function Ci(){var I=[];function B($,Z){return I.push($+" ")>l.cacheLength&&delete B[I.shift()],B[$+" "]=Z}return B}function Me(I){return I[Q]=!0,I}function vr(I){var B=b.createElement("fieldset");try{return!!I(B)}catch{return!1}finally{B.parentNode&&B.parentNode.removeChild(B),B=null}}function ss(I){return function(B){return x(B,"input")&&B.type===I}}function Mo(I){return function(B){return(x(B,"input")||x(B,"button"))&&B.type===I}}function os(I){return function(B){return"form"in B?B.parentNode&&B.disabled===!1?"label"in B?"label"in B.parentNode?B.parentNode.disabled===I:B.disabled===I:B.isDisabled===I||B.isDisabled!==!I&&sn(B)===I:B.disabled===I:"label"in B?B.disabled===I:!1}}function $i(I){return Me(function(B){return B=+B,Me(function($,Z){for(var tt,lt=I([],$.length,B),ht=lt.length;ht--;)$[tt=lt[ht]]&&($[tt]=!(Z[tt]=$[tt]))})})}function Xn(I){return I&&typeof I.getElementsByTagName<"u"&&I}function Bn(I){var B,$=I?I.ownerDocument||I:Xt;return $==b||$.nodeType!==9||!$.documentElement||(b=$,N=b.documentElement,k=!h.isXMLDoc(b),K=N.matches||N.webkitMatchesSelector||N.msMatchesSelector,N.msMatchesSelector&&Xt!=b&&(B=b.defaultView)&&B.top!==B&&B.addEventListener("unload",oe),X.getById=vr(function(Z){return N.appendChild(Z).id=h.expando,!b.getElementsByName||!b.getElementsByName(h.expando).length}),X.disconnectedMatch=vr(function(Z){return K.call(Z,"*")}),X.scope=vr(function(){return b.querySelectorAll(":scope")}),X.cssHas=vr(function(){try{return b.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),X.getById?(l.filter.ID=function(Z){var tt=Z.replace(Mt,le);return function(lt){return lt.getAttribute("id")===tt}},l.find.ID=function(Z,tt){if(typeof tt.getElementById<"u"&&k){var lt=tt.getElementById(Z);return lt?[lt]:[]}}):(l.filter.ID=function(Z){var tt=Z.replace(Mt,le);return function(lt){var ht=typeof lt.getAttributeNode<"u"&&lt.getAttributeNode("id");return ht&&ht.value===tt}},l.find.ID=function(Z,tt){if(typeof tt.getElementById<"u"&&k){var lt,ht,mt,ft=tt.getElementById(Z);if(ft){if(lt=ft.getAttributeNode("id"),lt&&lt.value===Z)return[ft];for(mt=tt.getElementsByName(Z),ht=0;ft=mt[ht++];)if(lt=ft.getAttributeNode("id"),lt&&lt.value===Z)return[ft]}return[]}}),l.find.TAG=function(Z,tt){return typeof tt.getElementsByTagName<"u"?tt.getElementsByTagName(Z):tt.querySelectorAll(Z)},l.find.CLASS=function(Z,tt){if(typeof tt.getElementsByClassName<"u"&&k)return tt.getElementsByClassName(Z)},z=[],vr(function(Z){var tt;N.appendChild(Z).innerHTML="<a id='"+Q+"' href='' disabled='disabled'></a><select id='"+Q+"-\r\\' disabled='disabled'><option selected=''></option></select>",Z.querySelectorAll("[selected]").length||z.push("\\["+P+"*(?:value|"+nn+")"),Z.querySelectorAll("[id~="+Q+"-]").length||z.push("~="),Z.querySelectorAll("a#"+Q+"+*").length||z.push(".#.+[+~]"),Z.querySelectorAll(":checked").length||z.push(":checked"),tt=b.createElement("input"),tt.setAttribute("type","hidden"),Z.appendChild(tt).setAttribute("name","D"),N.appendChild(Z).disabled=!0,Z.querySelectorAll(":disabled").length!==2&&z.push(":enabled",":disabled"),tt=b.createElement("input"),tt.setAttribute("name",""),Z.appendChild(tt),Z.querySelectorAll("[name='']").length||z.push("\\["+P+"*name"+P+"*="+P+`*(?:''|"")`)}),X.cssHas||z.push(":has"),z=z.length&&new RegExp(z.join("|")),fe=function(Z,tt){if(Z===tt)return w=!0,0;var lt=!Z.compareDocumentPosition-!tt.compareDocumentPosition;return lt||(lt=(Z.ownerDocument||Z)==(tt.ownerDocument||tt)?Z.compareDocumentPosition(tt):1,lt&1||!X.sortDetached&&tt.compareDocumentPosition(Z)===lt?Z===b||Z.ownerDocument==Xt&&zt.contains(Xt,Z)?-1:tt===b||tt.ownerDocument==Xt&&zt.contains(Xt,tt)?1:m?S.call(m,Z)-S.call(m,tt):0:lt&4?-1:1)}),b}zt.matches=function(I,B){return zt(I,null,null,B)},zt.matchesSelector=function(I,B){if(Bn(I),k&&!we[B+" "]&&(!z||!z.test(B)))try{var $=K.call(I,B);if($||X.disconnectedMatch||I.document&&I.document.nodeType!==11)return $}catch{we(B,!0)}return zt(B,b,null,[I]).length>0},zt.contains=function(I,B){return(I.ownerDocument||I)!=b&&Bn(I),h.contains(I,B)},zt.attr=function(I,B){(I.ownerDocument||I)!=b&&Bn(I);var $=l.attrHandle[B.toLowerCase()],Z=$&&J.call(l.attrHandle,B.toLowerCase())?$(I,B,!k):void 0;return Z!==void 0?Z:I.getAttribute(B)},zt.error=function(I){throw new Error("Syntax error, unrecognized expression: "+I)},h.uniqueSort=function(I){var B,$=[],Z=0,tt=0;if(w=!X.sortStable,m=!X.sortStable&&p.call(I,0),D.call(I,fe),w){for(;B=I[tt++];)B===I[tt]&&(Z=$.push(tt));for(;Z--;)H.call(I,$[Z],1)}return m=null,I},h.fn.uniqueSort=function(){return this.pushStack(h.uniqueSort(p.apply(this)))},l=h.expr={cacheLength:50,createPseudo:Me,match:F,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(I){return I[1]=I[1].replace(Mt,le),I[3]=(I[3]||I[4]||I[5]||"").replace(Mt,le),I[2]==="~="&&(I[3]=" "+I[3]+" "),I.slice(0,4)},CHILD:function(I){return I[1]=I[1].toLowerCase(),I[1].slice(0,3)==="nth"?(I[3]||zt.error(I[0]),I[4]=+(I[4]?I[5]+(I[6]||1):2*(I[3]==="even"||I[3]==="odd")),I[5]=+(I[7]+I[8]||I[3]==="odd")):I[3]&&zt.error(I[0]),I},PSEUDO:function(I){var B,$=!I[6]&&I[2];return F.CHILD.test(I[0])?null:(I[3]?I[2]=I[4]||I[5]||"":$&&y.test($)&&(B=Vi($,!0))&&(B=$.indexOf(")",$.length-B)-$.length)&&(I[0]=I[0].slice(0,B),I[2]=$.slice(0,B)),I.slice(0,3))}},filter:{TAG:function(I){var B=I.replace(Mt,le).toLowerCase();return I==="*"?function(){return!0}:function($){return x($,B)}},CLASS:function(I){var B=Tt[I+" "];return B||(B=new RegExp("(^|"+P+")"+I+"("+P+"|$)"))&&Tt(I,function($){return B.test(typeof $.className=="string"&&$.className||typeof $.getAttribute<"u"&&$.getAttribute("class")||"")})},ATTR:function(I,B,$){return function(Z){var tt=zt.attr(Z,I);return tt==null?B==="!=":B?(tt+="",B==="="?tt===$:B==="!="?tt!==$:B==="^="?$&&tt.indexOf($)===0:B==="*="?$&&tt.indexOf($)>-1:B==="$="?$&&tt.slice(-$.length)===$:B==="~="?(" "+tt.replace(Ut," ")+" ").indexOf($)>-1:B==="|="?tt===$||tt.slice(0,$.length+1)===$+"-":!1):!0}},CHILD:function(I,B,$,Z,tt){var lt=I.slice(0,3)!=="nth",ht=I.slice(-4)!=="last",mt=B==="of-type";return Z===1&&tt===0?function(ft){return!!ft.parentNode}:function(ft,Vt,Pt){var kt,qt,_t,re,Ke,Ae=lt!==ht?"nextSibling":"previousSibling",wn=ft.parentNode,zn=mt&&ft.nodeName.toLowerCase(),Er=!Pt&&!mt,Se=!1;if(wn){if(lt){for(;Ae;){for(_t=ft;_t=_t[Ae];)if(mt?x(_t,zn):_t.nodeType===1)return!1;Ke=Ae=I==="only"&&!Ke&&"nextSibling"}return!0}if(Ke=[ht?wn.firstChild:wn.lastChild],ht&&Er){for(qt=wn[Q]||(wn[Q]={}),kt=qt[I]||[],re=kt[0]===W&&kt[1],Se=re&&kt[2],_t=re&&wn.childNodes[re];_t=++re&&_t&&_t[Ae]||(Se=re=0)||Ke.pop();)if(_t.nodeType===1&&++Se&&_t===ft){qt[I]=[W,re,Se];break}}else if(Er&&(qt=ft[Q]||(ft[Q]={}),kt=qt[I]||[],re=kt[0]===W&&kt[1],Se=re),Se===!1)for(;(_t=++re&&_t&&_t[Ae]||(Se=re=0)||Ke.pop())&&!((mt?x(_t,zn):_t.nodeType===1)&&++Se&&(Er&&(qt=_t[Q]||(_t[Q]={}),qt[I]=[W,Se]),_t===ft)););return Se-=tt,Se===Z||Se%Z===0&&Se/Z>=0}}},PSEUDO:function(I,B){var $,Z=l.pseudos[I]||l.setFilters[I.toLowerCase()]||zt.error("unsupported pseudo: "+I);return Z[Q]?Z(B):Z.length>1?($=[I,I,"",B],l.setFilters.hasOwnProperty(I.toLowerCase())?Me(function(tt,lt){for(var ht,mt=Z(tt,B),ft=mt.length;ft--;)ht=S.call(tt,mt[ft]),tt[ht]=!(lt[ht]=mt[ft])}):function(tt){return Z(tt,0,$)}):Z}},pseudos:{not:Me(function(I){var B=[],$=[],Z=as(I.replace(Yt,"$1"));return Z[Q]?Me(function(tt,lt,ht,mt){for(var ft,Vt=Z(tt,null,mt,[]),Pt=tt.length;Pt--;)(ft=Vt[Pt])&&(tt[Pt]=!(lt[Pt]=ft))}):function(tt,lt,ht){return B[0]=tt,Z(B,null,ht,$),B[0]=null,!$.pop()}}),has:Me(function(I){return function(B){return zt(I,B).length>0}}),contains:Me(function(I){return I=I.replace(Mt,le),function(B){return(B.textContent||h.text(B)).indexOf(I)>-1}}),lang:Me(function(I){return C.test(I||"")||zt.error("unsupported lang: "+I),I=I.replace(Mt,le).toLowerCase(),function(B){var $;do if($=k?B.lang:B.getAttribute("xml:lang")||B.getAttribute("lang"))return $=$.toLowerCase(),$===I||$.indexOf(I+"-")===0;while((B=B.parentNode)&&B.nodeType===1);return!1}}),target:function(I){var B=t.location&&t.location.hash;return B&&B.slice(1)===I.id},root:function(I){return I===N},focus:function(I){return I===on()&&b.hasFocus()&&!!(I.type||I.href||~I.tabIndex)},enabled:os(!1),disabled:os(!0),checked:function(I){return x(I,"input")&&!!I.checked||x(I,"option")&&!!I.selected},selected:function(I){return I.parentNode&&I.parentNode.selectedIndex,I.selected===!0},empty:function(I){for(I=I.firstChild;I;I=I.nextSibling)if(I.nodeType<6)return!1;return!0},parent:function(I){return!l.pseudos.empty(I)},header:function(I){return st.test(I.nodeName)},input:function(I){return q.test(I.nodeName)},button:function(I){return x(I,"input")&&I.type==="button"||x(I,"button")},text:function(I){var B;return x(I,"input")&&I.type==="text"&&((B=I.getAttribute("type"))==null||B.toLowerCase()==="text")},first:$i(function(){return[0]}),last:$i(function(I,B){return[B-1]}),eq:$i(function(I,B,$){return[$<0?$+B:$]}),even:$i(function(I,B){for(var $=0;$<B;$+=2)I.push($);return I}),odd:$i(function(I,B){for(var $=1;$<B;$+=2)I.push($);return I}),lt:$i(function(I,B,$){var Z;for($<0?Z=$+B:$>B?Z=B:Z=$;--Z>=0;)I.push(Z);return I}),gt:$i(function(I,B,$){for(var Z=$<0?$+B:$;++Z<B;)I.push(Z);return I})}},l.pseudos.nth=l.pseudos.eq;for(s in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})l.pseudos[s]=ss(s);for(s in{submit:!0,reset:!0})l.pseudos[s]=Mo(s);function Bo(){}Bo.prototype=l.filters=l.pseudos,l.setFilters=new Bo;function Vi(I,B){var $,Z,tt,lt,ht,mt,ft,Vt=$t[I+" "];if(Vt)return B?0:Vt.slice(0);for(ht=I,mt=[],ft=l.preFilter;ht;){(!$||(Z=ie.exec(ht)))&&(Z&&(ht=ht.slice(Z[0].length)||ht),mt.push(tt=[])),$=!1,(Z=a.exec(ht))&&($=Z.shift(),tt.push({value:$,type:Z[0].replace(Yt," ")}),ht=ht.slice($.length));for(lt in l.filter)(Z=F[lt].exec(ht))&&(!ft[lt]||(Z=ft[lt](Z)))&&($=Z.shift(),tt.push({value:$,type:lt,matches:Z}),ht=ht.slice($.length));if(!$)break}return B?ht.length:ht?zt.error(I):$t(I,mt).slice(0)}function Os(I){for(var B=0,$=I.length,Z="";B<$;B++)Z+=I[B].value;return Z}function yn(I,B,$){var Z=B.dir,tt=B.next,lt=tt||Z,ht=$&&lt==="parentNode",mt=it++;return B.first?function(ft,Vt,Pt){for(;ft=ft[Z];)if(ft.nodeType===1||ht)return I(ft,Vt,Pt);return!1}:function(ft,Vt,Pt){var kt,qt,_t=[W,mt];if(Pt){for(;ft=ft[Z];)if((ft.nodeType===1||ht)&&I(ft,Vt,Pt))return!0}else for(;ft=ft[Z];)if(ft.nodeType===1||ht)if(qt=ft[Q]||(ft[Q]={}),tt&&x(ft,tt))ft=ft[Z]||ft;else{if((kt=qt[lt])&&kt[0]===W&&kt[1]===mt)return _t[2]=kt[2];if(qt[lt]=_t,_t[2]=I(ft,Vt,Pt))return!0}return!1}}function uo(I){return I.length>1?function(B,$,Z){for(var tt=I.length;tt--;)if(!I[tt](B,$,Z))return!1;return!0}:I[0]}function yr(I,B,$){for(var Z=0,tt=B.length;Z<tt;Z++)zt(I,B[Z],$);return $}function ks(I,B,$,Z,tt){for(var lt,ht=[],mt=0,ft=I.length,Vt=B!=null;mt<ft;mt++)(lt=I[mt])&&(!$||$(lt,Z,tt))&&(ht.push(lt),Vt&&B.push(mt));return ht}function Un(I,B,$,Z,tt,lt){return Z&&!Z[Q]&&(Z=Un(Z)),tt&&!tt[Q]&&(tt=Un(tt,lt)),Me(function(ht,mt,ft,Vt){var Pt,kt,qt,_t,re=[],Ke=[],Ae=mt.length,wn=ht||yr(B||"*",ft.nodeType?[ft]:ft,[]),zn=I&&(ht||!B)?ks(wn,re,I,ft,Vt):wn;if($?(_t=tt||(ht?I:Ae||Z)?[]:mt,$(zn,_t,ft,Vt)):_t=zn,Z)for(Pt=ks(_t,Ke),Z(Pt,[],ft,Vt),kt=Pt.length;kt--;)(qt=Pt[kt])&&(_t[Ke[kt]]=!(zn[Ke[kt]]=qt));if(ht){if(tt||I){if(tt){for(Pt=[],kt=_t.length;kt--;)(qt=_t[kt])&&Pt.push(zn[kt]=qt);tt(null,_t=[],Pt,Vt)}for(kt=_t.length;kt--;)(qt=_t[kt])&&(Pt=tt?S.call(ht,qt):re[kt])>-1&&(ht[Pt]=!(mt[Pt]=qt))}}else _t=ks(_t===mt?_t.splice(Ae,_t.length):_t),tt?tt(null,mt,_t,Vt):E.apply(mt,_t)})}function wr(I){for(var B,$,Z,tt=I.length,lt=l.relative[I[0].type],ht=lt||l.relative[" "],mt=lt?1:0,ft=yn(function(kt){return kt===B},ht,!0),Vt=yn(function(kt){return S.call(B,kt)>-1},ht,!0),Pt=[function(kt,qt,_t){var re=!lt&&(_t||qt!=d)||((B=qt).nodeType?ft(kt,qt,_t):Vt(kt,qt,_t));return B=null,re}];mt<tt;mt++)if($=l.relative[I[mt].type])Pt=[yn(uo(Pt),$)];else{if($=l.filter[I[mt].type].apply(null,I[mt].matches),$[Q]){for(Z=++mt;Z<tt&&!l.relative[I[Z].type];Z++);return Un(mt>1&&uo(Pt),mt>1&&Os(I.slice(0,mt-1).concat({value:I[mt-2].type===" "?"*":""})).replace(Yt,"$1"),$,mt<Z&&wr(I.slice(mt,Z)),Z<tt&&wr(I=I.slice(Z)),Z<tt&&Os(I))}Pt.push($)}return uo(Pt)}function Uo(I,B){var $=B.length>0,Z=I.length>0,tt=function(lt,ht,mt,ft,Vt){var Pt,kt,qt,_t=0,re="0",Ke=lt&&[],Ae=[],wn=d,zn=lt||Z&&l.find.TAG("*",Vt),Er=W+=wn==null?1:Math.random()||.1,Se=zn.length;for(Vt&&(d=ht==b||ht||Vt);re!==Se&&(Pt=zn[re])!=null;re++){if(Z&&Pt){for(kt=0,!ht&&Pt.ownerDocument!=b&&(Bn(Pt),mt=!k);qt=I[kt++];)if(qt(Pt,ht||b,mt)){E.call(ft,Pt);break}Vt&&(W=Er)}$&&((Pt=!qt&&Pt)&&_t--,lt&&Ke.push(Pt))}if(_t+=re,$&&re!==_t){for(kt=0;qt=B[kt++];)qt(Ke,Ae,ht,mt);if(lt){if(_t>0)for(;re--;)Ke[re]||Ae[re]||(Ae[re]=M.call(ft));Ae=ks(Ae)}E.apply(ft,Ae),Vt&&!lt&&Ae.length>0&&_t+B.length>1&&h.uniqueSort(ft)}return Vt&&(W=Er,d=wn),Ke};return $?Me(tt):tt}function as(I,B){var $,Z=[],tt=[],lt=xt[I+" "];if(!lt){for(B||(B=Vi(I)),$=B.length;$--;)lt=wr(B[$]),lt[Q]?Z.push(lt):tt.push(lt);lt=xt(I,Uo(tt,Z)),lt.selector=I}return lt}function us(I,B,$,Z){var tt,lt,ht,mt,ft,Vt=typeof I=="function"&&I,Pt=!Z&&Vi(I=Vt.selector||I);if($=$||[],Pt.length===1){if(lt=Pt[0]=Pt[0].slice(0),lt.length>2&&(ht=lt[0]).type==="ID"&&B.nodeType===9&&k&&l.relative[lt[1].type]){if(B=(l.find.ID(ht.matches[0].replace(Mt,le),B)||[])[0],B)Vt&&(B=B.parentNode);else return $;I=I.slice(lt.shift().value.length)}for(tt=F.needsContext.test(I)?0:lt.length;tt--&&(ht=lt[tt],!l.relative[mt=ht.type]);)if((ft=l.find[mt])&&(Z=ft(ht.matches[0].replace(Mt,le),me.test(lt[0].type)&&Xn(B.parentNode)||B))){if(lt.splice(tt,1),I=Z.length&&Os(lt),!I)return E.apply($,Z),$;break}}return(Vt||as(I,Pt))(Z,B,!k,$,!B||me.test(I)&&Xn(B.parentNode)||B),$}X.sortStable=Q.split("").sort(fe).join("")===Q,Bn(),X.sortDetached=vr(function(I){return I.compareDocumentPosition(b.createElement("fieldset"))&1}),h.find=zt,h.expr[":"]=h.expr.pseudos,h.unique=h.uniqueSort,zt.compile=as,zt.select=us,zt.setDocument=Bn,zt.tokenize=Vi,zt.escape=h.escapeSelector,zt.getText=h.text,zt.isXML=h.isXMLDoc,zt.selectors=h.expr,zt.support=h.support,zt.uniqueSort=h.uniqueSort})();var Ee=function(s,l,d){for(var m=[],w=d!==void 0;(s=s[l])&&s.nodeType!==9;)if(s.nodeType===1){if(w&&h(s).is(d))break;m.push(s)}return m},Et=function(s,l){for(var d=[];s;s=s.nextSibling)s.nodeType===1&&s!==l&&d.push(s);return d},Jt=h.expr.match.needsContext,Qt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ft(s,l,d){return Y(l)?h.grep(s,function(m,w){return!!l.call(m,w,m)!==d}):l.nodeType?h.grep(s,function(m){return m===l!==d}):typeof l!="string"?h.grep(s,function(m){return S.call(l,m)>-1!==d}):h.filter(l,s,d)}h.filter=function(s,l,d){var m=l[0];return d&&(s=":not("+s+")"),l.length===1&&m.nodeType===1?h.find.matchesSelector(m,s)?[m]:[]:h.find.matches(s,h.grep(l,function(w){return w.nodeType===1}))},h.fn.extend({find:function(s){var l,d,m=this.length,w=this;if(typeof s!="string")return this.pushStack(h(s).filter(function(){for(l=0;l<m;l++)if(h.contains(w[l],this))return!0}));for(d=this.pushStack([]),l=0;l<m;l++)h.find(s,w[l],d);return m>1?h.uniqueSort(d):d},filter:function(s){return this.pushStack(Ft(this,s||[],!1))},not:function(s){return this.pushStack(Ft(this,s||[],!0))},is:function(s){return!!Ft(this,typeof s=="string"&&Jt.test(s)?h(s):s||[],!1).length}});var te,Rt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Bt=h.fn.init=function(s,l,d){var m,w;if(!s)return this;if(d=d||te,typeof s=="string")if(s[0]==="<"&&s[s.length-1]===">"&&s.length>=3?m=[null,s,null]:m=Rt.exec(s),m&&(m[1]||!l))if(m[1]){if(l=l instanceof h?l[0]:l,h.merge(this,h.parseHTML(m[1],l&&l.nodeType?l.ownerDocument||l:ot,!0)),Qt.test(m[1])&&h.isPlainObject(l))for(m in l)Y(this[m])?this[m](l[m]):this.attr(m,l[m]);return this}else return w=ot.getElementById(m[2]),w&&(this[0]=w,this.length=1),this;else return!l||l.jquery?(l||d).find(s):this.constructor(l).find(s);else{if(s.nodeType)return this[0]=s,this.length=1,this;if(Y(s))return d.ready!==void 0?d.ready(s):s(h)}return h.makeArray(s,this)};Bt.prototype=h.fn,te=h(ot);var be=/^(?:parents|prev(?:Until|All))/,Ce={children:!0,contents:!0,next:!0,prev:!0};h.fn.extend({has:function(s){var l=h(s,this),d=l.length;return this.filter(function(){for(var m=0;m<d;m++)if(h.contains(this,l[m]))return!0})},closest:function(s,l){var d,m=0,w=this.length,E=[],b=typeof s!="string"&&h(s);if(!Jt.test(s)){for(;m<w;m++)for(d=this[m];d&&d!==l;d=d.parentNode)if(d.nodeType<11&&(b?b.index(d)>-1:d.nodeType===1&&h.find.matchesSelector(d,s))){E.push(d);break}}return this.pushStack(E.length>1?h.uniqueSort(E):E)},index:function(s){return s?typeof s=="string"?S.call(h(s),this[0]):S.call(this,s.jquery?s[0]:s):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(s,l){return this.pushStack(h.uniqueSort(h.merge(this.get(),h(s,l))))},addBack:function(s){return this.add(s==null?this.prevObject:this.prevObject.filter(s))}});function si(s,l){for(;(s=s[l])&&s.nodeType!==1;);return s}h.each({parent:function(s){var l=s.parentNode;return l&&l.nodeType!==11?l:null},parents:function(s){return Ee(s,"parentNode")},parentsUntil:function(s,l,d){return Ee(s,"parentNode",d)},next:function(s){return si(s,"nextSibling")},prev:function(s){return si(s,"previousSibling")},nextAll:function(s){return Ee(s,"nextSibling")},prevAll:function(s){return Ee(s,"previousSibling")},nextUntil:function(s,l,d){return Ee(s,"nextSibling",d)},prevUntil:function(s,l,d){return Ee(s,"previousSibling",d)},siblings:function(s){return Et((s.parentNode||{}).firstChild,s)},children:function(s){return Et(s.firstChild)},contents:function(s){return s.contentDocument!=null&&c(s.contentDocument)?s.contentDocument:(x(s,"template")&&(s=s.content||s),h.merge([],s.childNodes))}},function(s,l){h.fn[s]=function(d,m){var w=h.map(this,l,d);return s.slice(-5)!=="Until"&&(m=d),m&&typeof m=="string"&&(w=h.filter(m,w)),this.length>1&&(Ce[s]||h.uniqueSort(w),be.test(s)&&w.reverse()),this.pushStack(w)}});var Te=/[^\x20\t\r\n\f]+/g;function dn(s){var l={};return h.each(s.match(Te)||[],function(d,m){l[m]=!0}),l}h.Callbacks=function(s){s=typeof s=="string"?dn(s):h.extend({},s);var l,d,m,w,E=[],b=[],N=-1,k=function(){for(w=w||s.once,m=l=!0;b.length;N=-1)for(d=b.shift();++N<E.length;)E[N].apply(d[0],d[1])===!1&&s.stopOnFalse&&(N=E.length,d=!1);s.memory||(d=!1),l=!1,w&&(d?E=[]:E="")},z={add:function(){return E&&(d&&!l&&(N=E.length-1,b.push(d)),function K(Q){h.each(Q,function(W,it){Y(it)?(!s.unique||!z.has(it))&&E.push(it):it&&it.length&&ct(it)!=="string"&&K(it)})}(arguments),d&&!l&&k()),this},remove:function(){return h.each(arguments,function(K,Q){for(var W;(W=h.inArray(Q,E,W))>-1;)E.splice(W,1),W<=N&&N--}),this},has:function(K){return K?h.inArray(K,E)>-1:E.length>0},empty:function(){return E&&(E=[]),this},disable:function(){return w=b=[],E=d="",this},disabled:function(){return!E},lock:function(){return w=b=[],!d&&!l&&(E=d=""),this},locked:function(){return!!w},fireWith:function(K,Q){return w||(Q=Q||[],Q=[K,Q.slice?Q.slice():Q],b.push(Q),l||k()),this},fire:function(){return z.fireWith(this,arguments),this},fired:function(){return!!m}};return z};function Oe(s){return s}function Xe(s){throw s}function yi(s,l,d,m){var w;try{s&&Y(w=s.promise)?w.call(s).done(l).fail(d):s&&Y(w=s.then)?w.call(s,l,d):l.apply(void 0,[s].slice(m))}catch(E){d.apply(void 0,[E])}}h.extend({Deferred:function(s){var l=[["notify","progress",h.Callbacks("memory"),h.Callbacks("memory"),2],["resolve","done",h.Callbacks("once memory"),h.Callbacks("once memory"),0,"resolved"],["reject","fail",h.Callbacks("once memory"),h.Callbacks("once memory"),1,"rejected"]],d="pending",m={state:function(){return d},always:function(){return w.done(arguments).fail(arguments),this},catch:function(E){return m.then(null,E)},pipe:function(){var E=arguments;return h.Deferred(function(b){h.each(l,function(N,k){var z=Y(E[k[4]])&&E[k[4]];w[k[1]](function(){var K=z&&z.apply(this,arguments);K&&Y(K.promise)?K.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[k[0]+"With"](this,z?[K]:arguments)})}),E=null}).promise()},then:function(E,b,N){var k=0;function z(K,Q,W,it){return function(){var Tt=this,$t=arguments,xt=function(){var fe,nn;if(!(K<k)){if(fe=W.apply(Tt,$t),fe===Q.promise())throw new TypeError("Thenable self-resolution");nn=fe&&(typeof fe=="object"||typeof fe=="function")&&fe.then,Y(nn)?it?nn.call(fe,z(k,Q,Oe,it),z(k,Q,Xe,it)):(k++,nn.call(fe,z(k,Q,Oe,it),z(k,Q,Xe,it),z(k,Q,Oe,Q.notifyWith))):(W!==Oe&&(Tt=void 0,$t=[fe]),(it||Q.resolveWith)(Tt,$t))}},we=it?xt:function(){try{xt()}catch(fe){h.Deferred.exceptionHook&&h.Deferred.exceptionHook(fe,we.error),K+1>=k&&(W!==Xe&&(Tt=void 0,$t=[fe]),Q.rejectWith(Tt,$t))}};K?we():(h.Deferred.getErrorHook?we.error=h.Deferred.getErrorHook():h.Deferred.getStackHook&&(we.error=h.Deferred.getStackHook()),t.setTimeout(we))}}return h.Deferred(function(K){l[0][3].add(z(0,K,Y(N)?N:Oe,K.notifyWith)),l[1][3].add(z(0,K,Y(E)?E:Oe)),l[2][3].add(z(0,K,Y(b)?b:Xe))}).promise()},promise:function(E){return E!=null?h.extend(E,m):m}},w={};return h.each(l,function(E,b){var N=b[2],k=b[5];m[b[1]]=N.add,k&&N.add(function(){d=k},l[3-E][2].disable,l[3-E][3].disable,l[0][2].lock,l[0][3].lock),N.add(b[3].fire),w[b[0]]=function(){return w[b[0]+"With"](this===w?void 0:this,arguments),this},w[b[0]+"With"]=N.fireWith}),m.promise(w),s&&s.call(w,w),w},when:function(s){var l=arguments.length,d=l,m=Array(d),w=p.call(arguments),E=h.Deferred(),b=function(N){return function(k){m[N]=this,w[N]=arguments.length>1?p.call(arguments):k,--l||E.resolveWith(m,w)}};if(l<=1&&(yi(s,E.done(b(d)).resolve,E.reject,!l),E.state()==="pending"||Y(w[d]&&w[d].then)))return E.then();for(;d--;)yi(w[d],b(d),E.reject);return E.promise()}});var wi=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;h.Deferred.exceptionHook=function(s,l){t.console&&t.console.warn&&s&&wi.test(s.name)&&t.console.warn("jQuery.Deferred exception: "+s.message,s.stack,l)},h.readyException=function(s){t.setTimeout(function(){throw s})};var Vn=h.Deferred();h.fn.ready=function(s){return Vn.then(s).catch(function(l){h.readyException(l)}),this},h.extend({isReady:!1,readyWait:1,ready:function(s){(s===!0?--h.readyWait:h.isReady)||(h.isReady=!0,!(s!==!0&&--h.readyWait>0)&&Vn.resolveWith(ot,[h]))}}),h.ready.then=Vn.then;function In(){ot.removeEventListener("DOMContentLoaded",In),t.removeEventListener("load",In),h.ready()}ot.readyState==="complete"||ot.readyState!=="loading"&&!ot.documentElement.doScroll?t.setTimeout(h.ready):(ot.addEventListener("DOMContentLoaded",In),t.addEventListener("load",In));var ke=function(s,l,d,m,w,E,b){var N=0,k=s.length,z=d==null;if(ct(d)==="object"){w=!0;for(N in d)ke(s,l,N,d[N],!0,E,b)}else if(m!==void 0&&(w=!0,Y(m)||(b=!0),z&&(b?(l.call(s,m),l=null):(z=l,l=function(K,Q,W){return z.call(h(K),W)})),l))for(;N<k;N++)l(s[N],d,b?m:m.call(s[N],N,l(s[N],d)));return w?s:z?l.call(s):k?l(s[0],d):E},nr=/^-ms-/,Ve=/-([a-z])/g;function xn(s,l){return l.toUpperCase()}function Ne(s){return s.replace(nr,"ms-").replace(Ve,xn)}var Je=function(s){return s.nodeType===1||s.nodeType===9||!+s.nodeType};function Qe(){this.expando=h.expando+Qe.uid++}Qe.uid=1,Qe.prototype={cache:function(s){var l=s[this.expando];return l||(l={},Je(s)&&(s.nodeType?s[this.expando]=l:Object.defineProperty(s,this.expando,{value:l,configurable:!0}))),l},set:function(s,l,d){var m,w=this.cache(s);if(typeof l=="string")w[Ne(l)]=d;else for(m in l)w[Ne(m)]=l[m];return w},get:function(s,l){return l===void 0?this.cache(s):s[this.expando]&&s[this.expando][Ne(l)]},access:function(s,l,d){return l===void 0||l&&typeof l=="string"&&d===void 0?this.get(s,l):(this.set(s,l,d),d!==void 0?d:l)},remove:function(s,l){var d,m=s[this.expando];if(m!==void 0){if(l!==void 0)for(Array.isArray(l)?l=l.map(Ne):(l=Ne(l),l=l in m?[l]:l.match(Te)||[]),d=l.length;d--;)delete m[l[d]];(l===void 0||h.isEmptyObject(m))&&(s.nodeType?s[this.expando]=void 0:delete s[this.expando])}},hasData:function(s){var l=s[this.expando];return l!==void 0&&!h.isEmptyObject(l)}};var gt=new Qe,Zt=new Qe,ge=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Wn=/[A-Z]/g;function Ss(s){return s==="true"?!0:s==="false"?!1:s==="null"?null:s===+s+""?+s:ge.test(s)?JSON.parse(s):s}function ir(s,l,d){var m;if(d===void 0&&s.nodeType===1)if(m="data-"+l.replace(Wn,"-$&").toLowerCase(),d=s.getAttribute(m),typeof d=="string"){try{d=Ss(d)}catch{}Zt.set(s,l,d)}else d=void 0;return d}h.extend({hasData:function(s){return Zt.hasData(s)||gt.hasData(s)},data:function(s,l,d){return Zt.access(s,l,d)},removeData:function(s,l){Zt.remove(s,l)},_data:function(s,l,d){return gt.access(s,l,d)},_removeData:function(s,l){gt.remove(s,l)}}),h.fn.extend({data:function(s,l){var d,m,w,E=this[0],b=E&&E.attributes;if(s===void 0){if(this.length&&(w=Zt.get(E),E.nodeType===1&&!gt.get(E,"hasDataAttrs"))){for(d=b.length;d--;)b[d]&&(m=b[d].name,m.indexOf("data-")===0&&(m=Ne(m.slice(5)),ir(E,m,w[m])));gt.set(E,"hasDataAttrs",!0)}return w}return typeof s=="object"?this.each(function(){Zt.set(this,s)}):ke(this,function(N){var k;if(E&&N===void 0)return k=Zt.get(E,s),k!==void 0||(k=ir(E,s),k!==void 0)?k:void 0;this.each(function(){Zt.set(this,s,N)})},null,l,arguments.length>1,null,!0)},removeData:function(s){return this.each(function(){Zt.remove(this,s)})}}),h.extend({queue:function(s,l,d){var m;if(s)return l=(l||"fx")+"queue",m=gt.get(s,l),d&&(!m||Array.isArray(d)?m=gt.access(s,l,h.makeArray(d)):m.push(d)),m||[]},dequeue:function(s,l){l=l||"fx";var d=h.queue(s,l),m=d.length,w=d.shift(),E=h._queueHooks(s,l),b=function(){h.dequeue(s,l)};w==="inprogress"&&(w=d.shift(),m--),w&&(l==="fx"&&d.unshift("inprogress"),delete E.stop,w.call(s,b,E)),!m&&E&&E.empty.fire()},_queueHooks:function(s,l){var d=l+"queueHooks";return gt.get(s,d)||gt.access(s,d,{empty:h.Callbacks("once memory").add(function(){gt.remove(s,[l+"queue",d])})})}}),h.fn.extend({queue:function(s,l){var d=2;return typeof s!="string"&&(l=s,s="fx",d--),arguments.length<d?h.queue(this[0],s):l===void 0?this:this.each(function(){var m=h.queue(this,s,l);h._queueHooks(this,s),s==="fx"&&m[0]!=="inprogress"&&h.dequeue(this,s)})},dequeue:function(s){return this.each(function(){h.dequeue(this,s)})},clearQueue:function(s){return this.queue(s||"fx",[])},promise:function(s,l){var d,m=1,w=h.Deferred(),E=this,b=this.length,N=function(){--m||w.resolveWith(E,[E])};for(typeof s!="string"&&(l=s,s=void 0),s=s||"fx";b--;)d=gt.get(E[b],s+"queueHooks"),d&&d.empty&&(m++,d.empty.add(N));return N(),w.promise(l)}});var Vr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pn=new RegExp("^(?:([+-])=|)("+Vr+")([a-z%]*)$","i"),tn=["Top","Right","Bottom","Left"],pn=ot.documentElement,Ln=function(s){return h.contains(s.ownerDocument,s)},oo={composed:!0};pn.getRootNode&&(Ln=function(s){return h.contains(s.ownerDocument,s)||s.getRootNode(oo)===s.ownerDocument});var qn=function(s,l){return s=l||s,s.style.display==="none"||s.style.display===""&&Ln(s)&&h.css(s,"display")==="none"};function rr(s,l,d,m){var w,E,b=20,N=m?function(){return m.cur()}:function(){return h.css(s,l,"")},k=N(),z=d&&d[3]||(h.cssNumber[l]?"":"px"),K=s.nodeType&&(h.cssNumber[l]||z!=="px"&&+k)&&Pn.exec(h.css(s,l));if(K&&K[3]!==z){for(k=k/2,z=z||K[3],K=+k||1;b--;)h.style(s,l,K+z),(1-E)*(1-(E=N()/k||.5))<=0&&(b=0),K=K/E;K=K*2,h.style(s,l,K+z),d=d||[]}return d&&(K=+K||+k||0,w=d[1]?K+(d[1]+1)*d[2]:+d[2],m&&(m.unit=z,m.start=K,m.end=w)),w}var Wr={};function Cs(s){var l,d=s.ownerDocument,m=s.nodeName,w=Wr[m];return w||(l=d.body.appendChild(d.createElement(m)),w=h.css(l,"display"),l.parentNode.removeChild(l),w==="none"&&(w="block"),Wr[m]=w,w)}function en(s,l){for(var d,m,w=[],E=0,b=s.length;E<b;E++)m=s[E],m.style&&(d=m.style.display,l?(d==="none"&&(w[E]=gt.get(m,"display")||null,w[E]||(m.style.display="")),m.style.display===""&&qn(m)&&(w[E]=Cs(m))):d!=="none"&&(w[E]="none",gt.set(m,"display",d)));for(E=0;E<b;E++)w[E]!=null&&(s[E].style.display=w[E]);return s}h.fn.extend({show:function(){return en(this,!0)},hide:function(){return en(this)},toggle:function(s){return typeof s=="boolean"?s?this.show():this.hide():this.each(function(){qn(this)?h(this).show():h(this).hide()})}});var Zn=/^(?:checkbox|radio)$/i,sr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,oi=/^$|^module$|\/(?:java|ecma)script/i;(function(){var s=ot.createDocumentFragment(),l=s.appendChild(ot.createElement("div")),d=ot.createElement("input");d.setAttribute("type","radio"),d.setAttribute("checked","checked"),d.setAttribute("name","t"),l.appendChild(d),X.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,l.innerHTML="<textarea>x</textarea>",X.noCloneChecked=!!l.cloneNode(!0).lastChild.defaultValue,l.innerHTML="<option></option>",X.option=!!l.lastChild})();var ze={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ze.tbody=ze.tfoot=ze.colgroup=ze.caption=ze.thead,ze.th=ze.td,X.option||(ze.optgroup=ze.option=[1,"<select multiple='multiple'>","</select>"]);function Ie(s,l){var d;return typeof s.getElementsByTagName<"u"?d=s.getElementsByTagName(l||"*"):typeof s.querySelectorAll<"u"?d=s.querySelectorAll(l||"*"):d=[],l===void 0||l&&x(s,l)?h.merge([s],d):d}function or(s,l){for(var d=0,m=s.length;d<m;d++)gt.set(s[d],"globalEval",!l||gt.get(l[d],"globalEval"))}var Di=/<|&#?\w+;/;function Mi(s,l,d,m,w){for(var E,b,N,k,z,K,Q=l.createDocumentFragment(),W=[],it=0,Tt=s.length;it<Tt;it++)if(E=s[it],E||E===0)if(ct(E)==="object")h.merge(W,E.nodeType?[E]:E);else if(!Di.test(E))W.push(l.createTextNode(E));else{for(b=b||Q.appendChild(l.createElement("div")),N=(sr.exec(E)||["",""])[1].toLowerCase(),k=ze[N]||ze._default,b.innerHTML=k[1]+h.htmlPrefilter(E)+k[2],K=k[0];K--;)b=b.lastChild;h.merge(W,b.childNodes),b=Q.firstChild,b.textContent=""}for(Q.textContent="",it=0;E=W[it++];){if(m&&h.inArray(E,m)>-1){w&&w.push(E);continue}if(z=Ln(E),b=Ie(Q.appendChild(E),"script"),z&&or(b),d)for(K=0;E=b[K++];)oi.test(E.type||"")&&d.push(E)}return Q}var xe=/^([^.]*)(?:\.(.+)|)/;function ai(){return!0}function gn(){return!1}function ui(s,l,d,m,w,E){var b,N;if(typeof l=="object"){typeof d!="string"&&(m=m||d,d=void 0);for(N in l)ui(s,N,d,m,l[N],E);return s}if(m==null&&w==null?(w=d,m=d=void 0):w==null&&(typeof d=="string"?(w=m,m=void 0):(w=m,m=d,d=void 0)),w===!1)w=gn;else if(!w)return s;return E===1&&(b=w,w=function(k){return h().off(k),b.apply(this,arguments)},w.guid=b.guid||(b.guid=h.guid++)),s.each(function(){h.event.add(this,l,w,m,d)})}h.event={global:{},add:function(s,l,d,m,w){var E,b,N,k,z,K,Q,W,it,Tt,$t,xt=gt.get(s);if(Je(s))for(d.handler&&(E=d,d=E.handler,w=E.selector),w&&h.find.matchesSelector(pn,w),d.guid||(d.guid=h.guid++),(k=xt.events)||(k=xt.events=Object.create(null)),(b=xt.handle)||(b=xt.handle=function(we){return typeof h<"u"&&h.event.triggered!==we.type?h.event.dispatch.apply(s,arguments):void 0}),l=(l||"").match(Te)||[""],z=l.length;z--;)N=xe.exec(l[z])||[],it=$t=N[1],Tt=(N[2]||"").split(".").sort(),it&&(Q=h.event.special[it]||{},it=(w?Q.delegateType:Q.bindType)||it,Q=h.event.special[it]||{},K=h.extend({type:it,origType:$t,data:m,handler:d,guid:d.guid,selector:w,needsContext:w&&h.expr.match.needsContext.test(w),namespace:Tt.join(".")},E),(W=k[it])||(W=k[it]=[],W.delegateCount=0,(!Q.setup||Q.setup.call(s,m,Tt,b)===!1)&&s.addEventListener&&s.addEventListener(it,b)),Q.add&&(Q.add.call(s,K),K.handler.guid||(K.handler.guid=d.guid)),w?W.splice(W.delegateCount++,0,K):W.push(K),h.event.global[it]=!0)},remove:function(s,l,d,m,w){var E,b,N,k,z,K,Q,W,it,Tt,$t,xt=gt.hasData(s)&&gt.get(s);if(!(!xt||!(k=xt.events))){for(l=(l||"").match(Te)||[""],z=l.length;z--;){if(N=xe.exec(l[z])||[],it=$t=N[1],Tt=(N[2]||"").split(".").sort(),!it){for(it in k)h.event.remove(s,it+l[z],d,m,!0);continue}for(Q=h.event.special[it]||{},it=(m?Q.delegateType:Q.bindType)||it,W=k[it]||[],N=N[2]&&new RegExp("(^|\\.)"+Tt.join("\\.(?:.*\\.|)")+"(\\.|$)"),b=E=W.length;E--;)K=W[E],(w||$t===K.origType)&&(!d||d.guid===K.guid)&&(!N||N.test(K.namespace))&&(!m||m===K.selector||m==="**"&&K.selector)&&(W.splice(E,1),K.selector&&W.delegateCount--,Q.remove&&Q.remove.call(s,K));b&&!W.length&&((!Q.teardown||Q.teardown.call(s,Tt,xt.handle)===!1)&&h.removeEvent(s,it,xt.handle),delete k[it])}h.isEmptyObject(k)&&gt.remove(s,"handle events")}},dispatch:function(s){var l,d,m,w,E,b,N=new Array(arguments.length),k=h.event.fix(s),z=(gt.get(this,"events")||Object.create(null))[k.type]||[],K=h.event.special[k.type]||{};for(N[0]=k,l=1;l<arguments.length;l++)N[l]=arguments[l];if(k.delegateTarget=this,!(K.preDispatch&&K.preDispatch.call(this,k)===!1)){for(b=h.event.handlers.call(this,k,z),l=0;(w=b[l++])&&!k.isPropagationStopped();)for(k.currentTarget=w.elem,d=0;(E=w.handlers[d++])&&!k.isImmediatePropagationStopped();)(!k.rnamespace||E.namespace===!1||k.rnamespace.test(E.namespace))&&(k.handleObj=E,k.data=E.data,m=((h.event.special[E.origType]||{}).handle||E.handler).apply(w.elem,N),m!==void 0&&(k.result=m)===!1&&(k.preventDefault(),k.stopPropagation()));return K.postDispatch&&K.postDispatch.call(this,k),k.result}},handlers:function(s,l){var d,m,w,E,b,N=[],k=l.delegateCount,z=s.target;if(k&&z.nodeType&&!(s.type==="click"&&s.button>=1)){for(;z!==this;z=z.parentNode||this)if(z.nodeType===1&&!(s.type==="click"&&z.disabled===!0)){for(E=[],b={},d=0;d<k;d++)m=l[d],w=m.selector+" ",b[w]===void 0&&(b[w]=m.needsContext?h(w,this).index(z)>-1:h.find(w,this,null,[z]).length),b[w]&&E.push(m);E.length&&N.push({elem:z,handlers:E})}}return z=this,k<l.length&&N.push({elem:z,handlers:l.slice(k)}),N},addProp:function(s,l){Object.defineProperty(h.Event.prototype,s,{enumerable:!0,configurable:!0,get:Y(l)?function(){if(this.originalEvent)return l(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[s]},set:function(d){Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:d})}})},fix:function(s){return s[h.expando]?s:new h.Event(s)},special:{load:{noBubble:!0},click:{setup:function(s){var l=this||s;return Zn.test(l.type)&&l.click&&x(l,"input")&&He(l,"click",!0),!1},trigger:function(s){var l=this||s;return Zn.test(l.type)&&l.click&&x(l,"input")&&He(l,"click"),!0},_default:function(s){var l=s.target;return Zn.test(l.type)&&l.click&&x(l,"input")&&gt.get(l,"click")||x(l,"a")}},beforeunload:{postDispatch:function(s){s.result!==void 0&&s.originalEvent&&(s.originalEvent.returnValue=s.result)}}}};function He(s,l,d){if(!d){gt.get(s,l)===void 0&&h.event.add(s,l,ai);return}gt.set(s,l,!1),h.event.add(s,l,{namespace:!1,handler:function(m){var w,E=gt.get(this,l);if(m.isTrigger&1&&this[l]){if(E)(h.event.special[l]||{}).delegateType&&m.stopPropagation();else if(E=p.call(arguments),gt.set(this,l,E),this[l](),w=gt.get(this,l),gt.set(this,l,!1),E!==w)return m.stopImmediatePropagation(),m.preventDefault(),w}else E&&(gt.set(this,l,h.event.trigger(E[0],E.slice(1),this)),m.stopPropagation(),m.isImmediatePropagationStopped=ai)}})}h.removeEvent=function(s,l,d){s.removeEventListener&&s.removeEventListener(l,d)},h.Event=function(s,l){if(!(this instanceof h.Event))return new h.Event(s,l);s&&s.type?(this.originalEvent=s,this.type=s.type,this.isDefaultPrevented=s.defaultPrevented||s.defaultPrevented===void 0&&s.returnValue===!1?ai:gn,this.target=s.target&&s.target.nodeType===3?s.target.parentNode:s.target,this.currentTarget=s.currentTarget,this.relatedTarget=s.relatedTarget):this.type=s,l&&h.extend(this,l),this.timeStamp=s&&s.timeStamp||Date.now(),this[h.expando]=!0},h.Event.prototype={constructor:h.Event,isDefaultPrevented:gn,isPropagationStopped:gn,isImmediatePropagationStopped:gn,isSimulated:!1,preventDefault:function(){var s=this.originalEvent;this.isDefaultPrevented=ai,s&&!this.isSimulated&&s.preventDefault()},stopPropagation:function(){var s=this.originalEvent;this.isPropagationStopped=ai,s&&!this.isSimulated&&s.stopPropagation()},stopImmediatePropagation:function(){var s=this.originalEvent;this.isImmediatePropagationStopped=ai,s&&!this.isSimulated&&s.stopImmediatePropagation(),this.stopPropagation()}},h.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},h.event.addProp),h.each({focus:"focusin",blur:"focusout"},function(s,l){function d(m){if(ot.documentMode){var w=gt.get(this,"handle"),E=h.event.fix(m);E.type=m.type==="focusin"?"focus":"blur",E.isSimulated=!0,w(m),E.target===E.currentTarget&&w(E)}else h.event.simulate(l,m.target,h.event.fix(m))}h.event.special[s]={setup:function(){var m;if(He(this,s,!0),ot.documentMode)m=gt.get(this,l),m||this.addEventListener(l,d),gt.set(this,l,(m||0)+1);else return!1},trigger:function(){return He(this,s),!0},teardown:function(){var m;if(ot.documentMode)m=gt.get(this,l)-1,m?gt.set(this,l,m):(this.removeEventListener(l,d),gt.remove(this,l));else return!1},_default:function(m){return gt.get(m.target,s)},delegateType:l},h.event.special[l]={setup:function(){var m=this.ownerDocument||this.document||this,w=ot.documentMode?this:m,E=gt.get(w,l);E||(ot.documentMode?this.addEventListener(l,d):m.addEventListener(s,d,!0)),gt.set(w,l,(E||0)+1)},teardown:function(){var m=this.ownerDocument||this.document||this,w=ot.documentMode?this:m,E=gt.get(w,l)-1;E?gt.set(w,l,E):(ot.documentMode?this.removeEventListener(l,d):m.removeEventListener(s,d,!0),gt.remove(w,l))}}}),h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(s,l){h.event.special[s]={delegateType:l,bindType:l,handle:function(d){var m,w=this,E=d.relatedTarget,b=d.handleObj;return(!E||E!==w&&!h.contains(w,E))&&(d.type=b.origType,m=b.handler.apply(this,arguments),d.type=l),m}}}),h.fn.extend({on:function(s,l,d,m){return ui(this,s,l,d,m)},one:function(s,l,d,m){return ui(this,s,l,d,m,1)},off:function(s,l,d){var m,w;if(s&&s.preventDefault&&s.handleObj)return m=s.handleObj,h(s.delegateTarget).off(m.namespace?m.origType+"."+m.namespace:m.origType,m.selector,m.handler),this;if(typeof s=="object"){for(w in s)this.off(w,l,s[w]);return this}return(l===!1||typeof l=="function")&&(d=l,l=void 0),d===!1&&(d=gn),this.each(function(){h.event.remove(this,s,d,l)})}});var vt=/<script|<style|<link/i,li=/checked\s*(?:[^=]|=\s*.checked.)/i,Is=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function qr(s,l){return x(s,"table")&&x(l.nodeType!==11?l:l.firstChild,"tr")&&h(s).children("tbody")[0]||s}function ar(s){return s.type=(s.getAttribute("type")!==null)+"/"+s.type,s}function Zr(s){return(s.type||"").slice(0,5)==="true/"?s.type=s.type.slice(5):s.removeAttribute("type"),s}function Bi(s,l){var d,m,w,E,b,N,k;if(l.nodeType===1){if(gt.hasData(s)&&(E=gt.get(s),k=E.events,k)){gt.remove(l,"handle events");for(w in k)for(d=0,m=k[w].length;d<m;d++)h.event.add(l,w,k[w][d])}Zt.hasData(s)&&(b=Zt.access(s),N=h.extend({},b),Zt.set(l,N))}}function On(s,l){var d=l.nodeName.toLowerCase();d==="input"&&Zn.test(s.type)?l.checked=s.checked:(d==="input"||d==="textarea")&&(l.defaultValue=s.defaultValue)}function Re(s,l,d,m){l=v(l);var w,E,b,N,k,z,K=0,Q=s.length,W=Q-1,it=l[0],Tt=Y(it);if(Tt||Q>1&&typeof it=="string"&&!X.checkClone&&li.test(it))return s.each(function($t){var xt=s.eq($t);Tt&&(l[0]=it.call(this,$t,xt.html())),Re(xt,l,d,m)});if(Q&&(w=Mi(l,s[0].ownerDocument,!1,s,m),E=w.firstChild,w.childNodes.length===1&&(w=E),E||m)){for(b=h.map(Ie(w,"script"),ar),N=b.length;K<Q;K++)k=w,K!==W&&(k=h.clone(k,!0,!0),N&&h.merge(b,Ie(k,"script"))),d.call(s[K],k,K);if(N)for(z=b[b.length-1].ownerDocument,h.map(b,Zr),K=0;K<N;K++)k=b[K],oi.test(k.type||"")&&!gt.access(k,"globalEval")&&h.contains(z,k)&&(k.src&&(k.type||"").toLowerCase()!=="module"?h._evalUrl&&!k.noModule&&h._evalUrl(k.src,{nonce:k.nonce||k.getAttribute("nonce")},z):dt(k.textContent.replace(Is,""),k,z))}return s}function Gr(s,l,d){for(var m,w=l?h.filter(l,s):s,E=0;(m=w[E])!=null;E++)!d&&m.nodeType===1&&h.cleanData(Ie(m)),m.parentNode&&(d&&Ln(m)&&or(Ie(m,"script")),m.parentNode.removeChild(m));return s}h.extend({htmlPrefilter:function(s){return s},clone:function(s,l,d){var m,w,E,b,N=s.cloneNode(!0),k=Ln(s);if(!X.noCloneChecked&&(s.nodeType===1||s.nodeType===11)&&!h.isXMLDoc(s))for(b=Ie(N),E=Ie(s),m=0,w=E.length;m<w;m++)On(E[m],b[m]);if(l)if(d)for(E=E||Ie(s),b=b||Ie(N),m=0,w=E.length;m<w;m++)Bi(E[m],b[m]);else Bi(s,N);return b=Ie(N,"script"),b.length>0&&or(b,!k&&Ie(s,"script")),N},cleanData:function(s){for(var l,d,m,w=h.event.special,E=0;(d=s[E])!==void 0;E++)if(Je(d)){if(l=d[gt.expando]){if(l.events)for(m in l.events)w[m]?h.event.remove(d,m):h.removeEvent(d,m,l.handle);d[gt.expando]=void 0}d[Zt.expando]&&(d[Zt.expando]=void 0)}}}),h.fn.extend({detach:function(s){return Gr(this,s,!0)},remove:function(s){return Gr(this,s)},text:function(s){return ke(this,function(l){return l===void 0?h.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=l)})},null,s,arguments.length)},append:function(){return Re(this,arguments,function(s){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var l=qr(this,s);l.appendChild(s)}})},prepend:function(){return Re(this,arguments,function(s){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var l=qr(this,s);l.insertBefore(s,l.firstChild)}})},before:function(){return Re(this,arguments,function(s){this.parentNode&&this.parentNode.insertBefore(s,this)})},after:function(){return Re(this,arguments,function(s){this.parentNode&&this.parentNode.insertBefore(s,this.nextSibling)})},empty:function(){for(var s,l=0;(s=this[l])!=null;l++)s.nodeType===1&&(h.cleanData(Ie(s,!1)),s.textContent="");return this},clone:function(s,l){return s=s??!1,l=l??s,this.map(function(){return h.clone(this,s,l)})},html:function(s){return ke(this,function(l){var d=this[0]||{},m=0,w=this.length;if(l===void 0&&d.nodeType===1)return d.innerHTML;if(typeof l=="string"&&!vt.test(l)&&!ze[(sr.exec(l)||["",""])[1].toLowerCase()]){l=h.htmlPrefilter(l);try{for(;m<w;m++)d=this[m]||{},d.nodeType===1&&(h.cleanData(Ie(d,!1)),d.innerHTML=l);d=0}catch{}}d&&this.empty().append(l)},null,s,arguments.length)},replaceWith:function(){var s=[];return Re(this,arguments,function(l){var d=this.parentNode;h.inArray(this,s)<0&&(h.cleanData(Ie(this)),d&&d.replaceChild(l,this))},s)}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(s,l){h.fn[s]=function(d){for(var m,w=[],E=h(d),b=E.length-1,N=0;N<=b;N++)m=N===b?this:this.clone(!0),h(E[N])[l](m),A.apply(w,m.get());return this.pushStack(w)}});var ur=new RegExp("^("+Vr+")(?!px)[a-z%]+$","i"),Ui=/^--/,Ei=function(s){var l=s.ownerDocument.defaultView;return(!l||!l.opener)&&(l=t),l.getComputedStyle(s)},lr=function(s,l,d){var m,w,E={};for(w in l)E[w]=s.style[w],s.style[w]=l[w];m=d.call(s);for(w in l)s.style[w]=E[w];return m},xs=new RegExp(tn.join("|"),"i");(function(){function s(){if(z){k.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",z.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",pn.appendChild(k).appendChild(z);var K=t.getComputedStyle(z);d=K.top!=="1%",N=l(K.marginLeft)===12,z.style.right="60%",E=l(K.right)===36,m=l(K.width)===36,z.style.position="absolute",w=l(z.offsetWidth/3)===12,pn.removeChild(k),z=null}}function l(K){return Math.round(parseFloat(K))}var d,m,w,E,b,N,k=ot.createElement("div"),z=ot.createElement("div");z.style&&(z.style.backgroundClip="content-box",z.cloneNode(!0).style.backgroundClip="",X.clearCloneStyle=z.style.backgroundClip==="content-box",h.extend(X,{boxSizingReliable:function(){return s(),m},pixelBoxStyles:function(){return s(),E},pixelPosition:function(){return s(),d},reliableMarginLeft:function(){return s(),N},scrollboxSize:function(){return s(),w},reliableTrDimensions:function(){var K,Q,W,it;return b==null&&(K=ot.createElement("table"),Q=ot.createElement("tr"),W=ot.createElement("div"),K.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Q.style.cssText="box-sizing:content-box;border:1px solid",Q.style.height="1px",W.style.height="9px",W.style.display="block",pn.appendChild(K).appendChild(Q).appendChild(W),it=t.getComputedStyle(Q),b=parseInt(it.height,10)+parseInt(it.borderTopWidth,10)+parseInt(it.borderBottomWidth,10)===Q.offsetHeight,pn.removeChild(K)),b}}))})();function Gn(s,l,d){var m,w,E,b,N=Ui.test(l),k=s.style;return d=d||Ei(s),d&&(b=d.getPropertyValue(l)||d[l],N&&b&&(b=b.replace(Yt,"$1")||void 0),b===""&&!Ln(s)&&(b=h.style(s,l)),!X.pixelBoxStyles()&&ur.test(b)&&xs.test(l)&&(m=k.width,w=k.minWidth,E=k.maxWidth,k.minWidth=k.maxWidth=k.width=b,b=d.width,k.width=m,k.minWidth=w,k.maxWidth=E)),b!==void 0?b+"":b}function zi(s,l){return{get:function(){if(s()){delete this.get;return}return(this.get=l).apply(this,arguments)}}}var Kr=["Webkit","Moz","ms"],cr=ot.createElement("div").style,bi={};function ci(s){for(var l=s[0].toUpperCase()+s.slice(1),d=Kr.length;d--;)if(s=Kr[d]+l,s in cr)return s}function hi(s){var l=h.cssProps[s]||bi[s];return l||(s in cr?s:bi[s]=ci(s)||s)}var Hi=/^(none|table(?!-c[ea]).+)/,Yr={position:"absolute",visibility:"hidden",display:"block"},hr={letterSpacing:"0",fontWeight:"400"};function fi(s,l,d){var m=Pn.exec(l);return m?Math.max(0,m[2]-(d||0))+(m[3]||"px"):l}function jt(s,l,d,m,w,E){var b=l==="width"?1:0,N=0,k=0,z=0;if(d===(m?"border":"content"))return 0;for(;b<4;b+=2)d==="margin"&&(z+=h.css(s,d+tn[b],!0,w)),m?(d==="content"&&(k-=h.css(s,"padding"+tn[b],!0,w)),d!=="margin"&&(k-=h.css(s,"border"+tn[b]+"Width",!0,w))):(k+=h.css(s,"padding"+tn[b],!0,w),d!=="padding"?k+=h.css(s,"border"+tn[b]+"Width",!0,w):N+=h.css(s,"border"+tn[b]+"Width",!0,w));return!m&&E>=0&&(k+=Math.max(0,Math.ceil(s["offset"+l[0].toUpperCase()+l.slice(1)]-E-k-N-.5))||0),k+z}function se(s,l,d){var m=Ei(s),w=!X.boxSizingReliable()||d,E=w&&h.css(s,"boxSizing",!1,m)==="border-box",b=E,N=Gn(s,l,m),k="offset"+l[0].toUpperCase()+l.slice(1);if(ur.test(N)){if(!d)return N;N="auto"}return(!X.boxSizingReliable()&&E||!X.reliableTrDimensions()&&x(s,"tr")||N==="auto"||!parseFloat(N)&&h.css(s,"display",!1,m)==="inline")&&s.getClientRects().length&&(E=h.css(s,"boxSizing",!1,m)==="border-box",b=k in s,b&&(N=s[k])),N=parseFloat(N)||0,N+jt(s,l,d||(E?"border":"content"),b,m,N)+"px"}h.extend({cssHooks:{opacity:{get:function(s,l){if(l){var d=Gn(s,"opacity");return d===""?"1":d}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(s,l,d,m){if(!(!s||s.nodeType===3||s.nodeType===8||!s.style)){var w,E,b,N=Ne(l),k=Ui.test(l),z=s.style;if(k||(l=hi(N)),b=h.cssHooks[l]||h.cssHooks[N],d!==void 0){if(E=typeof d,E==="string"&&(w=Pn.exec(d))&&w[1]&&(d=rr(s,l,w),E="number"),d==null||d!==d)return;E==="number"&&!k&&(d+=w&&w[3]||(h.cssNumber[N]?"":"px")),!X.clearCloneStyle&&d===""&&l.indexOf("background")===0&&(z[l]="inherit"),(!b||!("set"in b)||(d=b.set(s,d,m))!==void 0)&&(k?z.setProperty(l,d):z[l]=d)}else return b&&"get"in b&&(w=b.get(s,!1,m))!==void 0?w:z[l]}},css:function(s,l,d,m){var w,E,b,N=Ne(l),k=Ui.test(l);return k||(l=hi(N)),b=h.cssHooks[l]||h.cssHooks[N],b&&"get"in b&&(w=b.get(s,!0,d)),w===void 0&&(w=Gn(s,l,m)),w==="normal"&&l in hr&&(w=hr[l]),d===""||d?(E=parseFloat(w),d===!0||isFinite(E)?E||0:w):w}}),h.each(["height","width"],function(s,l){h.cssHooks[l]={get:function(d,m,w){if(m)return Hi.test(h.css(d,"display"))&&(!d.getClientRects().length||!d.getBoundingClientRect().width)?lr(d,Yr,function(){return se(d,l,w)}):se(d,l,w)},set:function(d,m,w){var E,b=Ei(d),N=!X.scrollboxSize()&&b.position==="absolute",k=N||w,z=k&&h.css(d,"boxSizing",!1,b)==="border-box",K=w?jt(d,l,w,z,b):0;return z&&N&&(K-=Math.ceil(d["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(b[l])-jt(d,l,"border",!1,b)-.5)),K&&(E=Pn.exec(m))&&(E[3]||"px")!=="px"&&(d.style[l]=m,m=h.css(d,l)),fi(d,m,K)}}}),h.cssHooks.marginLeft=zi(X.reliableMarginLeft,function(s,l){if(l)return(parseFloat(Gn(s,"marginLeft"))||s.getBoundingClientRect().left-lr(s,{marginLeft:0},function(){return s.getBoundingClientRect().left}))+"px"}),h.each({margin:"",padding:"",border:"Width"},function(s,l){h.cssHooks[s+l]={expand:function(d){for(var m=0,w={},E=typeof d=="string"?d.split(" "):[d];m<4;m++)w[s+tn[m]+l]=E[m]||E[m-2]||E[0];return w}},s!=="margin"&&(h.cssHooks[s+l].set=fi)}),h.fn.extend({css:function(s,l){return ke(this,function(d,m,w){var E,b,N={},k=0;if(Array.isArray(m)){for(E=Ei(d),b=m.length;k<b;k++)N[m[k]]=h.css(d,m[k],!1,E);return N}return w!==void 0?h.style(d,m,w):h.css(d,m)},s,l,arguments.length>1)}});function ve(s,l,d,m,w){return new ve.prototype.init(s,l,d,m,w)}h.Tween=ve,ve.prototype={constructor:ve,init:function(s,l,d,m,w,E){this.elem=s,this.prop=d,this.easing=w||h.easing._default,this.options=l,this.start=this.now=this.cur(),this.end=m,this.unit=E||(h.cssNumber[d]?"":"px")},cur:function(){var s=ve.propHooks[this.prop];return s&&s.get?s.get(this):ve.propHooks._default.get(this)},run:function(s){var l,d=ve.propHooks[this.prop];return this.options.duration?this.pos=l=h.easing[this.easing](s,this.options.duration*s,0,1,this.options.duration):this.pos=l=s,this.now=(this.end-this.start)*l+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),d&&d.set?d.set(this):ve.propHooks._default.set(this),this}},ve.prototype.init.prototype=ve.prototype,ve.propHooks={_default:{get:function(s){var l;return s.elem.nodeType!==1||s.elem[s.prop]!=null&&s.elem.style[s.prop]==null?s.elem[s.prop]:(l=h.css(s.elem,s.prop,""),!l||l==="auto"?0:l)},set:function(s){h.fx.step[s.prop]?h.fx.step[s.prop](s):s.elem.nodeType===1&&(h.cssHooks[s.prop]||s.elem.style[hi(s.prop)]!=null)?h.style(s.elem,s.prop,s.now+s.unit):s.elem[s.prop]=s.now}}},ve.propHooks.scrollTop=ve.propHooks.scrollLeft={set:function(s){s.elem.nodeType&&s.elem.parentNode&&(s.elem[s.prop]=s.now)}},h.easing={linear:function(s){return s},swing:function(s){return .5-Math.cos(s*Math.PI)/2},_default:"swing"},h.fx=ve.prototype.init,h.fx.step={};var We,kn,Xr=/^(?:toggle|show|hide)$/,Dt=/queueHooks$/;function ue(){kn&&(ot.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(ue):t.setTimeout(ue,h.fx.interval),h.fx.tick())}function fr(){return t.setTimeout(function(){We=void 0}),We=Date.now()}function Fe(s,l){var d,m=0,w={height:s};for(l=l?1:0;m<4;m+=2-l)d=tn[m],w["margin"+d]=w["padding"+d]=s;return l&&(w.opacity=w.width=s),w}function de(s,l,d){for(var m,w=(ye.tweeners[l]||[]).concat(ye.tweeners["*"]),E=0,b=w.length;E<b;E++)if(m=w[E].call(d,l,s))return m}function dr(s,l,d){var m,w,E,b,N,k,z,K,Q="width"in l||"height"in l,W=this,it={},Tt=s.style,$t=s.nodeType&&qn(s),xt=gt.get(s,"fxshow");d.queue||(b=h._queueHooks(s,"fx"),b.unqueued==null&&(b.unqueued=0,N=b.empty.fire,b.empty.fire=function(){b.unqueued||N()}),b.unqueued++,W.always(function(){W.always(function(){b.unqueued--,h.queue(s,"fx").length||b.empty.fire()})}));for(m in l)if(w=l[m],Xr.test(w)){if(delete l[m],E=E||w==="toggle",w===($t?"hide":"show"))if(w==="show"&&xt&&xt[m]!==void 0)$t=!0;else continue;it[m]=xt&&xt[m]||h.style(s,m)}if(k=!h.isEmptyObject(l),!(!k&&h.isEmptyObject(it))){Q&&s.nodeType===1&&(d.overflow=[Tt.overflow,Tt.overflowX,Tt.overflowY],z=xt&&xt.display,z==null&&(z=gt.get(s,"display")),K=h.css(s,"display"),K==="none"&&(z?K=z:(en([s],!0),z=s.style.display||z,K=h.css(s,"display"),en([s]))),(K==="inline"||K==="inline-block"&&z!=null)&&h.css(s,"float")==="none"&&(k||(W.done(function(){Tt.display=z}),z==null&&(K=Tt.display,z=K==="none"?"":K)),Tt.display="inline-block")),d.overflow&&(Tt.overflow="hidden",W.always(function(){Tt.overflow=d.overflow[0],Tt.overflowX=d.overflow[1],Tt.overflowY=d.overflow[2]})),k=!1;for(m in it)k||(xt?"hidden"in xt&&($t=xt.hidden):xt=gt.access(s,"fxshow",{display:z}),E&&(xt.hidden=!$t),$t&&en([s],!0),W.done(function(){$t||en([s]),gt.remove(s,"fxshow");for(m in it)h.style(s,m,it[m])})),k=de($t?xt[m]:0,m,W),m in xt||(xt[m]=k.start,$t&&(k.end=k.start,k.start=0))}}function di(s,l){var d,m,w,E,b;for(d in s)if(m=Ne(d),w=l[m],E=s[d],Array.isArray(E)&&(w=E[1],E=s[d]=E[0]),d!==m&&(s[m]=E,delete s[d]),b=h.cssHooks[m],b&&"expand"in b){E=b.expand(E),delete s[m];for(d in E)d in s||(s[d]=E[d],l[d]=w)}else l[m]=w}function ye(s,l,d){var m,w,E=0,b=ye.prefilters.length,N=h.Deferred().always(function(){delete k.elem}),k=function(){if(w)return!1;for(var Q=We||fr(),W=Math.max(0,z.startTime+z.duration-Q),it=W/z.duration||0,Tt=1-it,$t=0,xt=z.tweens.length;$t<xt;$t++)z.tweens[$t].run(Tt);return N.notifyWith(s,[z,Tt,W]),Tt<1&&xt?W:(xt||N.notifyWith(s,[z,1,0]),N.resolveWith(s,[z]),!1)},z=N.promise({elem:s,props:h.extend({},l),opts:h.extend(!0,{specialEasing:{},easing:h.easing._default},d),originalProperties:l,originalOptions:d,startTime:We||fr(),duration:d.duration,tweens:[],createTween:function(Q,W){var it=h.Tween(s,z.opts,Q,W,z.opts.specialEasing[Q]||z.opts.easing);return z.tweens.push(it),it},stop:function(Q){var W=0,it=Q?z.tweens.length:0;if(w)return this;for(w=!0;W<it;W++)z.tweens[W].run(1);return Q?(N.notifyWith(s,[z,1,0]),N.resolveWith(s,[z,Q])):N.rejectWith(s,[z,Q]),this}}),K=z.props;for(di(K,z.opts.specialEasing);E<b;E++)if(m=ye.prefilters[E].call(z,s,K,z.opts),m)return Y(m.stop)&&(h._queueHooks(z.elem,z.opts.queue).stop=m.stop.bind(m)),m;return h.map(K,de,z),Y(z.opts.start)&&z.opts.start.call(s,z),z.progress(z.opts.progress).done(z.opts.done,z.opts.complete).fail(z.opts.fail).always(z.opts.always),h.fx.timer(h.extend(k,{elem:s,anim:z,queue:z.opts.queue})),z}h.Animation=h.extend(ye,{tweeners:{"*":[function(s,l){var d=this.createTween(s,l);return rr(d.elem,s,Pn.exec(l),d),d}]},tweener:function(s,l){Y(s)?(l=s,s=["*"]):s=s.match(Te);for(var d,m=0,w=s.length;m<w;m++)d=s[m],ye.tweeners[d]=ye.tweeners[d]||[],ye.tweeners[d].unshift(l)},prefilters:[dr],prefilter:function(s,l){l?ye.prefilters.unshift(s):ye.prefilters.push(s)}}),h.speed=function(s,l,d){var m=s&&typeof s=="object"?h.extend({},s):{complete:d||!d&&l||Y(s)&&s,duration:s,easing:d&&l||l&&!Y(l)&&l};return h.fx.off?m.duration=0:typeof m.duration!="number"&&(m.duration in h.fx.speeds?m.duration=h.fx.speeds[m.duration]:m.duration=h.fx.speeds._default),(m.queue==null||m.queue===!0)&&(m.queue="fx"),m.old=m.complete,m.complete=function(){Y(m.old)&&m.old.call(this),m.queue&&h.dequeue(this,m.queue)},m},h.fn.extend({fadeTo:function(s,l,d,m){return this.filter(qn).css("opacity",0).show().end().animate({opacity:l},s,d,m)},animate:function(s,l,d,m){var w=h.isEmptyObject(s),E=h.speed(l,d,m),b=function(){var N=ye(this,h.extend({},s),E);(w||gt.get(this,"finish"))&&N.stop(!0)};return b.finish=b,w||E.queue===!1?this.each(b):this.queue(E.queue,b)},stop:function(s,l,d){var m=function(w){var E=w.stop;delete w.stop,E(d)};return typeof s!="string"&&(d=l,l=s,s=void 0),l&&this.queue(s||"fx",[]),this.each(function(){var w=!0,E=s!=null&&s+"queueHooks",b=h.timers,N=gt.get(this);if(E)N[E]&&N[E].stop&&m(N[E]);else for(E in N)N[E]&&N[E].stop&&Dt.test(E)&&m(N[E]);for(E=b.length;E--;)b[E].elem===this&&(s==null||b[E].queue===s)&&(b[E].anim.stop(d),w=!1,b.splice(E,1));(w||!d)&&h.dequeue(this,s)})},finish:function(s){return s!==!1&&(s=s||"fx"),this.each(function(){var l,d=gt.get(this),m=d[s+"queue"],w=d[s+"queueHooks"],E=h.timers,b=m?m.length:0;for(d.finish=!0,h.queue(this,s,[]),w&&w.stop&&w.stop.call(this,!0),l=E.length;l--;)E[l].elem===this&&E[l].queue===s&&(E[l].anim.stop(!0),E.splice(l,1));for(l=0;l<b;l++)m[l]&&m[l].finish&&m[l].finish.call(this);delete d.finish})}}),h.each(["toggle","show","hide"],function(s,l){var d=h.fn[l];h.fn[l]=function(m,w,E){return m==null||typeof m=="boolean"?d.apply(this,arguments):this.animate(Fe(l,!0),m,w,E)}}),h.each({slideDown:Fe("show"),slideUp:Fe("hide"),slideToggle:Fe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(s,l){h.fn[s]=function(d,m,w){return this.animate(l,d,m,w)}}),h.timers=[],h.fx.tick=function(){var s,l=0,d=h.timers;for(We=Date.now();l<d.length;l++)s=d[l],!s()&&d[l]===s&&d.splice(l--,1);d.length||h.fx.stop(),We=void 0},h.fx.timer=function(s){h.timers.push(s),h.fx.start()},h.fx.interval=13,h.fx.start=function(){kn||(kn=!0,ue())},h.fx.stop=function(){kn=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(s,l){return s=h.fx&&h.fx.speeds[s]||s,l=l||"fx",this.queue(l,function(d,m){var w=t.setTimeout(d,s);m.stop=function(){t.clearTimeout(w)}})},function(){var s=ot.createElement("input"),l=ot.createElement("select"),d=l.appendChild(ot.createElement("option"));s.type="checkbox",X.checkOn=s.value!=="",X.optSelected=d.selected,s=ot.createElement("input"),s.value="t",s.type="radio",X.radioValue=s.value==="t"}();var Lt,De=h.expr.attrHandle;h.fn.extend({attr:function(s,l){return ke(this,h.attr,s,l,arguments.length>1)},removeAttr:function(s){return this.each(function(){h.removeAttr(this,s)})}}),h.extend({attr:function(s,l,d){var m,w,E=s.nodeType;if(!(E===3||E===8||E===2)){if(typeof s.getAttribute>"u")return h.prop(s,l,d);if((E!==1||!h.isXMLDoc(s))&&(w=h.attrHooks[l.toLowerCase()]||(h.expr.match.bool.test(l)?Lt:void 0)),d!==void 0){if(d===null){h.removeAttr(s,l);return}return w&&"set"in w&&(m=w.set(s,d,l))!==void 0?m:(s.setAttribute(l,d+""),d)}return w&&"get"in w&&(m=w.get(s,l))!==null?m:(m=h.find.attr(s,l),m??void 0)}},attrHooks:{type:{set:function(s,l){if(!X.radioValue&&l==="radio"&&x(s,"input")){var d=s.value;return s.setAttribute("type",l),d&&(s.value=d),l}}}},removeAttr:function(s,l){var d,m=0,w=l&&l.match(Te);if(w&&s.nodeType===1)for(;d=w[m++];)s.removeAttribute(d)}}),Lt={set:function(s,l,d){return l===!1?h.removeAttr(s,d):s.setAttribute(d,d),d}},h.each(h.expr.match.bool.source.match(/\w+/g),function(s,l){var d=De[l]||h.find.attr;De[l]=function(m,w,E){var b,N,k=w.toLowerCase();return E||(N=De[k],De[k]=b,b=d(m,w,E)!=null?k:null,De[k]=N),b}});var Nn=/^(?:input|select|textarea|button)$/i,Rn=/^(?:a|area)$/i;h.fn.extend({prop:function(s,l){return ke(this,h.prop,s,l,arguments.length>1)},removeProp:function(s){return this.each(function(){delete this[h.propFix[s]||s]})}}),h.extend({prop:function(s,l,d){var m,w,E=s.nodeType;if(!(E===3||E===8||E===2))return(E!==1||!h.isXMLDoc(s))&&(l=h.propFix[l]||l,w=h.propHooks[l]),d!==void 0?w&&"set"in w&&(m=w.set(s,d,l))!==void 0?m:s[l]=d:w&&"get"in w&&(m=w.get(s,l))!==null?m:s[l]},propHooks:{tabIndex:{get:function(s){var l=h.find.attr(s,"tabindex");return l?parseInt(l,10):Nn.test(s.nodeName)||Rn.test(s.nodeName)&&s.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),X.optSelected||(h.propHooks.selected={get:function(s){var l=s.parentNode;return l&&l.parentNode&&l.parentNode.selectedIndex,null},set:function(s){var l=s.parentNode;l&&(l.selectedIndex,l.parentNode&&l.parentNode.selectedIndex)}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){h.propFix[this.toLowerCase()]=this});function Dn(s){var l=s.match(Te)||[];return l.join(" ")}function qe(s){return s.getAttribute&&s.getAttribute("class")||""}function Fi(s){return Array.isArray(s)?s:typeof s=="string"?s.match(Te)||[]:[]}h.fn.extend({addClass:function(s){var l,d,m,w,E,b;return Y(s)?this.each(function(N){h(this).addClass(s.call(this,N,qe(this)))}):(l=Fi(s),l.length?this.each(function(){if(m=qe(this),d=this.nodeType===1&&" "+Dn(m)+" ",d){for(E=0;E<l.length;E++)w=l[E],d.indexOf(" "+w+" ")<0&&(d+=w+" ");b=Dn(d),m!==b&&this.setAttribute("class",b)}}):this)},removeClass:function(s){var l,d,m,w,E,b;return Y(s)?this.each(function(N){h(this).removeClass(s.call(this,N,qe(this)))}):arguments.length?(l=Fi(s),l.length?this.each(function(){if(m=qe(this),d=this.nodeType===1&&" "+Dn(m)+" ",d){for(E=0;E<l.length;E++)for(w=l[E];d.indexOf(" "+w+" ")>-1;)d=d.replace(" "+w+" "," ");b=Dn(d),m!==b&&this.setAttribute("class",b)}}):this):this.attr("class","")},toggleClass:function(s,l){var d,m,w,E,b=typeof s,N=b==="string"||Array.isArray(s);return Y(s)?this.each(function(k){h(this).toggleClass(s.call(this,k,qe(this),l),l)}):typeof l=="boolean"&&N?l?this.addClass(s):this.removeClass(s):(d=Fi(s),this.each(function(){if(N)for(E=h(this),w=0;w<d.length;w++)m=d[w],E.hasClass(m)?E.removeClass(m):E.addClass(m);else(s===void 0||b==="boolean")&&(m=qe(this),m&&gt.set(this,"__className__",m),this.setAttribute&&this.setAttribute("class",m||s===!1?"":gt.get(this,"__className__")||""))}))},hasClass:function(s){var l,d,m=0;for(l=" "+s+" ";d=this[m++];)if(d.nodeType===1&&(" "+Dn(qe(d))+" ").indexOf(l)>-1)return!0;return!1}});var Jr=/\r/g;h.fn.extend({val:function(s){var l,d,m,w=this[0];return arguments.length?(m=Y(s),this.each(function(E){var b;this.nodeType===1&&(m?b=s.call(this,E,h(this).val()):b=s,b==null?b="":typeof b=="number"?b+="":Array.isArray(b)&&(b=h.map(b,function(N){return N==null?"":N+""})),l=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()],(!l||!("set"in l)||l.set(this,b,"value")===void 0)&&(this.value=b))})):w?(l=h.valHooks[w.type]||h.valHooks[w.nodeName.toLowerCase()],l&&"get"in l&&(d=l.get(w,"value"))!==void 0?d:(d=w.value,typeof d=="string"?d.replace(Jr,""):d??"")):void 0}}),h.extend({valHooks:{option:{get:function(s){var l=h.find.attr(s,"value");return l??Dn(h.text(s))}},select:{get:function(s){var l,d,m,w=s.options,E=s.selectedIndex,b=s.type==="select-one",N=b?null:[],k=b?E+1:w.length;for(E<0?m=k:m=b?E:0;m<k;m++)if(d=w[m],(d.selected||m===E)&&!d.disabled&&(!d.parentNode.disabled||!x(d.parentNode,"optgroup"))){if(l=h(d).val(),b)return l;N.push(l)}return N},set:function(s,l){for(var d,m,w=s.options,E=h.makeArray(l),b=w.length;b--;)m=w[b],(m.selected=h.inArray(h.valHooks.option.get(m),E)>-1)&&(d=!0);return d||(s.selectedIndex=-1),E}}}}),h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(s,l){if(Array.isArray(l))return s.checked=h.inArray(h(s).val(),l)>-1}},X.checkOn||(h.valHooks[this].get=function(s){return s.getAttribute("value")===null?"on":s.value})});var Kn=t.location,pr={guid:Date.now()},Mn=/\?/;h.parseXML=function(s){var l,d;if(!s||typeof s!="string")return null;try{l=new t.DOMParser().parseFromString(s,"text/xml")}catch{}return d=l&&l.getElementsByTagName("parsererror")[0],(!l||d)&&h.error("Invalid XML: "+(d?h.map(d.childNodes,function(m){return m.textContent}).join(`
`):s)),l};var Ze=/^(?:focusinfocus|focusoutblur)$/,gr=function(s){s.stopPropagation()};h.extend(h.event,{trigger:function(s,l,d,m){var w,E,b,N,k,z,K,Q,W=[d||ot],it=J.call(s,"type")?s.type:s,Tt=J.call(s,"namespace")?s.namespace.split("."):[];if(E=Q=b=d=d||ot,!(d.nodeType===3||d.nodeType===8)&&!Ze.test(it+h.event.triggered)&&(it.indexOf(".")>-1&&(Tt=it.split("."),it=Tt.shift(),Tt.sort()),k=it.indexOf(":")<0&&"on"+it,s=s[h.expando]?s:new h.Event(it,typeof s=="object"&&s),s.isTrigger=m?2:3,s.namespace=Tt.join("."),s.rnamespace=s.namespace?new RegExp("(^|\\.)"+Tt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,s.result=void 0,s.target||(s.target=d),l=l==null?[s]:h.makeArray(l,[s]),K=h.event.special[it]||{},!(!m&&K.trigger&&K.trigger.apply(d,l)===!1))){if(!m&&!K.noBubble&&!at(d)){for(N=K.delegateType||it,Ze.test(N+it)||(E=E.parentNode);E;E=E.parentNode)W.push(E),b=E;b===(d.ownerDocument||ot)&&W.push(b.defaultView||b.parentWindow||t)}for(w=0;(E=W[w++])&&!s.isPropagationStopped();)Q=E,s.type=w>1?N:K.bindType||it,z=(gt.get(E,"events")||Object.create(null))[s.type]&&gt.get(E,"handle"),z&&z.apply(E,l),z=k&&E[k],z&&z.apply&&Je(E)&&(s.result=z.apply(E,l),s.result===!1&&s.preventDefault());return s.type=it,!m&&!s.isDefaultPrevented()&&(!K._default||K._default.apply(W.pop(),l)===!1)&&Je(d)&&k&&Y(d[it])&&!at(d)&&(b=d[k],b&&(d[k]=null),h.event.triggered=it,s.isPropagationStopped()&&Q.addEventListener(it,gr),d[it](),s.isPropagationStopped()&&Q.removeEventListener(it,gr),h.event.triggered=void 0,b&&(d[k]=b)),s.result}},simulate:function(s,l,d){var m=h.extend(new h.Event,d,{type:s,isSimulated:!0});h.event.trigger(m,null,l)}}),h.fn.extend({trigger:function(s,l){return this.each(function(){h.event.trigger(s,l,this)})},triggerHandler:function(s,l){var d=this[0];if(d)return h.event.trigger(s,l,d,!0)}});var mr=/\[\]$/,Qr=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,mn=/^(?:input|select|textarea|keygen)/i;function ee(s,l,d,m){var w;if(Array.isArray(l))h.each(l,function(E,b){d||mr.test(s)?m(s,b):ee(s+"["+(typeof b=="object"&&b!=null?E:"")+"]",b,d,m)});else if(!d&&ct(l)==="object")for(w in l)ee(s+"["+w+"]",l[w],d,m);else m(s,l)}h.param=function(s,l){var d,m=[],w=function(E,b){var N=Y(b)?b():b;m[m.length]=encodeURIComponent(E)+"="+encodeURIComponent(N??"")};if(s==null)return"";if(Array.isArray(s)||s.jquery&&!h.isPlainObject(s))h.each(s,function(){w(this.name,this.value)});else for(d in s)ee(d,s[d],l,w);return m.join("&")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var s=h.prop(this,"elements");return s?h.makeArray(s):this}).filter(function(){var s=this.type;return this.name&&!h(this).is(":disabled")&&mn.test(this.nodeName)&&!Ct.test(s)&&(this.checked||!Zn.test(s))}).map(function(s,l){var d=h(this).val();return d==null?null:Array.isArray(d)?h.map(d,function(m){return{name:l.name,value:m.replace(Qr,`\r
`)}}):{name:l.name,value:d.replace(Qr,`\r
`)}}).get()}});var Ps=/%20/g,_n=/#.*$/,ts=/([?&])_=[^&]*/,es=/^(.*?):[ \t]*([^\r\n]*)$/mg,vn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ti=/^(?:GET|HEAD)$/,Ai=/^\/\//,ce={},je={},_r="*/".concat("*"),Si=ot.createElement("a");Si.href=Kn.href;function he(s){return function(l,d){typeof l!="string"&&(d=l,l="*");var m,w=0,E=l.toLowerCase().match(Te)||[];if(Y(d))for(;m=E[w++];)m[0]==="+"?(m=m.slice(1)||"*",(s[m]=s[m]||[]).unshift(d)):(s[m]=s[m]||[]).push(d)}}function ns(s,l,d,m){var w={},E=s===je;function b(N){var k;return w[N]=!0,h.each(s[N]||[],function(z,K){var Q=K(l,d,m);if(typeof Q=="string"&&!E&&!w[Q])return l.dataTypes.unshift(Q),b(Q),!1;if(E)return!(k=Q)}),k}return b(l.dataTypes[0])||!w["*"]&&b("*")}function ji(s,l){var d,m,w=h.ajaxSettings.flatOptions||{};for(d in l)l[d]!==void 0&&((w[d]?s:m||(m={}))[d]=l[d]);return m&&h.extend(!0,s,m),s}function Ls(s,l,d){for(var m,w,E,b,N=s.contents,k=s.dataTypes;k[0]==="*";)k.shift(),m===void 0&&(m=s.mimeType||l.getResponseHeader("Content-Type"));if(m){for(w in N)if(N[w]&&N[w].test(m)){k.unshift(w);break}}if(k[0]in d)E=k[0];else{for(w in d){if(!k[0]||s.converters[w+" "+k[0]]){E=w;break}b||(b=w)}E=E||b}if(E)return E!==k[0]&&k.unshift(E),d[E]}function is(s,l,d,m){var w,E,b,N,k,z={},K=s.dataTypes.slice();if(K[1])for(b in s.converters)z[b.toLowerCase()]=s.converters[b];for(E=K.shift();E;)if(s.responseFields[E]&&(d[s.responseFields[E]]=l),!k&&m&&s.dataFilter&&(l=s.dataFilter(l,s.dataType)),k=E,E=K.shift(),E){if(E==="*")E=k;else if(k!=="*"&&k!==E){if(b=z[k+" "+E]||z["* "+E],!b){for(w in z)if(N=w.split(" "),N[1]===E&&(b=z[k+" "+N[0]]||z["* "+N[0]],b)){b===!0?b=z[w]:z[w]!==!0&&(E=N[0],K.unshift(N[1]));break}}if(b!==!0)if(b&&s.throws)l=b(l);else try{l=b(l)}catch(Q){return{state:"parsererror",error:b?Q:"No conversion from "+k+" to "+E}}}}return{state:"success",data:l}}h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Kn.href,type:"GET",isLocal:vn.test(Kn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_r,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(s,l){return l?ji(ji(s,h.ajaxSettings),l):ji(h.ajaxSettings,s)},ajaxPrefilter:he(ce),ajaxTransport:he(je),ajax:function(s,l){typeof s=="object"&&(l=s,s=void 0),l=l||{};var d,m,w,E,b,N,k,z,K,Q,W=h.ajaxSetup({},l),it=W.context||W,Tt=W.context&&(it.nodeType||it.jquery)?h(it):h.event,$t=h.Deferred(),xt=h.Callbacks("once memory"),we=W.statusCode||{},fe={},nn={},Ge="canceled",At={readyState:0,getResponseHeader:function(Ut){var ie;if(k){if(!E)for(E={};ie=es.exec(w);)E[ie[1].toLowerCase()+" "]=(E[ie[1].toLowerCase()+" "]||[]).concat(ie[2]);ie=E[Ut.toLowerCase()+" "]}return ie==null?null:ie.join(", ")},getAllResponseHeaders:function(){return k?w:null},setRequestHeader:function(Ut,ie){return k==null&&(Ut=nn[Ut.toLowerCase()]=nn[Ut.toLowerCase()]||Ut,fe[Ut]=ie),this},overrideMimeType:function(Ut){return k==null&&(W.mimeType=Ut),this},statusCode:function(Ut){var ie;if(Ut)if(k)At.always(Ut[At.status]);else for(ie in Ut)we[ie]=[we[ie],Ut[ie]];return this},abort:function(Ut){var ie=Ut||Ge;return d&&d.abort(ie),rn(0,ie),this}};if($t.promise(At),W.url=((s||W.url||Kn.href)+"").replace(Ai,Kn.protocol+"//"),W.type=l.method||l.type||W.method||W.type,W.dataTypes=(W.dataType||"*").toLowerCase().match(Te)||[""],W.crossDomain==null){N=ot.createElement("a");try{N.href=W.url,N.href=N.href,W.crossDomain=Si.protocol+"//"+Si.host!=N.protocol+"//"+N.host}catch{W.crossDomain=!0}}if(W.data&&W.processData&&typeof W.data!="string"&&(W.data=h.param(W.data,W.traditional)),ns(ce,W,l,At),k)return At;z=h.event&&W.global,z&&h.active++===0&&h.event.trigger("ajaxStart"),W.type=W.type.toUpperCase(),W.hasContent=!Ti.test(W.type),m=W.url.replace(_n,""),W.hasContent?W.data&&W.processData&&(W.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(W.data=W.data.replace(Ps,"+")):(Q=W.url.slice(m.length),W.data&&(W.processData||typeof W.data=="string")&&(m+=(Mn.test(m)?"&":"?")+W.data,delete W.data),W.cache===!1&&(m=m.replace(ts,"$1"),Q=(Mn.test(m)?"&":"?")+"_="+pr.guid+++Q),W.url=m+Q),W.ifModified&&(h.lastModified[m]&&At.setRequestHeader("If-Modified-Since",h.lastModified[m]),h.etag[m]&&At.setRequestHeader("If-None-Match",h.etag[m])),(W.data&&W.hasContent&&W.contentType!==!1||l.contentType)&&At.setRequestHeader("Content-Type",W.contentType),At.setRequestHeader("Accept",W.dataTypes[0]&&W.accepts[W.dataTypes[0]]?W.accepts[W.dataTypes[0]]+(W.dataTypes[0]!=="*"?", "+_r+"; q=0.01":""):W.accepts["*"]);for(K in W.headers)At.setRequestHeader(K,W.headers[K]);if(W.beforeSend&&(W.beforeSend.call(it,At,W)===!1||k))return At.abort();if(Ge="abort",xt.add(W.complete),At.done(W.success),At.fail(W.error),d=ns(je,W,l,At),!d)rn(-1,"No Transport");else{if(At.readyState=1,z&&Tt.trigger("ajaxSend",[At,W]),k)return At;W.async&&W.timeout>0&&(b=t.setTimeout(function(){At.abort("timeout")},W.timeout));try{k=!1,d.send(fe,rn)}catch(Ut){if(k)throw Ut;rn(-1,Ut)}}function rn(Ut,ie,a,g){var y,C,F,q,st,Ht=ie;k||(k=!0,b&&t.clearTimeout(b),d=void 0,w=g||"",At.readyState=Ut>0?4:0,y=Ut>=200&&Ut<300||Ut===304,a&&(q=Ls(W,At,a)),!y&&h.inArray("script",W.dataTypes)>-1&&h.inArray("json",W.dataTypes)<0&&(W.converters["text script"]=function(){}),q=is(W,q,At,y),y?(W.ifModified&&(st=At.getResponseHeader("Last-Modified"),st&&(h.lastModified[m]=st),st=At.getResponseHeader("etag"),st&&(h.etag[m]=st)),Ut===204||W.type==="HEAD"?Ht="nocontent":Ut===304?Ht="notmodified":(Ht=q.state,C=q.data,F=q.error,y=!F)):(F=Ht,(Ut||!Ht)&&(Ht="error",Ut<0&&(Ut=0))),At.status=Ut,At.statusText=(ie||Ht)+"",y?$t.resolveWith(it,[C,Ht,At]):$t.rejectWith(it,[At,Ht,F]),At.statusCode(we),we=void 0,z&&Tt.trigger(y?"ajaxSuccess":"ajaxError",[At,W,y?C:F]),xt.fireWith(it,[At,Ht]),z&&(Tt.trigger("ajaxComplete",[At,W]),--h.active||h.event.trigger("ajaxStop")))}return At},getJSON:function(s,l,d){return h.get(s,l,d,"json")},getScript:function(s,l){return h.get(s,void 0,l,"script")}}),h.each(["get","post"],function(s,l){h[l]=function(d,m,w,E){return Y(m)&&(E=E||w,w=m,m=void 0),h.ajax(h.extend({url:d,type:l,dataType:E,data:m,success:w},h.isPlainObject(d)&&d))}}),h.ajaxPrefilter(function(s){var l;for(l in s.headers)l.toLowerCase()==="content-type"&&(s.contentType=s.headers[l]||"")}),h._evalUrl=function(s,l,d){return h.ajax({url:s,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(m){h.globalEval(m,l,d)}})},h.fn.extend({wrapAll:function(s){var l;return this[0]&&(Y(s)&&(s=s.call(this[0])),l=h(s,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&l.insertBefore(this[0]),l.map(function(){for(var d=this;d.firstElementChild;)d=d.firstElementChild;return d}).append(this)),this},wrapInner:function(s){return Y(s)?this.each(function(l){h(this).wrapInner(s.call(this,l))}):this.each(function(){var l=h(this),d=l.contents();d.length?d.wrapAll(s):l.append(s)})},wrap:function(s){var l=Y(s);return this.each(function(d){h(this).wrapAll(l?s.call(this,d):s)})},unwrap:function(s){return this.parent(s).not("body").each(function(){h(this).replaceWith(this.childNodes)}),this}}),h.expr.pseudos.hidden=function(s){return!h.expr.pseudos.visible(s)},h.expr.pseudos.visible=function(s){return!!(s.offsetWidth||s.offsetHeight||s.getClientRects().length)},h.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Wt={0:200,1223:204},Yn=h.ajaxSettings.xhr();X.cors=!!Yn&&"withCredentials"in Yn,X.ajax=Yn=!!Yn,h.ajaxTransport(function(s){var l,d;if(X.cors||Yn&&!s.crossDomain)return{send:function(m,w){var E,b=s.xhr();if(b.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(E in s.xhrFields)b[E]=s.xhrFields[E];s.mimeType&&b.overrideMimeType&&b.overrideMimeType(s.mimeType),!s.crossDomain&&!m["X-Requested-With"]&&(m["X-Requested-With"]="XMLHttpRequest");for(E in m)b.setRequestHeader(E,m[E]);l=function(N){return function(){l&&(l=d=b.onload=b.onerror=b.onabort=b.ontimeout=b.onreadystatechange=null,N==="abort"?b.abort():N==="error"?typeof b.status!="number"?w(0,"error"):w(b.status,b.statusText):w(Wt[b.status]||b.status,b.statusText,(b.responseType||"text")!=="text"||typeof b.responseText!="string"?{binary:b.response}:{text:b.responseText},b.getAllResponseHeaders()))}},b.onload=l(),d=b.onerror=b.ontimeout=l("error"),b.onabort!==void 0?b.onabort=d:b.onreadystatechange=function(){b.readyState===4&&t.setTimeout(function(){l&&d()})},l=l("abort");try{b.send(s.hasContent&&s.data||null)}catch(N){if(l)throw N}},abort:function(){l&&l()}}}),h.ajaxPrefilter(function(s){s.crossDomain&&(s.contents.script=!1)}),h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(s){return h.globalEval(s),s}}}),h.ajaxPrefilter("script",function(s){s.cache===void 0&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),h.ajaxTransport("script",function(s){if(s.crossDomain||s.scriptAttrs){var l,d;return{send:function(m,w){l=h("<script>").attr(s.scriptAttrs||{}).prop({charset:s.scriptCharset,src:s.url}).on("load error",d=function(E){l.remove(),d=null,E&&w(E.type==="error"?404:200,E.type)}),ot.head.appendChild(l[0])},abort:function(){d&&d()}}}});var $e=[],Le=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var s=$e.pop()||h.expando+"_"+pr.guid++;return this[s]=!0,s}}),h.ajaxPrefilter("json jsonp",function(s,l,d){var m,w,E,b=s.jsonp!==!1&&(Le.test(s.url)?"url":typeof s.data=="string"&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Le.test(s.data)&&"data");if(b||s.dataTypes[0]==="jsonp")return m=s.jsonpCallback=Y(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,b?s[b]=s[b].replace(Le,"$1"+m):s.jsonp!==!1&&(s.url+=(Mn.test(s.url)?"&":"?")+s.jsonp+"="+m),s.converters["script json"]=function(){return E||h.error(m+" was not called"),E[0]},s.dataTypes[0]="json",w=t[m],t[m]=function(){E=arguments},d.always(function(){w===void 0?h(t).removeProp(m):t[m]=w,s[m]&&(s.jsonpCallback=l.jsonpCallback,$e.push(m)),E&&Y(w)&&w(E[0]),E=w=void 0}),"script"}),X.createHTMLDocument=function(){var s=ot.implementation.createHTMLDocument("").body;return s.innerHTML="<form></form><form></form>",s.childNodes.length===2}(),h.parseHTML=function(s,l,d){if(typeof s!="string")return[];typeof l=="boolean"&&(d=l,l=!1);var m,w,E;return l||(X.createHTMLDocument?(l=ot.implementation.createHTMLDocument(""),m=l.createElement("base"),m.href=ot.location.href,l.head.appendChild(m)):l=ot),w=Qt.exec(s),E=!d&&[],w?[l.createElement(w[1])]:(w=Mi([s],l,E),E&&E.length&&h(E).remove(),h.merge([],w.childNodes))},h.fn.load=function(s,l,d){var m,w,E,b=this,N=s.indexOf(" ");return N>-1&&(m=Dn(s.slice(N)),s=s.slice(0,N)),Y(l)?(d=l,l=void 0):l&&typeof l=="object"&&(w="POST"),b.length>0&&h.ajax({url:s,type:w||"GET",dataType:"html",data:l}).done(function(k){E=arguments,b.html(m?h("<div>").append(h.parseHTML(k)).find(m):k)}).always(d&&function(k,z){b.each(function(){d.apply(this,E||[k.responseText,z,k])})}),this},h.expr.pseudos.animated=function(s){return h.grep(h.timers,function(l){return s===l.elem}).length},h.offset={setOffset:function(s,l,d){var m,w,E,b,N,k,z,K=h.css(s,"position"),Q=h(s),W={};K==="static"&&(s.style.position="relative"),N=Q.offset(),E=h.css(s,"top"),k=h.css(s,"left"),z=(K==="absolute"||K==="fixed")&&(E+k).indexOf("auto")>-1,z?(m=Q.position(),b=m.top,w=m.left):(b=parseFloat(E)||0,w=parseFloat(k)||0),Y(l)&&(l=l.call(s,d,h.extend({},N))),l.top!=null&&(W.top=l.top-N.top+b),l.left!=null&&(W.left=l.left-N.left+w),"using"in l?l.using.call(s,W):Q.css(W)}},h.fn.extend({offset:function(s){if(arguments.length)return s===void 0?this:this.each(function(w){h.offset.setOffset(this,s,w)});var l,d,m=this[0];if(m)return m.getClientRects().length?(l=m.getBoundingClientRect(),d=m.ownerDocument.defaultView,{top:l.top+d.pageYOffset,left:l.left+d.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var s,l,d,m=this[0],w={top:0,left:0};if(h.css(m,"position")==="fixed")l=m.getBoundingClientRect();else{for(l=this.offset(),d=m.ownerDocument,s=m.offsetParent||d.documentElement;s&&(s===d.body||s===d.documentElement)&&h.css(s,"position")==="static";)s=s.parentNode;s&&s!==m&&s.nodeType===1&&(w=h(s).offset(),w.top+=h.css(s,"borderTopWidth",!0),w.left+=h.css(s,"borderLeftWidth",!0))}return{top:l.top-w.top-h.css(m,"marginTop",!0),left:l.left-w.left-h.css(m,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var s=this.offsetParent;s&&h.css(s,"position")==="static";)s=s.offsetParent;return s||pn})}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(s,l){var d=l==="pageYOffset";h.fn[s]=function(m){return ke(this,function(w,E,b){var N;if(at(w)?N=w:w.nodeType===9&&(N=w.defaultView),b===void 0)return N?N[l]:w[E];N?N.scrollTo(d?N.pageXOffset:b,d?b:N.pageYOffset):w[E]=b},s,m,arguments.length)}}),h.each(["top","left"],function(s,l){h.cssHooks[l]=zi(X.pixelPosition,function(d,m){if(m)return m=Gn(d,l),ur.test(m)?h(d).position()[l]+"px":m})}),h.each({Height:"height",Width:"width"},function(s,l){h.each({padding:"inner"+s,content:l,"":"outer"+s},function(d,m){h.fn[m]=function(w,E){var b=arguments.length&&(d||typeof w!="boolean"),N=d||(w===!0||E===!0?"margin":"border");return ke(this,function(k,z,K){var Q;return at(k)?m.indexOf("outer")===0?k["inner"+s]:k.document.documentElement["client"+s]:k.nodeType===9?(Q=k.documentElement,Math.max(k.body["scroll"+s],Q["scroll"+s],k.body["offset"+s],Q["offset"+s],Q["client"+s])):K===void 0?h.css(k,z,N):h.style(k,z,K,N)},l,b?w:void 0,b)}})}),h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(s,l){h.fn[l]=function(d){return this.on(l,d)}}),h.fn.extend({bind:function(s,l,d){return this.on(s,null,l,d)},unbind:function(s,l){return this.off(s,null,l)},delegate:function(s,l,d,m){return this.on(l,s,d,m)},undelegate:function(s,l,d){return arguments.length===1?this.off(s,"**"):this.off(l,s||"**",d)},hover:function(s,l){return this.on("mouseenter",s).on("mouseleave",l||s)}}),h.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(s,l){h.fn[l]=function(d,m){return arguments.length>0?this.on(l,null,d,m):this.trigger(l)}});var rs=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;h.proxy=function(s,l){var d,m,w;if(typeof l=="string"&&(d=s[l],l=s,s=d),!!Y(s))return m=p.call(arguments,2),w=function(){return s.apply(l||this,m.concat(p.call(arguments)))},w.guid=s.guid=s.guid||h.guid++,w},h.holdReady=function(s){s?h.readyWait++:h.ready(!0)},h.isArray=Array.isArray,h.parseJSON=JSON.parse,h.nodeName=x,h.isFunction=Y,h.isWindow=at,h.camelCase=Ne,h.type=ct,h.now=Date.now,h.isNumeric=function(s){var l=h.type(s);return(l==="number"||l==="string")&&!isNaN(s-parseFloat(s))},h.trim=function(s){return s==null?"":(s+"").replace(rs,"$1")};var ao=t.jQuery,pi=t.$;return h.noConflict=function(s){return t.$===h&&(t.$=pi),s&&t.jQuery===h&&(t.jQuery=ao),h},typeof n>"u"&&(t.jQuery=t.$=h),h})}(ta)),ta.exports}var Qd=Jd();const Ye=hh(Qd),tp=()=>{};var Rl={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=function(i){const t=[];let n=0;for(let o=0;o<i.length;o++){let c=i.charCodeAt(o);c<128?t[n++]=c:c<2048?(t[n++]=c>>6|192,t[n++]=c&63|128):(c&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(c=65536+((c&1023)<<10)+(i.charCodeAt(++o)&1023),t[n++]=c>>18|240,t[n++]=c>>12&63|128,t[n++]=c>>6&63|128,t[n++]=c&63|128):(t[n++]=c>>12|224,t[n++]=c>>6&63|128,t[n++]=c&63|128)}return t},ep=function(i){const t=[];let n=0,o=0;for(;n<i.length;){const c=i[n++];if(c<128)t[o++]=String.fromCharCode(c);else if(c>191&&c<224){const p=i[n++];t[o++]=String.fromCharCode((c&31)<<6|p&63)}else if(c>239&&c<365){const p=i[n++],v=i[n++],A=i[n++],S=((c&7)<<18|(p&63)<<12|(v&63)<<6|A&63)-65536;t[o++]=String.fromCharCode(55296+(S>>10)),t[o++]=String.fromCharCode(56320+(S&1023))}else{const p=i[n++],v=i[n++];t[o++]=String.fromCharCode((c&15)<<12|(p&63)<<6|v&63)}}return t.join("")},dh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let c=0;c<i.length;c+=3){const p=i[c],v=c+1<i.length,A=v?i[c+1]:0,S=c+2<i.length,U=S?i[c+2]:0,j=p>>2,J=(p&3)<<4|A>>4;let et=(A&15)<<2|U>>6,ut=U&63;S||(ut=64,v||(et=64)),o.push(n[j],n[J],n[et],n[ut])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(fh(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):ep(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let c=0;c<i.length;){const p=n[i.charAt(c++)],A=c<i.length?n[i.charAt(c)]:0;++c;const U=c<i.length?n[i.charAt(c)]:64;++c;const J=c<i.length?n[i.charAt(c)]:64;if(++c,p==null||A==null||U==null||J==null)throw new np;const et=p<<2|A>>4;if(o.push(et),U!==64){const ut=A<<4&240|U>>2;if(o.push(ut),J!==64){const X=U<<6&192|J;o.push(X)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class np extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ip=function(i){const t=fh(i);return dh.encodeByteArray(t,!0)},la=function(i){return ip(i).replace(/\./g,"")},ph=function(i){try{return dh.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=()=>rp().__FIREBASE_DEFAULTS__,op=()=>{if(typeof process>"u"||typeof Rl>"u")return;const i=Rl.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ap=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&ph(i[1]);return t&&JSON.parse(t)},Pu=()=>{try{return tp()||sp()||op()||ap()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},gh=i=>{var t,n;return(n=(t=Pu())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},mh=i=>{const t=gh(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),o]:[t.substring(0,n),o]},_h=()=>{var i;return(i=Pu())===null||i===void 0?void 0:i.config},vh=i=>{var t;return(t=Pu())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=t||"demo-project",c=i.iat||0,p=i.sub||i.user_id;if(!p)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const v=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:c,exp:c+3600,auth_time:c,sub:p,user_id:p,firebase:{sign_in_provider:"custom",identities:{}}},i);return[la(JSON.stringify(n)),la(JSON.stringify(v)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function cp(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hp(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function fp(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dp(){const i=fn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function pp(){try{return typeof indexedDB=="object"}catch{return!1}}function gp(){return new Promise((i,t)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(o);c.onsuccess=()=>{c.result.close(),n||self.indexedDB.deleteDatabase(o),i(!0)},c.onupgradeneeded=()=>{n=!1},c.onerror=()=>{var p;t(((p=c.error)===null||p===void 0?void 0:p.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="FirebaseError";class Ri extends Error{constructor(t,n,o){super(n),this.code=t,this.customData=o,this.name=mp,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ao.prototype.create)}}class Ao{constructor(t,n,o){this.service=t,this.serviceName=n,this.errors=o}create(t,...n){const o=n[0]||{},c=`${this.service}/${t}`,p=this.errors[t],v=p?_p(p,o):"Error",A=`${this.serviceName}: ${v} (${c}).`;return new Ri(c,A,o)}}function _p(i,t){return i.replace(vp,(n,o)=>{const c=t[o];return c!=null?String(c):`<${o}?>`})}const vp=/\{\$([^}]+)}/g;function yp(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function gs(i,t){if(i===t)return!0;const n=Object.keys(i),o=Object.keys(t);for(const c of n){if(!o.includes(c))return!1;const p=i[c],v=t[c];if(Dl(p)&&Dl(v)){if(!gs(p,v))return!1}else if(p!==v)return!1}for(const c of o)if(!n.includes(c))return!1;return!0}function Dl(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(i){const t=[];for(const[n,o]of Object.entries(i))Array.isArray(o)?o.forEach(c=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(c))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}function wp(i,t){const n=new Ep(i,t);return n.subscribe.bind(n)}class Ep{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(o=>{this.error(o)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,o){let c;if(t===void 0&&n===void 0&&o===void 0)throw new Error("Missing Observer.");bp(t,["next","error","complete"])?c=t:c={next:t,error:n,complete:o},c.next===void 0&&(c.next=Ua),c.error===void 0&&(c.error=Ua),c.complete===void 0&&(c.complete=Ua);const p=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),p}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bp(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function Ua(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(i){return i&&i._delegate?i._delegate:i}class Dr{constructor(t,n,o){this.name=t,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const o=new up;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:n});c&&o.resolve(c)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),c=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(p){if(c)return null;throw p}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Sp(t))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(n);try{const p=this.getOrInitializeService({instanceIdentifier:c});o.resolve(p)}catch{}}}}clearInstance(t=ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ls){return this.instances.has(t)}getOptions(t=ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[p,v]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(p);o===A&&v.resolve(c)}return c}onInit(t,n){var o;const c=this.normalizeInstanceIdentifier(n),p=(o=this.onInitCallbacks.get(c))!==null&&o!==void 0?o:new Set;p.add(t),this.onInitCallbacks.set(c,p);const v=this.instances.get(c);return v&&t(v,c),()=>{p.delete(t)}}invokeOnInitCallbacks(t,n){const o=this.onInitCallbacks.get(n);if(o)for(const c of o)try{c(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Ap(t),options:n}),this.instances.set(t,o),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=ls){return this.component?this.component.multipleInstances?t:ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ap(i){return i===ls?void 0:i}function Sp(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Tp(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ae||(ae={}));const Ip={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},xp=ae.INFO,Pp={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},Lp=(i,t,...n)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),c=Pp[t];if(c)console[c](`[${o}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lu{constructor(t){this.name=t,this._logLevel=xp,this._logHandler=Lp,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ip[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}}const Op=(i,t)=>t.some(n=>i instanceof n);let Ml,Bl;function kp(){return Ml||(Ml=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Np(){return Bl||(Bl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wh=new WeakMap,cu=new WeakMap,Eh=new WeakMap,za=new WeakMap,Ou=new WeakMap;function Rp(i){const t=new Promise((n,o)=>{const c=()=>{i.removeEventListener("success",p),i.removeEventListener("error",v)},p=()=>{n(kr(i.result)),c()},v=()=>{o(i.error),c()};i.addEventListener("success",p),i.addEventListener("error",v)});return t.then(n=>{n instanceof IDBCursor&&wh.set(n,i)}).catch(()=>{}),Ou.set(t,i),t}function Dp(i){if(cu.has(i))return;const t=new Promise((n,o)=>{const c=()=>{i.removeEventListener("complete",p),i.removeEventListener("error",v),i.removeEventListener("abort",v)},p=()=>{n(),c()},v=()=>{o(i.error||new DOMException("AbortError","AbortError")),c()};i.addEventListener("complete",p),i.addEventListener("error",v),i.addEventListener("abort",v)});cu.set(i,t)}let hu={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return cu.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Eh.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Mp(i){hu=i(hu)}function Bp(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const o=i.call(Ha(this),t,...n);return Eh.set(o,t.sort?t.sort():[t]),kr(o)}:Np().includes(i)?function(...t){return i.apply(Ha(this),t),kr(wh.get(this))}:function(...t){return kr(i.apply(Ha(this),t))}}function Up(i){return typeof i=="function"?Bp(i):(i instanceof IDBTransaction&&Dp(i),Op(i,kp())?new Proxy(i,hu):i)}function kr(i){if(i instanceof IDBRequest)return Rp(i);if(za.has(i))return za.get(i);const t=Up(i);return t!==i&&(za.set(i,t),Ou.set(t,i)),t}const Ha=i=>Ou.get(i);function zp(i,t,{blocked:n,upgrade:o,blocking:c,terminated:p}={}){const v=indexedDB.open(i,t),A=kr(v);return o&&v.addEventListener("upgradeneeded",S=>{o(kr(v.result),S.oldVersion,S.newVersion,kr(v.transaction),S)}),n&&v.addEventListener("blocked",S=>n(S.oldVersion,S.newVersion,S)),A.then(S=>{p&&S.addEventListener("close",()=>p()),c&&S.addEventListener("versionchange",U=>c(U.oldVersion,U.newVersion,U))}).catch(()=>{}),A}const Hp=["get","getKey","getAll","getAllKeys","count"],Fp=["put","add","delete","clear"],Fa=new Map;function Ul(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Fa.get(t))return Fa.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,c=Fp.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(c||Hp.includes(n)))return;const p=async function(v,...A){const S=this.transaction(v,c?"readwrite":"readonly");let U=S.store;return o&&(U=U.index(A.shift())),(await Promise.all([U[n](...A),c&&S.done]))[0]};return Fa.set(t,p),p}Mp(i=>({...i,get:(t,n,o)=>Ul(t,n)||i.get(t,n,o),has:(t,n)=>!!Ul(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($p(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function $p(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const fu="@firebase/app",zl="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Lu("@firebase/app"),Vp="@firebase/app-compat",Wp="@firebase/analytics-compat",qp="@firebase/analytics",Zp="@firebase/app-check-compat",Gp="@firebase/app-check",Kp="@firebase/auth",Yp="@firebase/auth-compat",Xp="@firebase/database",Jp="@firebase/data-connect",Qp="@firebase/database-compat",tg="@firebase/functions",eg="@firebase/functions-compat",ng="@firebase/installations",ig="@firebase/installations-compat",rg="@firebase/messaging",sg="@firebase/messaging-compat",og="@firebase/performance",ag="@firebase/performance-compat",ug="@firebase/remote-config",lg="@firebase/remote-config-compat",cg="@firebase/storage",hg="@firebase/storage-compat",fg="@firebase/firestore",dg="@firebase/vertexai",pg="@firebase/firestore-compat",gg="firebase",mg="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du="[DEFAULT]",_g={[fu]:"fire-core",[Vp]:"fire-core-compat",[qp]:"fire-analytics",[Wp]:"fire-analytics-compat",[Gp]:"fire-app-check",[Zp]:"fire-app-check-compat",[Kp]:"fire-auth",[Yp]:"fire-auth-compat",[Xp]:"fire-rtdb",[Jp]:"fire-data-connect",[Qp]:"fire-rtdb-compat",[tg]:"fire-fn",[eg]:"fire-fn-compat",[ng]:"fire-iid",[ig]:"fire-iid-compat",[rg]:"fire-fcm",[sg]:"fire-fcm-compat",[og]:"fire-perf",[ag]:"fire-perf-compat",[ug]:"fire-rc",[lg]:"fire-rc-compat",[cg]:"fire-gcs",[hg]:"fire-gcs-compat",[fg]:"fire-fst",[pg]:"fire-fst-compat",[dg]:"fire-vertex","fire-js":"fire-js",[gg]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Map,vg=new Map,pu=new Map;function Hl(i,t){try{i.container.addComponent(t)}catch(n){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function ms(i){const t=i.name;if(pu.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;pu.set(t,i);for(const n of ca.values())Hl(n,i);for(const n of vg.values())Hl(n,i);return!0}function Ta(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function Qn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new Ao("app","Firebase",yg);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t,n,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=mg;function bh(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:du,automaticDataCollectionEnabled:!1},t),c=o.name;if(typeof c!="string"||!c)throw Nr.create("bad-app-name",{appName:String(c)});if(n||(n=_h()),!n)throw Nr.create("no-options");const p=ca.get(c);if(p){if(gs(n,p.options)&&gs(o,p.config))return p;throw Nr.create("duplicate-app",{appName:c})}const v=new Cp(c);for(const S of pu.values())v.addComponent(S);const A=new wg(n,o,v);return ca.set(c,A),A}function ku(i=du){const t=ca.get(i);if(!t&&i===du&&_h())return bh();if(!t)throw Nr.create("no-app",{appName:i});return t}function xi(i,t,n){var o;let c=(o=_g[i])!==null&&o!==void 0?o:i;n&&(c+=`-${n}`);const p=c.match(/\s|\//),v=t.match(/\s|\//);if(p||v){const A=[`Unable to register library "${c}" with version "${t}":`];p&&A.push(`library name "${c}" contains illegal characters (whitespace or "/")`),p&&v&&A.push("and"),v&&A.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(A.join(" "));return}ms(new Dr(`${c}-version`,()=>({library:c,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="firebase-heartbeat-database",bg=1,bo="firebase-heartbeat-store";let ja=null;function Th(){return ja||(ja=zp(Eg,bg,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(bo)}catch(n){console.warn(n)}}}}).catch(i=>{throw Nr.create("idb-open",{originalErrorMessage:i.message})})),ja}async function Tg(i){try{const n=(await Th()).transaction(bo),o=await n.objectStore(bo).get(Ah(i));return await n.done,o}catch(t){if(t instanceof Ri)Xi.warn(t.message);else{const n=Nr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xi.warn(n.message)}}}async function Fl(i,t){try{const o=(await Th()).transaction(bo,"readwrite");await o.objectStore(bo).put(t,Ah(i)),await o.done}catch(n){if(n instanceof Ri)Xi.warn(n.message);else{const o=Nr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xi.warn(o.message)}}}function Ah(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=1024,Sg=30;class Cg{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xg(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,n;try{const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),p=jl();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===p||this._heartbeatsCache.heartbeats.some(v=>v.date===p))return;if(this._heartbeatsCache.heartbeats.push({date:p,agent:c}),this._heartbeatsCache.heartbeats.length>Sg){const v=Pg(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(v,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){Xi.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jl(),{heartbeatsToSend:o,unsentEntries:c}=Ig(this._heartbeatsCache.heartbeats),p=la(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=n,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),p}catch(n){return Xi.warn(n),""}}}function jl(){return new Date().toISOString().substring(0,10)}function Ig(i,t=Ag){const n=[];let o=i.slice();for(const c of i){const p=n.find(v=>v.agent===c.agent);if(p){if(p.dates.push(c.date),$l(n)>t){p.dates.pop();break}}else if(n.push({agent:c.agent,dates:[c.date]}),$l(n)>t){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class xg{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pp()?gp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Tg(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const c=await this.read();return Fl(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:c.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const c=await this.read();return Fl(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...t.heartbeats]})}else return}}function $l(i){return la(JSON.stringify({version:2,heartbeats:i})).length}function Pg(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let o=1;o<i.length;o++)i[o].date<n&&(n=i[o].date,t=o);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(i){ms(new Dr("platform-logger",t=>new jp(t),"PRIVATE")),ms(new Dr("heartbeat",t=>new Cg(t),"PRIVATE")),xi(fu,zl,i),xi(fu,zl,"esm2017"),xi("fire-js","")}Lg("");var Og="firebase",kg="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(Og,kg,"app");function Nu(i,t){var n={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&t.indexOf(o)<0&&(n[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(n[o[c]]=i[o[c]]);return n}function Sh(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ng=Sh,Ch=new Ao("auth","Firebase",Sh());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Lu("@firebase/auth");function Rg(i,...t){ha.logLevel<=ae.WARN&&ha.warn(`Auth (${Es}): ${i}`,...t)}function ea(i,...t){ha.logLevel<=ae.ERROR&&ha.error(`Auth (${Es}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(i,...t){throw Ru(i,...t)}function Pi(i,...t){return Ru(i,...t)}function Ih(i,t,n){const o=Object.assign(Object.assign({},Ng()),{[t]:n});return new Ao("auth","Firebase",o).create(t,{appName:i.name})}function Rr(i){return Ih(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ru(i,...t){if(typeof i!="string"){const n=t[0],o=[...t.slice(1)];return o[0]&&(o[0].appName=i.name),i._errorFactory.create(n,...o)}return Ch.create(i,...t)}function Nt(i,t,...n){if(!i)throw Ru(t,...n)}function qi(i){const t="INTERNAL ASSERTION FAILED: "+i;throw ea(t),new Error(t)}function Qi(i,t){i||qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Dg(){return Vl()==="http:"||Vl()==="https:"}function Vl(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dg()||hp()||"connection"in navigator)?navigator.onLine:!0}function Bg(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t,n){this.shortDelay=t,this.longDelay=n,Qi(n>t,"Short delay should be less than long delay!"),this.isMobile=lp()||fp()}get(){return Mg()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(i,t){Qi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{static initialize(t,n,o){this.fetchImpl=t,n&&(this.headersImpl=n),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Hg=new Co(3e4,6e4);function Aa(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function to(i,t,n,o,c={}){return Ph(i,c,async()=>{let p={},v={};o&&(t==="GET"?v=o:p={body:JSON.stringify(o)});const A=So(Object.assign({key:i.config.apiKey},v)).slice(1),S=await i._getAdditionalHeaders();S["Content-Type"]="application/json",i.languageCode&&(S["X-Firebase-Locale"]=i.languageCode);const U=Object.assign({method:t,headers:S},p);return cp()||(U.referrerPolicy="no-referrer"),xh.fetch()(await Oh(i,i.config.apiHost,n,A),U)})}async function Ph(i,t,n){i._canInitEmulator=!1;const o=Object.assign(Object.assign({},Ug),t);try{const c=new Fg(i),p=await Promise.race([n(),c.promise]);c.clearNetworkTimeout();const v=await p.json();if("needConfirmation"in v)throw Fo(i,"account-exists-with-different-credential",v);if(p.ok&&!("errorMessage"in v))return v;{const A=p.ok?v.errorMessage:v.error.message,[S,U]=A.split(" : ");if(S==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fo(i,"credential-already-in-use",v);if(S==="EMAIL_EXISTS")throw Fo(i,"email-already-in-use",v);if(S==="USER_DISABLED")throw Fo(i,"user-disabled",v);const j=o[S]||S.toLowerCase().replace(/[_\s]+/g,"-");if(U)throw Ih(i,j,U);Ji(i,j)}}catch(c){if(c instanceof Ri)throw c;Ji(i,"network-request-failed",{message:String(c)})}}async function Lh(i,t,n,o,c={}){const p=await to(i,t,n,o,c);return"mfaPendingCredential"in p&&Ji(i,"multi-factor-auth-required",{_serverResponse:p}),p}async function Oh(i,t,n,o){const c=`${t}${n}?${o}`,p=i,v=p.config.emulator?Du(i.config,c):`${i.config.apiScheme}://${c}`;return zg.includes(n)&&(await p._persistenceManagerAvailable,p._getPersistenceType()==="COOKIE")?p._getPersistence()._getFinalTarget(v).toString():v}class Fg{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,o)=>{this.timer=setTimeout(()=>o(Pi(this.auth,"network-request-failed")),Hg.get())})}}function Fo(i,t,n){const o={appName:i.name};n.email&&(o.email=n.email),n.phoneNumber&&(o.phoneNumber=n.phoneNumber);const c=Pi(i,t,o);return c.customData._tokenResponse=n,c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jg(i,t){return to(i,"POST","/v1/accounts:delete",t)}async function fa(i,t){return to(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $g(i,t=!1){const n=ii(i),o=await n.getIdToken(t),c=Mu(o);Nt(c&&c.exp&&c.auth_time&&c.iat,n.auth,"internal-error");const p=typeof c.firebase=="object"?c.firebase:void 0,v=p==null?void 0:p.sign_in_provider;return{claims:c,token:o,authTime:mo($a(c.auth_time)),issuedAtTime:mo($a(c.iat)),expirationTime:mo($a(c.exp)),signInProvider:v||null,signInSecondFactor:(p==null?void 0:p.sign_in_second_factor)||null}}function $a(i){return Number(i)*1e3}function Mu(i){const[t,n,o]=i.split(".");if(t===void 0||n===void 0||o===void 0)return ea("JWT malformed, contained fewer than 3 sections"),null;try{const c=ph(n);return c?JSON.parse(c):(ea("Failed to decode base64 JWT payload"),null)}catch(c){return ea("Caught error parsing JWT payload as JSON",c==null?void 0:c.toString()),null}}function Wl(i){const t=Mu(i);return Nt(t,"internal-error"),Nt(typeof t.exp<"u","internal-error"),Nt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(i,t,n=!1){if(n)return t;try{return await t}catch(o){throw o instanceof Ri&&Vg(o)&&i.auth.currentUser===i&&await i.auth.signOut(),o}}function Vg({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const o=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),o}else{this.errorBackoff=3e4;const c=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mo(this.lastLoginAt),this.creationTime=mo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(i){var t;const n=i.auth,o=await i.getIdToken(),c=await To(i,fa(n,{idToken:o}));Nt(c==null?void 0:c.users.length,n,"internal-error");const p=c.users[0];i._notifyReloadListener(p);const v=!((t=p.providerUserInfo)===null||t===void 0)&&t.length?kh(p.providerUserInfo):[],A=Zg(i.providerData,v),S=i.isAnonymous,U=!(i.email&&p.passwordHash)&&!(A!=null&&A.length),j=S?U:!1,J={uid:p.localId,displayName:p.displayName||null,photoURL:p.photoUrl||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,tenantId:p.tenantId||null,providerData:A,metadata:new mu(p.createdAt,p.lastLoginAt),isAnonymous:j};Object.assign(i,J)}async function qg(i){const t=ii(i);await da(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Zg(i,t){return[...i.filter(o=>!t.some(c=>c.providerId===o.providerId)),...t]}function kh(i){return i.map(t=>{var{providerId:n}=t,o=Nu(t,["providerId"]);return{providerId:n,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(i,t){const n=await Ph(i,{},async()=>{const o=So({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:c,apiKey:p}=i.config,v=await Oh(i,c,"/v1/token",`key=${p}`),A=await i._getAdditionalHeaders();return A["Content-Type"]="application/x-www-form-urlencoded",xh.fetch()(v,{method:"POST",headers:A,body:o})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Kg(i,t){return to(i,"POST","/v2/accounts:revokeToken",Aa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Nt(t.idToken,"internal-error"),Nt(typeof t.idToken<"u","internal-error"),Nt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Wl(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Nt(t.length!==0,"internal-error");const n=Wl(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Nt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:o,refreshToken:c,expiresIn:p}=await Gg(t,n);this.updateTokensAndExpiration(o,c,Number(p))}updateTokensAndExpiration(t,n,o){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(t,n){const{refreshToken:o,accessToken:c,expirationTime:p}=n,v=new $s;return o&&(Nt(typeof o=="string","internal-error",{appName:t}),v.refreshToken=o),c&&(Nt(typeof c=="string","internal-error",{appName:t}),v.accessToken=c),p&&(Nt(typeof p=="number","internal-error",{appName:t}),v.expirationTime=p),v}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $s,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(i,t){Nt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class mi{constructor(t){var{uid:n,auth:o,stsTokenManager:c}=t,p=Nu(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=o,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=p.displayName||null,this.email=p.email||null,this.emailVerified=p.emailVerified||!1,this.phoneNumber=p.phoneNumber||null,this.photoURL=p.photoURL||null,this.isAnonymous=p.isAnonymous||!1,this.tenantId=p.tenantId||null,this.providerData=p.providerData?[...p.providerData]:[],this.metadata=new mu(p.createdAt||void 0,p.lastLoginAt||void 0)}async getIdToken(t){const n=await To(this,this.stsTokenManager.getToken(this.auth,t));return Nt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return $g(this,t)}reload(){return qg(this)}_assign(t){this!==t&&(Nt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new mi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let o=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),o=!0),n&&await da(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Rr(this.auth));const t=await this.getIdToken();return await To(this,jg(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var o,c,p,v,A,S,U,j;const J=(o=n.displayName)!==null&&o!==void 0?o:void 0,et=(c=n.email)!==null&&c!==void 0?c:void 0,ut=(p=n.phoneNumber)!==null&&p!==void 0?p:void 0,X=(v=n.photoURL)!==null&&v!==void 0?v:void 0,Y=(A=n.tenantId)!==null&&A!==void 0?A:void 0,at=(S=n._redirectEventId)!==null&&S!==void 0?S:void 0,ot=(U=n.createdAt)!==null&&U!==void 0?U:void 0,It=(j=n.lastLoginAt)!==null&&j!==void 0?j:void 0,{uid:dt,emailVerified:ct,isAnonymous:St,providerData:wt,stsTokenManager:h}=n;Nt(dt&&h,t,"internal-error");const O=$s.fromJSON(this.name,h);Nt(typeof dt=="string",t,"internal-error"),br(J,t.name),br(et,t.name),Nt(typeof ct=="boolean",t,"internal-error"),Nt(typeof St=="boolean",t,"internal-error"),br(ut,t.name),br(X,t.name),br(Y,t.name),br(at,t.name),br(ot,t.name),br(It,t.name);const x=new mi({uid:dt,auth:t,email:et,emailVerified:ct,displayName:J,isAnonymous:St,photoURL:X,phoneNumber:ut,tenantId:Y,stsTokenManager:O,createdAt:ot,lastLoginAt:It});return wt&&Array.isArray(wt)&&(x.providerData=wt.map(M=>Object.assign({},M))),at&&(x._redirectEventId=at),x}static async _fromIdTokenResponse(t,n,o=!1){const c=new $s;c.updateFromServerResponse(n);const p=new mi({uid:n.localId,auth:t,stsTokenManager:c,isAnonymous:o});return await da(p),p}static async _fromGetAccountInfoResponse(t,n,o){const c=n.users[0];Nt(c.localId!==void 0,"internal-error");const p=c.providerUserInfo!==void 0?kh(c.providerUserInfo):[],v=!(c.email&&c.passwordHash)&&!(p!=null&&p.length),A=new $s;A.updateFromIdToken(o);const S=new mi({uid:c.localId,auth:t,stsTokenManager:A,isAnonymous:v}),U={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new mu(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash)&&!(p!=null&&p.length)};return Object.assign(S,U),S}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=new Map;function Zi(i){Qi(i instanceof Function,"Expected a class definition");let t=ql.get(i);return t?(Qi(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,ql.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Nh.type="NONE";const Zl=Nh;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(i,t,n){return`firebase:${i}:${t}:${n}`}class Vs{constructor(t,n,o){this.persistence=t,this.auth=n,this.userKey=o;const{config:c,name:p}=this.auth;this.fullUserKey=na(this.userKey,c.apiKey,p),this.fullPersistenceKey=na("persistence",c.apiKey,p),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await fa(this.auth,{idToken:t}).catch(()=>{});return n?mi._fromGetAccountInfoResponse(this.auth,n,t):null}return mi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,o="authUser"){if(!n.length)return new Vs(Zi(Zl),t,o);const c=(await Promise.all(n.map(async U=>{if(await U._isAvailable())return U}))).filter(U=>U);let p=c[0]||Zi(Zl);const v=na(o,t.config.apiKey,t.name);let A=null;for(const U of n)try{const j=await U._get(v);if(j){let J;if(typeof j=="string"){const et=await fa(t,{idToken:j}).catch(()=>{});if(!et)break;J=await mi._fromGetAccountInfoResponse(t,et,j)}else J=mi._fromJSON(t,j);U!==p&&(A=J),p=U;break}}catch{}const S=c.filter(U=>U._shouldAllowMigration);return!p._shouldAllowMigration||!S.length?new Vs(p,t,o):(p=S[0],A&&await p._set(v,A.toJSON()),await Promise.all(n.map(async U=>{if(U!==p)try{await U._remove(v)}catch{}})),new Vs(p,t,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Bh(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Rh(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zh(t))return"Blackberry";if(Hh(t))return"Webos";if(Dh(t))return"Safari";if((t.includes("chrome/")||Mh(t))&&!t.includes("edge/"))return"Chrome";if(Uh(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=i.match(n);if((o==null?void 0:o.length)===2)return o[1]}return"Other"}function Rh(i=fn()){return/firefox\//i.test(i)}function Dh(i=fn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Mh(i=fn()){return/crios\//i.test(i)}function Bh(i=fn()){return/iemobile/i.test(i)}function Uh(i=fn()){return/android/i.test(i)}function zh(i=fn()){return/blackberry/i.test(i)}function Hh(i=fn()){return/webos/i.test(i)}function Bu(i=fn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Yg(i=fn()){var t;return Bu(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Xg(){return dp()&&document.documentMode===10}function Fh(i=fn()){return Bu(i)||Uh(i)||Hh(i)||zh(i)||/windows phone/i.test(i)||Bh(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(i,t=[]){let n;switch(i){case"Browser":n=Gl(fn());break;case"Worker":n=`${Gl(fn())}-${i}`;break;default:n=i}const o=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Es}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const o=p=>new Promise((v,A)=>{try{const S=t(p);v(S)}catch(S){A(S)}});o.onAbort=n,this.queue.push(o);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const o of this.queue)await o(t),o.onAbort&&n.push(o.onAbort)}catch(o){n.reverse();for(const c of n)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qg(i,t={}){return to(i,"GET","/v2/passwordPolicy",Aa(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=6;class em{constructor(t){var n,o,c,p;const v=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=v.minPasswordLength)!==null&&n!==void 0?n:tm,v.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=v.maxPasswordLength),v.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=v.containsLowercaseCharacter),v.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=v.containsUppercaseCharacter),v.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=v.containsNumericCharacter),v.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=v.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(c=(o=t.allowedNonAlphanumericCharacters)===null||o===void 0?void 0:o.join(""))!==null&&c!==void 0?c:"",this.forceUpgradeOnSignin=(p=t.forceUpgradeOnSignin)!==null&&p!==void 0?p:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,o,c,p,v,A;const S={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,S),this.validatePasswordCharacterOptions(t,S),S.isValid&&(S.isValid=(n=S.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),S.isValid&&(S.isValid=(o=S.meetsMaxPasswordLength)!==null&&o!==void 0?o:!0),S.isValid&&(S.isValid=(c=S.containsLowercaseLetter)!==null&&c!==void 0?c:!0),S.isValid&&(S.isValid=(p=S.containsUppercaseLetter)!==null&&p!==void 0?p:!0),S.isValid&&(S.isValid=(v=S.containsNumericCharacter)!==null&&v!==void 0?v:!0),S.isValid&&(S.isValid=(A=S.containsNonAlphanumericCharacter)!==null&&A!==void 0?A:!0),S}validatePasswordLengthOptions(t,n){const o=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;o&&(n.meetsMinPasswordLength=t.length>=o),c&&(n.meetsMaxPasswordLength=t.length<=c)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let o;for(let c=0;c<t.length;c++)o=t.charAt(c),this.updatePasswordCharacterOptionsStatuses(n,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(t,n,o,c,p){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,n,o,c){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=o,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kl(this),this.idTokenSubscription=new Kl(this),this.beforeStateQueue=new Jg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ch,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=c.sdkClientVersion,this._persistenceManagerAvailable=new Promise(p=>this._resolvePersistenceManagerAvailable=p)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{var o,c,p;if(!this._deleted&&(this.persistenceManager=await Vs.create(this,t),(o=this._resolvePersistenceManagerAvailable)===null||o===void 0||o.call(this),!this._deleted)){if(!((c=this._popupRedirectResolver)===null||c===void 0)&&c._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((p=this.currentUser)===null||p===void 0?void 0:p.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await fa(this,{idToken:t}),o=await mi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(o)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Qn(this.app)){const v=this.app.settings.authIdToken;return v?new Promise(A=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(v).then(A,A))}):this.directlySetCurrentUser(null)}const o=await this.assertedPersistence.getCurrentUser();let c=o,p=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const v=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,A=c==null?void 0:c._redirectEventId,S=await this.tryRedirectSignIn(t);(!v||v===A)&&(S!=null&&S.user)&&(c=S.user,p=!0)}if(!c)return this.directlySetCurrentUser(null);if(!c._redirectEventId){if(p)try{await this.beforeStateQueue.runMiddleware(c)}catch(v){c=o,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(v))}return c?this.reloadAndSetCurrentUserOrClear(c):this.directlySetCurrentUser(null)}return Nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===c._redirectEventId?this.directlySetCurrentUser(c):this.reloadAndSetCurrentUserOrClear(c)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await da(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Bg()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qn(this.app))return Promise.reject(Rr(this));const n=t?ii(t):null;return n&&Nt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Nt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qn(this.app)?Promise.reject(Rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Qg(this),n=new em(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ao("auth","Firebase",t())}onAuthStateChanged(t,n,o){return this.registerStateListener(this.authStateSubscription,t,n,o)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,o){return this.registerStateListener(this.idTokenSubscription,t,n,o)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const o=this.onAuthStateChanged(()=>{o(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(o.tenantId=this.tenantId),await Kg(this,o)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const o=await this.getOrInitRedirectPersistenceManager(n);return t===null?o.removeCurrentUser():o.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Zi(t)||this._popupRedirectResolver;Nt(n,this,"argument-error"),this.redirectPersistenceManager=await Vs.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,o;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const o=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==o&&(this.lastNotifiedUid=o,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,o,c){if(this._deleted)return()=>{};const p=typeof n=="function"?n:n.next.bind(n);let v=!1;const A=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nt(A,this,"internal-error"),A.then(()=>{v||p(this.currentUser)}),typeof n=="function"){const S=t.addObserver(n,o,c);return()=>{v=!0,S()}}else{const S=t.addObserver(n);return()=>{v=!0,S()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const o=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());o&&(n["X-Firebase-Client"]=o);const c=await this._getAppCheckToken();return c&&(n["X-Firebase-AppCheck"]=c),n}async _getAppCheckToken(){var t;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Rg(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Sa(i){return ii(i)}class Kl{constructor(t){this.auth=t,this.observer=null,this.addObserver=wp(n=>this.observer=n)}get next(){return Nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function im(i){Uu=i}function rm(i){return Uu.loadJS(i)}function sm(){return Uu.gapiScript}function om(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(i,t){const n=Ta(i,"auth");if(n.isInitialized()){const c=n.getImmediate(),p=n.getOptions();if(gs(p,t??{}))return c;Ji(c,"already-initialized")}return n.initialize({options:t})}function um(i,t){const n=(t==null?void 0:t.persistence)||[],o=(Array.isArray(n)?n:[n]).map(Zi);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(o,t==null?void 0:t.popupRedirectResolver)}function lm(i,t,n){const o=Sa(i);Nt(/^https?:\/\//.test(t),o,"invalid-emulator-scheme");const c=!1,p=$h(t),{host:v,port:A}=cm(t),S=A===null?"":`:${A}`,U={url:`${p}//${v}${S}/`},j=Object.freeze({host:v,port:A,protocol:p.replace(":",""),options:Object.freeze({disableWarnings:c})});if(!o._canInitEmulator){Nt(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),Nt(gs(U,o.config.emulator)&&gs(j,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=U,o.emulatorConfig=j,o.settings.appVerificationDisabledForTesting=!0,hm()}function $h(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function cm(i){const t=$h(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const o=n[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(o);if(c){const p=c[1];return{host:p,port:Yl(o.substr(p.length+1))}}else{const[p,v]=o.split(":");return{host:p,port:Yl(v)}}}function Yl(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function hm(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(t){return qi("not implemented")}_linkToIdToken(t,n){return qi("not implemented")}_getReauthenticationResolver(t){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(i,t){return Lh(i,"POST","/v1/accounts:signInWithIdp",Aa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="http://localhost";class _s extends Vh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new _s(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:o,signInMethod:c}=n,p=Nu(n,["providerId","signInMethod"]);if(!o||!c)return null;const v=new _s(o,c);return v.idToken=p.idToken||void 0,v.accessToken=p.accessToken||void 0,v.secret=p.secret,v.nonce=p.nonce,v.pendingToken=p.pendingToken||null,v}_getIdTokenResponse(t){const n=this.buildRequest();return Ws(t,n)}_linkToIdToken(t,n){const o=this.buildRequest();return o.idToken=n,Ws(t,o)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ws(t,n)}buildRequest(){const t={requestUri:fm,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=So(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Wh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Io{constructor(){super("facebook.com")}static credential(t){return _s._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ar.credential(t.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Io{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return _s._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:o}=t;if(!n&&!o)return null;try{return Sr.credential(n,o)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Io{constructor(){super("github.com")}static credential(t){return _s._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cr.credential(t.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Io{constructor(){super("twitter.com")}static credential(t,n){return _s._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:o}=t;if(!n||!o)return null;try{return Ir.credential(n,o)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(i,t){return Lh(i,"POST","/v1/accounts:signUp",Aa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,o,c=!1){const p=await mi._fromIdTokenResponse(t,o,c),v=Xl(o);return new Mr({user:p,providerId:v,_tokenResponse:o,operationType:n})}static async _forOperation(t,n,o){await t._updateTokensIfNecessary(o,!0);const c=Xl(o);return new Mr({user:t,providerId:c,_tokenResponse:o,operationType:n})}}function Xl(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pm(i){var t;if(Qn(i.app))return Promise.reject(Rr(i));const n=Sa(i);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Mr({user:n.currentUser,providerId:null,operationType:"signIn"});const o=await dm(n,{returnSecureToken:!0}),c=await Mr._fromIdTokenResponse(n,"signIn",o,!0);return await n._updateCurrentUser(c.user),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Ri{constructor(t,n,o,c){var p;super(n.code,n.message),this.operationType=o,this.user=c,Object.setPrototypeOf(this,pa.prototype),this.customData={appName:t.name,tenantId:(p=t.tenantId)!==null&&p!==void 0?p:void 0,_serverResponse:n.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(t,n,o,c){return new pa(t,n,o,c)}}function qh(i,t,n,o){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(p=>{throw p.code==="auth/multi-factor-auth-required"?pa._fromErrorAndOperation(i,p,t,o):p})}async function gm(i,t,n=!1){const o=await To(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return Mr._forOperation(i,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(i,t,n=!1){const{auth:o}=i;if(Qn(o.app))return Promise.reject(Rr(o));const c="reauthenticate";try{const p=await To(i,qh(o,c,t,i),n);Nt(p.idToken,o,"internal-error");const v=Mu(p.idToken);Nt(v,o,"internal-error");const{sub:A}=v;return Nt(i.uid===A,o,"user-mismatch"),Mr._forOperation(i,c,p)}catch(p){throw(p==null?void 0:p.code)==="auth/user-not-found"&&Ji(o,"user-mismatch"),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(i,t,n=!1){if(Qn(i.app))return Promise.reject(Rr(i));const o="signIn",c=await qh(i,o,t),p=await Mr._fromIdTokenResponse(i,o,c);return n||await i._updateCurrentUser(p.user),p}function vm(i,t,n,o){return ii(i).onIdTokenChanged(t,n,o)}function ym(i,t,n){return ii(i).beforeAuthStateChanged(t,n)}function wm(i,t,n,o){return ii(i).onAuthStateChanged(t,n,o)}const ga="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ga,"1"),this.storage.removeItem(ga),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=1e3,bm=10;class Gh extends Zh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fh(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const o=this.storage.getItem(n),c=this.localCache[n];o!==c&&t(n,c,o)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((v,A,S)=>{this.notifyListeners(v,S)});return}const o=t.key;n?this.detachListener():this.stopPolling();const c=()=>{const v=this.storage.getItem(o);!n&&this.localCache[o]===v||this.notifyListeners(o,v)},p=this.storage.getItem(o);Xg()&&p!==t.newValue&&t.newValue!==t.oldValue?setTimeout(c,bm):c()}notifyListeners(t,n){this.localCache[t]=n;const o=this.listeners[t];if(o)for(const c of Array.from(o))c(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:o}),!0)})},Em)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Gh.type="LOCAL";const Tm=Gh;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends Zh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Kh.type="SESSION";const Yh=Kh;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(c=>c.isListeningto(t));if(n)return n;const o=new Ca(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:o,eventType:c,data:p}=n.data,v=this.handlersMap[c];if(!(v!=null&&v.size))return;n.ports[0].postMessage({status:"ack",eventId:o,eventType:c});const A=Array.from(v).map(async U=>U(n.origin,p)),S=await Am(A);n.ports[0].postMessage({status:"done",eventId:o,eventType:c,response:S})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ca.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(i="",t=10){let n="";for(let o=0;o<t;o++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,o=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let p,v;return new Promise((A,S)=>{const U=zu("",20);c.port1.start();const j=setTimeout(()=>{S(new Error("unsupported_event"))},o);v={messageChannel:c,onMessage(J){const et=J;if(et.data.eventId===U)switch(et.data.status){case"ack":clearTimeout(j),p=setTimeout(()=>{S(new Error("timeout"))},3e3);break;case"done":clearTimeout(p),A(et.data.response);break;default:clearTimeout(j),clearTimeout(p),S(new Error("invalid_response"));break}}},this.handlers.add(v),c.port1.addEventListener("message",v.onMessage),this.target.postMessage({eventType:t,eventId:U,data:n},[c.port2])}).finally(()=>{v&&this.removeMessageHandler(v)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function Cm(i){Li().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function Im(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xm(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Pm(){return Xh()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="firebaseLocalStorageDb",Lm=1,ma="firebaseLocalStorage",Qh="fbase_key";class xo{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ia(i,t){return i.transaction([ma],t?"readwrite":"readonly").objectStore(ma)}function Om(){const i=indexedDB.deleteDatabase(Jh);return new xo(i).toPromise()}function _u(){const i=indexedDB.open(Jh,Lm);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const o=i.result;try{o.createObjectStore(ma,{keyPath:Qh})}catch(c){n(c)}}),i.addEventListener("success",async()=>{const o=i.result;o.objectStoreNames.contains(ma)?t(o):(o.close(),await Om(),t(await _u()))})})}async function Jl(i,t,n){const o=Ia(i,!0).put({[Qh]:t,value:n});return new xo(o).toPromise()}async function km(i,t){const n=Ia(i,!1).get(t),o=await new xo(n).toPromise();return o===void 0?null:o.value}function Ql(i,t){const n=Ia(i,!0).delete(t);return new xo(n).toPromise()}const Nm=800,Rm=3;class tf{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _u(),this.db)}async _withRetries(t){let n=0;for(;;)try{const o=await this._openDb();return await t(o)}catch(o){if(n++>Rm)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xh()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ca._getInstance(Pm()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Im(),!this.activeServiceWorker)return;this.sender=new Sm(this.activeServiceWorker);const o=await this.sender._send("ping",{},800);o&&!((t=o[0])===null||t===void 0)&&t.fulfilled&&!((n=o[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xm()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _u();return await Jl(t,ga,"1"),await Ql(t,ga),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(o=>Jl(o,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(o=>km(o,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ql(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(c=>{const p=Ia(c,!1).getAll();return new xo(p).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],o=new Set;if(t.length!==0)for(const{fbase_key:c,value:p}of t)o.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(p)&&(this.notifyListeners(c,p),n.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!o.has(c)&&(this.notifyListeners(c,null),n.push(c));return n}notifyListeners(t,n){this.localCache[t]=n;const o=this.listeners[t];if(o)for(const c of Array.from(o))c(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tf.type="LOCAL";const Dm=tf;new Co(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(i,t){return t?Zi(t):(Nt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends Vh{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ws(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ws(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ws(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Bm(i){return _m(i.auth,new Hu(i),i.bypassAuthState)}function Um(i){const{auth:t,user:n}=i;return Nt(n,t,"internal-error"),mm(n,new Hu(i),i.bypassAuthState)}async function zm(i){const{auth:t,user:n}=i;return Nt(n,t,"internal-error"),gm(n,new Hu(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,n,o,c,p=!1){this.auth=t,this.resolver=o,this.user=c,this.bypassAuthState=p,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:o,postBody:c,tenantId:p,error:v,type:A}=t;if(v){this.reject(v);return}const S={auth:this.auth,requestUri:n,sessionId:o,tenantId:p||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(A)(S))}catch(U){this.reject(U)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Bm;case"linkViaPopup":case"linkViaRedirect":return zm;case"reauthViaPopup":case"reauthViaRedirect":return Um;default:Ji(this.auth,"internal-error")}}resolve(t){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=new Co(2e3,1e4);class Fs extends ef{constructor(t,n,o,c,p){super(t,n,c,p),this.provider=o,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Nt(t,this.auth,"internal-error"),t}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const t=zu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,o;if(!((o=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||o===void 0)&&o.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Hm.get())};t()}}Fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="pendingRedirect",ia=new Map;class jm extends ef{constructor(t,n,o=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,o),this.eventId=null}async execute(){let t=ia.get(this.auth._key());if(!t){try{const o=await $m(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(o)}catch(n){t=()=>Promise.reject(n)}ia.set(this.auth._key(),t)}return this.bypassAuthState||ia.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $m(i,t){const n=qm(t),o=Wm(i);if(!await o._isAvailable())return!1;const c=await o._get(n)==="true";return await o._remove(n),c}function Vm(i,t){ia.set(i._key(),t)}function Wm(i){return Zi(i._redirectPersistence)}function qm(i){return na(Fm,i.config.apiKey,i.name)}async function Zm(i,t,n=!1){if(Qn(i.app))return Promise.reject(Rr(i));const o=Sa(i),c=Mm(o,t),v=await new jm(o,c,n).execute();return v&&!n&&(delete v.user._redirectEventId,await o._persistUserIfCurrent(v.user),await o._setRedirectUser(null,t)),v}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=10*60*1e3;class Km{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(t,o)&&(n=!0,this.sendToConsumer(t,o),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ym(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var o;if(t.error&&!nf(t)){const c=((o=t.error.code)===null||o===void 0?void 0:o.split("auth/")[1])||"internal-error";n.onError(Pi(this.auth,c))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const o=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&o}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Gm&&this.cachedEventUids.clear(),this.cachedEventUids.has(tc(t))}saveEventToCache(t){this.cachedEventUids.add(tc(t)),this.lastProcessedEventTime=Date.now()}}function tc(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function nf({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Ym(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nf(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xm(i,t={}){return to(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qm=/^https?/;async function t_(i){if(i.config.emulator)return;const{authorizedDomains:t}=await Xm(i);for(const n of t)try{if(e_(n))return}catch{}Ji(i,"unauthorized-domain")}function e_(i){const t=gu(),{protocol:n,hostname:o}=new URL(t);if(i.startsWith("chrome-extension://")){const v=new URL(i);return v.hostname===""&&o===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&v.hostname===o}if(!Qm.test(n))return!1;if(Jm.test(i))return o===i;const c=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=new Co(3e4,6e4);function ec(){const i=Li().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function i_(i){return new Promise((t,n)=>{var o,c,p;function v(){ec(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ec(),n(Pi(i,"network-request-failed"))},timeout:n_.get()})}if(!((c=(o=Li().gapi)===null||o===void 0?void 0:o.iframes)===null||c===void 0)&&c.Iframe)t(gapi.iframes.getContext());else if(!((p=Li().gapi)===null||p===void 0)&&p.load)v();else{const A=om("iframefcb");return Li()[A]=()=>{gapi.load?v():n(Pi(i,"network-request-failed"))},rm(`${sm()}?onload=${A}`).catch(S=>n(S))}}).catch(t=>{throw ra=null,t})}let ra=null;function r_(i){return ra=ra||i_(i),ra}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=new Co(5e3,15e3),o_="__/auth/iframe",a_="emulator/auth/iframe",u_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c_(i){const t=i.config;Nt(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Du(t,a_):`https://${i.config.authDomain}/${o_}`,o={apiKey:t.apiKey,appName:i.name,v:Es},c=l_.get(i.config.apiHost);c&&(o.eid=c);const p=i._getFrameworks();return p.length&&(o.fw=p.join(",")),`${n}?${So(o).slice(1)}`}async function h_(i){const t=await r_(i),n=Li().gapi;return Nt(n,i,"internal-error"),t.open({where:document.body,url:c_(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u_,dontclear:!0},o=>new Promise(async(c,p)=>{await o.restyle({setHideOnLeave:!1});const v=Pi(i,"network-request-failed"),A=Li().setTimeout(()=>{p(v)},s_.get());function S(){Li().clearTimeout(A),c(o)}o.ping(S).then(S,()=>{p(v)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d_=500,p_=600,g_="_blank",m_="http://localhost";class nc{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function __(i,t,n,o=d_,c=p_){const p=Math.max((window.screen.availHeight-c)/2,0).toString(),v=Math.max((window.screen.availWidth-o)/2,0).toString();let A="";const S=Object.assign(Object.assign({},f_),{width:o.toString(),height:c.toString(),top:p,left:v}),U=fn().toLowerCase();n&&(A=Mh(U)?g_:n),Rh(U)&&(t=t||m_,S.scrollbars="yes");const j=Object.entries(S).reduce((et,[ut,X])=>`${et}${ut}=${X},`,"");if(Yg(U)&&A!=="_self")return v_(t||"",A),new nc(null);const J=window.open(t||"",A,j);Nt(J,i,"popup-blocked");try{J.focus()}catch{}return new nc(J)}function v_(i,t){const n=document.createElement("a");n.href=i,n.target=t;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__/auth/handler",w_="emulator/auth/handler",E_=encodeURIComponent("fac");async function ic(i,t,n,o,c,p){Nt(i.config.authDomain,i,"auth-domain-config-required"),Nt(i.config.apiKey,i,"invalid-api-key");const v={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:o,v:Es,eventId:c};if(t instanceof Wh){t.setDefaultLanguage(i.languageCode),v.providerId=t.providerId||"",yp(t.getCustomParameters())||(v.customParameters=JSON.stringify(t.getCustomParameters()));for(const[j,J]of Object.entries({}))v[j]=J}if(t instanceof Io){const j=t.getScopes().filter(J=>J!=="");j.length>0&&(v.scopes=j.join(","))}i.tenantId&&(v.tid=i.tenantId);const A=v;for(const j of Object.keys(A))A[j]===void 0&&delete A[j];const S=await i._getAppCheckToken(),U=S?`#${E_}=${encodeURIComponent(S)}`:"";return`${b_(i)}?${So(A).slice(1)}${U}`}function b_({config:i}){return i.emulator?Du(i,w_):`https://${i.authDomain}/${y_}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="webStorageSupport";class T_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yh,this._completeRedirectFn=Zm,this._overrideRedirectResult=Vm}async _openPopup(t,n,o,c){var p;Qi((p=this.eventManagers[t._key()])===null||p===void 0?void 0:p.manager,"_initialize() not called before _openPopup()");const v=await ic(t,n,o,gu(),c);return __(t,v,zu())}async _openRedirect(t,n,o,c){await this._originValidation(t);const p=await ic(t,n,o,gu(),c);return Cm(p),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:c,promise:p}=this.eventManagers[n];return c?Promise.resolve(c):(Qi(p,"If manager is not set, promise should be"),p)}const o=this.initAndGetManager(t);return this.eventManagers[n]={promise:o},o.catch(()=>{delete this.eventManagers[n]}),o}async initAndGetManager(t){const n=await h_(t),o=new Km(t);return n.register("authEvent",c=>(Nt(c==null?void 0:c.authEvent,t,"invalid-auth-event"),{status:o.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:o},this.iframes[t._key()]=n,o}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Va,{type:Va},c=>{var p;const v=(p=c==null?void 0:c[0])===null||p===void 0?void 0:p[Va];v!==void 0&&n(!!v),Ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t_(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Fh()||Dh()||Bu()}}const A_=T_;var rc="@firebase/auth",sc="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(o=>{t((o==null?void 0:o.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I_(i){ms(new Dr("auth",(t,{options:n})=>{const o=t.getProvider("app").getImmediate(),c=t.getProvider("heartbeat"),p=t.getProvider("app-check-internal"),{apiKey:v,authDomain:A}=o.options;Nt(v&&!v.includes(":"),"invalid-api-key",{appName:o.name});const S={apiKey:v,authDomain:A,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jh(i)},U=new nm(o,c,p,S);return um(U,n),U},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,o)=>{t.getProvider("auth-internal").initialize()})),ms(new Dr("auth-internal",t=>{const n=Sa(t.getProvider("auth").getImmediate());return(o=>new S_(o))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(rc,sc,C_(i)),xi(rc,sc,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=5*60,P_=vh("authIdTokenMaxAge")||x_;let oc=null;const L_=i=>async t=>{const n=t&&await t.getIdTokenResult(),o=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(o&&o>P_)return;const c=n==null?void 0:n.token;oc!==c&&(oc=c,await fetch(i,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function rf(i=ku()){const t=Ta(i,"auth");if(t.isInitialized())return t.getImmediate();const n=am(i,{popupRedirectResolver:A_,persistence:[Dm,Tm,Yh]}),o=vh("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const p=new URL(o,location.origin);if(location.origin===p.origin){const v=L_(p.toString());ym(n,v,()=>v(n.currentUser)),vm(n,A=>v(A))}}const c=gh("auth");return c&&lm(n,`http://${c}`),n}function O_(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}im({loadJS(i){return new Promise((t,n)=>{const o=document.createElement("script");o.setAttribute("src",i),o.onload=t,o.onerror=c=>{const p=Pi("internal-error");p.customData=c,n(p)},o.type="text/javascript",o.charset="UTF-8",O_().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I_("Browser");const k_={apiKey:"AIzaSyAuBdnuHEz8gOV5-EOrRtLuJ0vlieToJuQ",authDomain:"cleanup-sicily-test.firebaseapp.com",projectId:"cleanup-sicily-test",storageBucket:"cleanup-sicily-test.firebasestorage.app",messagingSenderId:"328480662075",appId:"1:328480662075:web:015be50a66d2f0aff2721e"},Fu=bh(k_),sf=rf();pm(sf).then(()=>{console.log("Signed in anonymously")}).catch(i=>{console.error("Anonymous sign-in failed",i)});wm(sf,i=>{i&&console.log("Authenticated as UID:",i.uid)});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="firebasestorage.googleapis.com",af="storageBucket",N_=2*60*1e3,R_=10*60*1e3,D_=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e extends Ri{constructor(t,n,o=0){super(Wa(t),`Firebase Storage: ${n} (${Wa(t)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_e.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Wa(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pe;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pe||(pe={}));function Wa(i){return"storage/"+i}function ju(){const i="An unknown error occurred, please check the error payload for server response.";return new _e(pe.UNKNOWN,i)}function M_(i){return new _e(pe.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function B_(i){return new _e(pe.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function U_(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _e(pe.UNAUTHENTICATED,i)}function z_(){return new _e(pe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function H_(i){return new _e(pe.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function uf(){return new _e(pe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lf(){return new _e(pe.CANCELED,"User canceled the upload/download.")}function F_(i){return new _e(pe.INVALID_URL,"Invalid URL '"+i+"'.")}function j_(i){return new _e(pe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function $_(){return new _e(pe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+af+"' property when initializing the app?")}function cf(){return new _e(pe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function V_(){return new _e(pe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function W_(){return new _e(pe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function q_(i){return new _e(pe.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vu(i){return new _e(pe.INVALID_ARGUMENT,i)}function hf(){return new _e(pe.APP_DELETED,"The Firebase app was deleted.")}function Z_(i){return new _e(pe.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _o(i,t){return new _e(pe.INVALID_FORMAT,"String does not match format '"+i+"': "+t)}function ho(i){throw new _e(pe.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let o;try{o=Hn.makeFromUrl(t,n)}catch{return new Hn(t,"")}if(o.path==="")return o;throw j_(t)}static makeFromUrl(t,n){let o=null;const c="([A-Za-z0-9.\\-_]+)";function p(ct){ct.path.charAt(ct.path.length-1)==="/"&&(ct.path_=ct.path_.slice(0,-1))}const v="(/(.*))?$",A=new RegExp("^gs://"+c+v,"i"),S={bucket:1,path:3};function U(ct){ct.path_=decodeURIComponent(ct.path)}const j="v[A-Za-z0-9_]+",J=n.replace(/[.]/g,"\\."),et="(/([^?#]*).*)?$",ut=new RegExp(`^https?://${J}/${j}/b/${c}/o${et}`,"i"),X={bucket:1,path:3},Y=n===of?"(?:storage.googleapis.com|storage.cloud.google.com)":n,at="([^?#]*)",ot=new RegExp(`^https?://${Y}/${c}/${at}`,"i"),dt=[{regex:A,indices:S,postModify:p},{regex:ut,indices:X,postModify:U},{regex:ot,indices:{bucket:1,path:2},postModify:U}];for(let ct=0;ct<dt.length;ct++){const St=dt[ct],wt=St.regex.exec(t);if(wt){const h=wt[St.indices.bucket];let O=wt[St.indices.path];O||(O=""),o=new Hn(h,O),St.postModify(o);break}}if(o==null)throw F_(t);return o}}class G_{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(i,t,n){let o=1,c=null,p=null,v=!1,A=0;function S(){return A===2}let U=!1;function j(...at){U||(U=!0,t.apply(null,at))}function J(at){c=setTimeout(()=>{c=null,i(ut,S())},at)}function et(){p&&clearTimeout(p)}function ut(at,...ot){if(U){et();return}if(at){et(),j.call(null,at,...ot);return}if(S()||v){et(),j.call(null,at,...ot);return}o<64&&(o*=2);let dt;A===1?(A=2,dt=0):dt=(o+Math.random())*1e3,J(dt)}let X=!1;function Y(at){X||(X=!0,et(),!U&&(c!==null?(at||(A=2),clearTimeout(c),J(0)):at||(A=1)))}return J(0),p=setTimeout(()=>{v=!0,Y(!0)},n),Y}function Y_(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(i){return i!==void 0}function J_(i){return typeof i=="function"}function Q_(i){return typeof i=="object"&&!Array.isArray(i)}function xa(i){return typeof i=="string"||i instanceof String}function ac(i){return $u()&&i instanceof Blob}function $u(){return typeof Blob<"u"}function uc(i,t,n,o){if(o<t)throw vu(`Invalid value for '${i}'. Expected ${t} or greater.`);if(o>n)throw vu(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(i,t,n){let o=t;return n==null&&(o=`https://${t}`),`${n}://${o}/v0${i}`}function ff(i){const t=encodeURIComponent;let n="?";for(const o in i)if(i.hasOwnProperty(o)){const c=t(o)+"="+t(i[o]);n=n+c+"&"}return n=n.slice(0,-1),n}var ds;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ds||(ds={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(i,t){const n=i>=500&&i<600,c=[408,429].indexOf(i)!==-1,p=t.indexOf(i)!==-1;return n||c||p}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(t,n,o,c,p,v,A,S,U,j,J,et=!0){this.url_=t,this.method_=n,this.headers_=o,this.body_=c,this.successCodes_=p,this.additionalRetryCodes_=v,this.callback_=A,this.errorCallback_=S,this.timeout_=U,this.progressCallback_=j,this.connectionFactory_=J,this.retry=et,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ut,X)=>{this.resolve_=ut,this.reject_=X,this.start_()})}start_(){const t=(o,c)=>{if(c){o(!1,new jo(!1,null,!0));return}const p=this.connectionFactory_();this.pendingConnection_=p;const v=A=>{const S=A.loaded,U=A.lengthComputable?A.total:-1;this.progressCallback_!==null&&this.progressCallback_(S,U)};this.progressCallback_!==null&&p.addUploadProgressListener(v),p.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&p.removeUploadProgressListener(v),this.pendingConnection_=null;const A=p.getErrorCode()===ds.NO_ERROR,S=p.getStatus();if(!A||df(S,this.additionalRetryCodes_)&&this.retry){const j=p.getErrorCode()===ds.ABORT;o(!1,new jo(!1,null,j));return}const U=this.successCodes_.indexOf(S)!==-1;o(!0,new jo(U,p))})},n=(o,c)=>{const p=this.resolve_,v=this.reject_,A=c.connection;if(c.wasSuccessCode)try{const S=this.callback_(A,A.getResponse());X_(S)?p(S):p()}catch(S){v(S)}else if(A!==null){const S=ju();S.serverResponse=A.getErrorText(),this.errorCallback_?v(this.errorCallback_(A,S)):v(S)}else if(c.canceled){const S=this.appDelete_?hf():lf();v(S)}else{const S=uf();v(S)}};this.canceled_?n(!1,new jo(!1,null,!0)):this.backoffId_=K_(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Y_(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jo{constructor(t,n,o){this.wasSuccessCode=t,this.connection=n,this.canceled=!!o}}function ev(i,t){t!==null&&t.length>0&&(i.Authorization="Firebase "+t)}function nv(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function iv(i,t){t&&(i["X-Firebase-GMPID"]=t)}function rv(i,t){t!==null&&(i["X-Firebase-AppCheck"]=t)}function sv(i,t,n,o,c,p,v=!0){const A=ff(i.urlParams),S=i.url+A,U=Object.assign({},i.headers);return iv(U,t),ev(U,n),nv(U,p),rv(U,o),new tv(S,i.method,U,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,c,v)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function av(...i){const t=ov();if(t!==void 0){const n=new t;for(let o=0;o<i.length;o++)n.append(i[o]);return n.getBlob()}else{if($u())return new Blob(i);throw new _e(pe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uv(i,t,n){return i.webkitSlice?i.webkitSlice(t,n):i.mozSlice?i.mozSlice(t,n):i.slice?i.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(i){if(typeof atob>"u")throw q_("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qa{constructor(t,n){this.data=t,this.contentType=n||null}}function cv(i,t){switch(i){case Ii.RAW:return new qa(pf(t));case Ii.BASE64:case Ii.BASE64URL:return new qa(gf(i,t));case Ii.DATA_URL:return new qa(fv(t),dv(t))}throw ju()}function pf(i){const t=[];for(let n=0;n<i.length;n++){let o=i.charCodeAt(n);if(o<=127)t.push(o);else if(o<=2047)t.push(192|o>>6,128|o&63);else if((o&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const p=o,v=i.charCodeAt(++n);o=65536|(p&1023)<<10|v&1023,t.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63)}else(o&64512)===56320?t.push(239,191,189):t.push(224|o>>12,128|o>>6&63,128|o&63)}return new Uint8Array(t)}function hv(i){let t;try{t=decodeURIComponent(i)}catch{throw _o(Ii.DATA_URL,"Malformed data URL.")}return pf(t)}function gf(i,t){switch(i){case Ii.BASE64:{const c=t.indexOf("-")!==-1,p=t.indexOf("_")!==-1;if(c||p)throw _o(i,"Invalid character '"+(c?"-":"_")+"' found: is it base64url encoded?");break}case Ii.BASE64URL:{const c=t.indexOf("+")!==-1,p=t.indexOf("/")!==-1;if(c||p)throw _o(i,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=lv(t)}catch(c){throw c.message.includes("polyfill")?c:_o(i,"Invalid character found")}const o=new Uint8Array(n.length);for(let c=0;c<n.length;c++)o[c]=n.charCodeAt(c);return o}class mf{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw _o(Ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=n[1]||null;o!=null&&(this.base64=pv(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=t.substring(t.indexOf(",")+1)}}function fv(i){const t=new mf(i);return t.base64?gf(Ii.BASE64,t.rest):hv(t.rest)}function dv(i){return new mf(i).contentType}function pv(i,t){return i.length>=t.length?i.substring(i.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,n){let o=0,c="";ac(t)?(this.data_=t,o=t.size,c=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),o=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),o=t.length),this.size_=o,this.type_=c}size(){return this.size_}type(){return this.type_}slice(t,n){if(ac(this.data_)){const o=this.data_,c=uv(o,t,n);return c===null?null:new xr(c)}else{const o=new Uint8Array(this.data_.buffer,t,n-t);return new xr(o,!0)}}static getBlob(...t){if($u()){const n=t.map(o=>o instanceof xr?o.data_:o);return new xr(av.apply(null,n))}else{const n=t.map(v=>xa(v)?cv(Ii.RAW,v).data:v.data_);let o=0;n.forEach(v=>{o+=v.byteLength});const c=new Uint8Array(o);let p=0;return n.forEach(v=>{for(let A=0;A<v.length;A++)c[p++]=v[A]}),new xr(c,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(i){let t;try{t=JSON.parse(i)}catch{return null}return Q_(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(i){if(i.length===0)return null;const t=i.lastIndexOf("/");return t===-1?"":i.slice(0,t)}function mv(i,t){const n=t.split("/").filter(o=>o.length>0).join("/");return i.length===0?n:i+"/"+n}function vf(i){const t=i.lastIndexOf("/",i.length-2);return t===-1?i:i.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(i,t){return t}class un{constructor(t,n,o,c){this.server=t,this.local=n||t,this.writable=!!o,this.xform=c||_v}}let $o=null;function vv(i){return!xa(i)||i.length<2?i:vf(i)}function yf(){if($o)return $o;const i=[];i.push(new un("bucket")),i.push(new un("generation")),i.push(new un("metageneration")),i.push(new un("name","fullPath",!0));function t(p,v){return vv(v)}const n=new un("name");n.xform=t,i.push(n);function o(p,v){return v!==void 0?Number(v):v}const c=new un("size");return c.xform=o,i.push(c),i.push(new un("timeCreated")),i.push(new un("updated")),i.push(new un("md5Hash",null,!0)),i.push(new un("cacheControl",null,!0)),i.push(new un("contentDisposition",null,!0)),i.push(new un("contentEncoding",null,!0)),i.push(new un("contentLanguage",null,!0)),i.push(new un("contentType",null,!0)),i.push(new un("metadata","customMetadata",!0)),$o=i,$o}function yv(i,t){function n(){const o=i.bucket,c=i.fullPath,p=new Hn(o,c);return t._makeStorageReference(p)}Object.defineProperty(i,"ref",{get:n})}function wv(i,t,n){const o={};o.type="file";const c=n.length;for(let p=0;p<c;p++){const v=n[p];o[v.local]=v.xform(o,t[v.server])}return yv(o,i),o}function wf(i,t,n){const o=_f(t);return o===null?null:wv(i,o,n)}function Ev(i,t,n,o){const c=_f(t);if(c===null||!xa(c.downloadTokens))return null;const p=c.downloadTokens;if(p.length===0)return null;const v=encodeURIComponent;return p.split(",").map(U=>{const j=i.bucket,J=i.fullPath,et="/b/"+v(j)+"/o/"+v(J),ut=eo(et,n,o),X=ff({alt:"media",token:U});return ut+X})[0]}function Ef(i,t){const n={},o=t.length;for(let c=0;c<o;c++){const p=t[c];p.writable&&(n[p.server]=i[p.local])}return JSON.stringify(n)}class bs{constructor(t,n,o,c){this.url=t,this.method=n,this.handler=o,this.timeout=c,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(i){if(!i)throw ju()}function Vu(i,t){function n(o,c){const p=wf(i,c,t);return Gi(p!==null),p}return n}function bv(i,t){function n(o,c){const p=wf(i,c,t);return Gi(p!==null),Ev(p,c,i.host,i._protocol)}return n}function Po(i){function t(n,o){let c;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?c=z_():c=U_():n.getStatus()===402?c=B_(i.bucket):n.getStatus()===403?c=H_(i.path):c=o,c.status=n.getStatus(),c.serverResponse=o.serverResponse,c}return t}function Wu(i){const t=Po(i);function n(o,c){let p=t(o,c);return o.getStatus()===404&&(p=M_(i.path)),p.serverResponse=c.serverResponse,p}return n}function Tv(i,t,n){const o=t.fullServerUrl(),c=eo(o,i.host,i._protocol),p="GET",v=i.maxOperationRetryTime,A=new bs(c,p,Vu(i,n),v);return A.errorHandler=Wu(t),A}function Av(i,t,n){const o=t.fullServerUrl(),c=eo(o,i.host,i._protocol),p="GET",v=i.maxOperationRetryTime,A=new bs(c,p,bv(i,n),v);return A.errorHandler=Wu(t),A}function Sv(i,t){const n=t.fullServerUrl(),o=eo(n,i.host,i._protocol),c="DELETE",p=i.maxOperationRetryTime;function v(S,U){}const A=new bs(o,c,v,p);return A.successCodes=[200,204],A.errorHandler=Wu(t),A}function Cv(i,t){return i&&i.contentType||t&&t.type()||"application/octet-stream"}function bf(i,t,n){const o=Object.assign({},n);return o.fullPath=i.path,o.size=t.size(),o.contentType||(o.contentType=Cv(null,t)),o}function Iv(i,t,n,o,c){const p=t.bucketOnlyServerUrl(),v={"X-Goog-Upload-Protocol":"multipart"};function A(){let dt="";for(let ct=0;ct<2;ct++)dt=dt+Math.random().toString().slice(2);return dt}const S=A();v["Content-Type"]="multipart/related; boundary="+S;const U=bf(t,o,c),j=Ef(U,n),J="--"+S+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+j+`\r
--`+S+`\r
Content-Type: `+U.contentType+`\r
\r
`,et=`\r
--`+S+"--",ut=xr.getBlob(J,o,et);if(ut===null)throw cf();const X={name:U.fullPath},Y=eo(p,i.host,i._protocol),at="POST",ot=i.maxUploadRetryTime,It=new bs(Y,at,Vu(i,n),ot);return It.urlParams=X,It.headers=v,It.body=ut.uploadData(),It.errorHandler=Po(t),It}class _a{constructor(t,n,o,c){this.current=t,this.total=n,this.finalized=!!o,this.metadata=c||null}}function qu(i,t){let n=null;try{n=i.getResponseHeader("X-Goog-Upload-Status")}catch{Gi(!1)}return Gi(!!n&&(t||["active"]).indexOf(n)!==-1),n}function xv(i,t,n,o,c){const p=t.bucketOnlyServerUrl(),v=bf(t,o,c),A={name:v.fullPath},S=eo(p,i.host,i._protocol),U="POST",j={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o.size()}`,"X-Goog-Upload-Header-Content-Type":v.contentType,"Content-Type":"application/json; charset=utf-8"},J=Ef(v,n),et=i.maxUploadRetryTime;function ut(Y){qu(Y);let at;try{at=Y.getResponseHeader("X-Goog-Upload-URL")}catch{Gi(!1)}return Gi(xa(at)),at}const X=new bs(S,U,ut,et);return X.urlParams=A,X.headers=j,X.body=J,X.errorHandler=Po(t),X}function Pv(i,t,n,o){const c={"X-Goog-Upload-Command":"query"};function p(U){const j=qu(U,["active","final"]);let J=null;try{J=U.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Gi(!1)}J||Gi(!1);const et=Number(J);return Gi(!isNaN(et)),new _a(et,o.size(),j==="final")}const v="POST",A=i.maxUploadRetryTime,S=new bs(n,v,p,A);return S.headers=c,S.errorHandler=Po(t),S}const lc=256*1024;function Lv(i,t,n,o,c,p,v,A){const S=new _a(0,0);if(v?(S.current=v.current,S.total=v.total):(S.current=0,S.total=o.size()),o.size()!==S.total)throw V_();const U=S.total-S.current;let j=U;c>0&&(j=Math.min(j,c));const J=S.current,et=J+j;let ut="";j===0?ut="finalize":U===j?ut="upload, finalize":ut="upload";const X={"X-Goog-Upload-Command":ut,"X-Goog-Upload-Offset":`${S.current}`},Y=o.slice(J,et);if(Y===null)throw cf();function at(ct,St){const wt=qu(ct,["active","final"]),h=S.current+j,O=o.size();let x;return wt==="final"?x=Vu(t,p)(ct,St):x=null,new _a(h,O,wt==="final",x)}const ot="POST",It=t.maxUploadRetryTime,dt=new bs(n,ot,at,It);return dt.headers=X,dt.body=Y.uploadData(),dt.progressCallback=A||null,dt.errorHandler=Po(i),dt}const bn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Za(i){switch(i){case"running":case"pausing":case"canceling":return bn.RUNNING;case"paused":return bn.PAUSED;case"success":return bn.SUCCESS;case"canceled":return bn.CANCELED;case"error":return bn.ERROR;default:return bn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t,n,o){if(J_(t)||n!=null||o!=null)this.next=t,this.error=n??void 0,this.complete=o??void 0;else{const p=t;this.next=p.next,this.error=p.error,this.complete=p.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(i){return(...t)=>{Promise.resolve().then(()=>i(...t))}}class kv{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ds.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ds.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ds.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,o,c){if(this.sent_)throw ho("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),c!==void 0)for(const p in c)c.hasOwnProperty(p)&&this.xhr_.setRequestHeader(p,c[p].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ho("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ho("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ho("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ho("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Nv extends kv{initXhr(){this.xhr_.responseType="text"}}function cs(){return new Nv}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(t,n,o=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=o,this._mappings=yf(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=c=>{if(this._request=void 0,this._chunkMultiplier=1,c._codeEquals(pe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const p=this.isExponentialBackoffExpired();if(df(c.status,[]))if(p)c=uf();else{this.sleepTime=Math.max(this.sleepTime*2,D_),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=c,this._transition("error")}},this._metadataErrorHandler=c=>{this._request=void 0,c._codeEquals(pe.CANCELED)?this.completeTransitions_():(this._error=c,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((c,p)=>{this._resolve=c,this._reject=p,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return n=>this._updateProgress(t+n)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,o])=>{switch(this._state){case"running":t(n,o);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,n)=>{const o=xv(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),c=this._ref.storage._makeRequest(o,cs,t,n);this._request=c,c.getPromise().then(p=>{this._request=void 0,this._uploadUrl=p,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((n,o)=>{const c=Pv(this._ref.storage,this._ref._location,t,this._blob),p=this._ref.storage._makeRequest(c,cs,n,o);this._request=p,p.getPromise().then(v=>{v=v,this._request=void 0,this._updateProgress(v.current),this._needToFetchStatus=!1,v.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=lc*this._chunkMultiplier,n=new _a(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken((c,p)=>{let v;try{v=Lv(this._ref._location,this._ref.storage,o,this._blob,t,this._mappings,n,this._makeProgressCallback())}catch(S){this._error=S,this._transition("error");return}const A=this._ref.storage._makeRequest(v,cs,c,p,!1);this._request=A,A.getPromise().then(S=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(S.current),S.finalized?(this._metadata=S.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){lc*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,n)=>{const o=Tv(this._ref.storage,this._ref._location,this._mappings),c=this._ref.storage._makeRequest(o,cs,t,n);this._request=c,c.getPromise().then(p=>{this._request=void 0,this._metadata=p,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,n)=>{const o=Iv(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),c=this._ref.storage._makeRequest(o,cs,t,n);this._request=c,c.getPromise().then(p=>{this._request=void 0,this._metadata=p,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=lf(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=Za(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,n,o,c){const p=new Ov(n||void 0,o||void 0,c||void 0);return this._addObserver(p),()=>{this._removeObserver(p)}}then(t,n){return this._promise.then(t,n)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(Za(this._state)){case bn.SUCCESS:Ds(this._resolve.bind(null,this.snapshot))();break;case bn.CANCELED:case bn.ERROR:const n=this._reject;Ds(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Za(this._state)){case bn.RUNNING:case bn.PAUSED:t.next&&Ds(t.next.bind(t,this.snapshot))();break;case bn.SUCCESS:t.complete&&Ds(t.complete.bind(t))();break;case bn.CANCELED:case bn.ERROR:t.error&&Ds(t.error.bind(t,this._error))();break;default:t.error&&Ds(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,n){this._service=t,n instanceof Hn?this._location=n:this._location=Hn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new vs(t,n)}get root(){const t=new Hn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vf(this._location.path)}get storage(){return this._service}get parent(){const t=gv(this._location.path);if(t===null)return null;const n=new Hn(this._location.bucket,t);return new vs(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Z_(t)}}function Dv(i,t,n){return i._throwIfRoot("uploadBytesResumable"),new Rv(i,new xr(t),n)}function Mv(i){i._throwIfRoot("getDownloadURL");const t=Av(i.storage,i._location,yf());return i.storage.makeRequestWithTokens(t,cs).then(n=>{if(n===null)throw W_();return n})}function Bv(i){i._throwIfRoot("deleteObject");const t=Sv(i.storage,i._location);return i.storage.makeRequestWithTokens(t,cs)}function Uv(i,t){const n=mv(i._location.path,t),o=new Hn(i._location.bucket,n);return new vs(i.storage,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(i){return/^[A-Za-z]+:\/\//.test(i)}function Hv(i,t){return new vs(i,t)}function Tf(i,t){if(i instanceof Zu){const n=i;if(n._bucket==null)throw $_();const o=new vs(n,n._bucket);return t!=null?Tf(o,t):o}else return t!==void 0?Uv(i,t):i}function Fv(i,t){if(t&&zv(t)){if(i instanceof Zu)return Hv(i,t);throw vu("To use ref(service, url), the first argument must be a Storage instance.")}else return Tf(i,t)}function cc(i,t){const n=t==null?void 0:t[af];return n==null?null:Hn.makeFromBucketSpec(n,i)}function jv(i,t,n,o={}){i.host=`${t}:${n}`,i._protocol="http";const{mockUserToken:c}=o;c&&(i._overrideAuthToken=typeof c=="string"?c:yh(c,i.app.options.projectId))}class Zu{constructor(t,n,o,c,p){this.app=t,this._authProvider=n,this._appCheckProvider=o,this._url=c,this._firebaseVersion=p,this._bucket=null,this._host=of,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=N_,this._maxUploadRetryTime=R_,this._requests=new Set,c!=null?this._bucket=Hn.makeFromBucketSpec(c,this._host):this._bucket=cc(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,t):this._bucket=cc(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){uc("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){uc("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new vs(this,t)}_makeRequest(t,n,o,c,p=!0){if(this._deleted)return new G_(hf());{const v=sv(t,this._appId,o,c,n,this._firebaseVersion,p);return this._requests.add(v),v.getPromise().then(()=>this._requests.delete(v),()=>this._requests.delete(v)),v}}async makeRequestWithTokens(t,n){const[o,c]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,o,c).getPromise()}}const hc="@firebase/storage",fc="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="storage";function $v(i,t,n){return i=ii(i),Dv(i,t,n)}function Vv(i){return i=ii(i),Mv(i)}function Wv(i){return i=ii(i),Bv(i)}function qv(i,t){return i=ii(i),Fv(i,t)}function Zv(i=ku(),t){i=ii(i);const o=Ta(i,Af).getImmediate({identifier:t}),c=mh("storage");return c&&Gv(o,...c),o}function Gv(i,t,n,o={}){jv(i,t,n,o)}function Kv(i,{instanceIdentifier:t}){const n=i.getProvider("app").getImmediate(),o=i.getProvider("auth-internal"),c=i.getProvider("app-check-internal");return new Zu(n,o,c,t,Es)}function Yv(){ms(new Dr(Af,Kv,"PUBLIC").setMultipleInstances(!0)),xi(hc,fc,""),xi(hc,fc,"esm2017")}Yv();var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sf;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(h,O){function x(){}x.prototype=O.prototype,h.D=O.prototype,h.prototype=new x,h.prototype.constructor=h,h.C=function(M,D,H){for(var P=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)P[Yt-2]=arguments[Yt];return O.prototype[D].apply(M,P)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(o,n),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(h,O,x){x||(x=0);var M=Array(16);if(typeof O=="string")for(var D=0;16>D;++D)M[D]=O.charCodeAt(x++)|O.charCodeAt(x++)<<8|O.charCodeAt(x++)<<16|O.charCodeAt(x++)<<24;else for(D=0;16>D;++D)M[D]=O[x++]|O[x++]<<8|O[x++]<<16|O[x++]<<24;O=h.g[0],x=h.g[1],D=h.g[2];var H=h.g[3],P=O+(H^x&(D^H))+M[0]+3614090360&4294967295;O=x+(P<<7&4294967295|P>>>25),P=H+(D^O&(x^D))+M[1]+3905402710&4294967295,H=O+(P<<12&4294967295|P>>>20),P=D+(x^H&(O^x))+M[2]+606105819&4294967295,D=H+(P<<17&4294967295|P>>>15),P=x+(O^D&(H^O))+M[3]+3250441966&4294967295,x=D+(P<<22&4294967295|P>>>10),P=O+(H^x&(D^H))+M[4]+4118548399&4294967295,O=x+(P<<7&4294967295|P>>>25),P=H+(D^O&(x^D))+M[5]+1200080426&4294967295,H=O+(P<<12&4294967295|P>>>20),P=D+(x^H&(O^x))+M[6]+2821735955&4294967295,D=H+(P<<17&4294967295|P>>>15),P=x+(O^D&(H^O))+M[7]+4249261313&4294967295,x=D+(P<<22&4294967295|P>>>10),P=O+(H^x&(D^H))+M[8]+1770035416&4294967295,O=x+(P<<7&4294967295|P>>>25),P=H+(D^O&(x^D))+M[9]+2336552879&4294967295,H=O+(P<<12&4294967295|P>>>20),P=D+(x^H&(O^x))+M[10]+4294925233&4294967295,D=H+(P<<17&4294967295|P>>>15),P=x+(O^D&(H^O))+M[11]+2304563134&4294967295,x=D+(P<<22&4294967295|P>>>10),P=O+(H^x&(D^H))+M[12]+1804603682&4294967295,O=x+(P<<7&4294967295|P>>>25),P=H+(D^O&(x^D))+M[13]+4254626195&4294967295,H=O+(P<<12&4294967295|P>>>20),P=D+(x^H&(O^x))+M[14]+2792965006&4294967295,D=H+(P<<17&4294967295|P>>>15),P=x+(O^D&(H^O))+M[15]+1236535329&4294967295,x=D+(P<<22&4294967295|P>>>10),P=O+(D^H&(x^D))+M[1]+4129170786&4294967295,O=x+(P<<5&4294967295|P>>>27),P=H+(x^D&(O^x))+M[6]+3225465664&4294967295,H=O+(P<<9&4294967295|P>>>23),P=D+(O^x&(H^O))+M[11]+643717713&4294967295,D=H+(P<<14&4294967295|P>>>18),P=x+(H^O&(D^H))+M[0]+3921069994&4294967295,x=D+(P<<20&4294967295|P>>>12),P=O+(D^H&(x^D))+M[5]+3593408605&4294967295,O=x+(P<<5&4294967295|P>>>27),P=H+(x^D&(O^x))+M[10]+38016083&4294967295,H=O+(P<<9&4294967295|P>>>23),P=D+(O^x&(H^O))+M[15]+3634488961&4294967295,D=H+(P<<14&4294967295|P>>>18),P=x+(H^O&(D^H))+M[4]+3889429448&4294967295,x=D+(P<<20&4294967295|P>>>12),P=O+(D^H&(x^D))+M[9]+568446438&4294967295,O=x+(P<<5&4294967295|P>>>27),P=H+(x^D&(O^x))+M[14]+3275163606&4294967295,H=O+(P<<9&4294967295|P>>>23),P=D+(O^x&(H^O))+M[3]+4107603335&4294967295,D=H+(P<<14&4294967295|P>>>18),P=x+(H^O&(D^H))+M[8]+1163531501&4294967295,x=D+(P<<20&4294967295|P>>>12),P=O+(D^H&(x^D))+M[13]+2850285829&4294967295,O=x+(P<<5&4294967295|P>>>27),P=H+(x^D&(O^x))+M[2]+4243563512&4294967295,H=O+(P<<9&4294967295|P>>>23),P=D+(O^x&(H^O))+M[7]+1735328473&4294967295,D=H+(P<<14&4294967295|P>>>18),P=x+(H^O&(D^H))+M[12]+2368359562&4294967295,x=D+(P<<20&4294967295|P>>>12),P=O+(x^D^H)+M[5]+4294588738&4294967295,O=x+(P<<4&4294967295|P>>>28),P=H+(O^x^D)+M[8]+2272392833&4294967295,H=O+(P<<11&4294967295|P>>>21),P=D+(H^O^x)+M[11]+1839030562&4294967295,D=H+(P<<16&4294967295|P>>>16),P=x+(D^H^O)+M[14]+4259657740&4294967295,x=D+(P<<23&4294967295|P>>>9),P=O+(x^D^H)+M[1]+2763975236&4294967295,O=x+(P<<4&4294967295|P>>>28),P=H+(O^x^D)+M[4]+1272893353&4294967295,H=O+(P<<11&4294967295|P>>>21),P=D+(H^O^x)+M[7]+4139469664&4294967295,D=H+(P<<16&4294967295|P>>>16),P=x+(D^H^O)+M[10]+3200236656&4294967295,x=D+(P<<23&4294967295|P>>>9),P=O+(x^D^H)+M[13]+681279174&4294967295,O=x+(P<<4&4294967295|P>>>28),P=H+(O^x^D)+M[0]+3936430074&4294967295,H=O+(P<<11&4294967295|P>>>21),P=D+(H^O^x)+M[3]+3572445317&4294967295,D=H+(P<<16&4294967295|P>>>16),P=x+(D^H^O)+M[6]+76029189&4294967295,x=D+(P<<23&4294967295|P>>>9),P=O+(x^D^H)+M[9]+3654602809&4294967295,O=x+(P<<4&4294967295|P>>>28),P=H+(O^x^D)+M[12]+3873151461&4294967295,H=O+(P<<11&4294967295|P>>>21),P=D+(H^O^x)+M[15]+530742520&4294967295,D=H+(P<<16&4294967295|P>>>16),P=x+(D^H^O)+M[2]+3299628645&4294967295,x=D+(P<<23&4294967295|P>>>9),P=O+(D^(x|~H))+M[0]+4096336452&4294967295,O=x+(P<<6&4294967295|P>>>26),P=H+(x^(O|~D))+M[7]+1126891415&4294967295,H=O+(P<<10&4294967295|P>>>22),P=D+(O^(H|~x))+M[14]+2878612391&4294967295,D=H+(P<<15&4294967295|P>>>17),P=x+(H^(D|~O))+M[5]+4237533241&4294967295,x=D+(P<<21&4294967295|P>>>11),P=O+(D^(x|~H))+M[12]+1700485571&4294967295,O=x+(P<<6&4294967295|P>>>26),P=H+(x^(O|~D))+M[3]+2399980690&4294967295,H=O+(P<<10&4294967295|P>>>22),P=D+(O^(H|~x))+M[10]+4293915773&4294967295,D=H+(P<<15&4294967295|P>>>17),P=x+(H^(D|~O))+M[1]+2240044497&4294967295,x=D+(P<<21&4294967295|P>>>11),P=O+(D^(x|~H))+M[8]+1873313359&4294967295,O=x+(P<<6&4294967295|P>>>26),P=H+(x^(O|~D))+M[15]+4264355552&4294967295,H=O+(P<<10&4294967295|P>>>22),P=D+(O^(H|~x))+M[6]+2734768916&4294967295,D=H+(P<<15&4294967295|P>>>17),P=x+(H^(D|~O))+M[13]+1309151649&4294967295,x=D+(P<<21&4294967295|P>>>11),P=O+(D^(x|~H))+M[4]+4149444226&4294967295,O=x+(P<<6&4294967295|P>>>26),P=H+(x^(O|~D))+M[11]+3174756917&4294967295,H=O+(P<<10&4294967295|P>>>22),P=D+(O^(H|~x))+M[2]+718787259&4294967295,D=H+(P<<15&4294967295|P>>>17),P=x+(H^(D|~O))+M[9]+3951481745&4294967295,h.g[0]=h.g[0]+O&4294967295,h.g[1]=h.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,h.g[2]=h.g[2]+D&4294967295,h.g[3]=h.g[3]+H&4294967295}o.prototype.u=function(h,O){O===void 0&&(O=h.length);for(var x=O-this.blockSize,M=this.B,D=this.h,H=0;H<O;){if(D==0)for(;H<=x;)c(this,h,H),H+=this.blockSize;if(typeof h=="string"){for(;H<O;)if(M[D++]=h.charCodeAt(H++),D==this.blockSize){c(this,M),D=0;break}}else for(;H<O;)if(M[D++]=h[H++],D==this.blockSize){c(this,M),D=0;break}}this.h=D,this.o+=O},o.prototype.v=function(){var h=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);h[0]=128;for(var O=1;O<h.length-8;++O)h[O]=0;var x=8*this.o;for(O=h.length-8;O<h.length;++O)h[O]=x&255,x/=256;for(this.u(h),h=Array(16),O=x=0;4>O;++O)for(var M=0;32>M;M+=8)h[x++]=this.g[O]>>>M&255;return h};function p(h,O){var x=A;return Object.prototype.hasOwnProperty.call(x,h)?x[h]:x[h]=O(h)}function v(h,O){this.h=O;for(var x=[],M=!0,D=h.length-1;0<=D;D--){var H=h[D]|0;M&&H==O||(x[D]=H,M=!1)}this.g=x}var A={};function S(h){return-128<=h&&128>h?p(h,function(O){return new v([O|0],0>O?-1:0)}):new v([h|0],0>h?-1:0)}function U(h){if(isNaN(h)||!isFinite(h))return J;if(0>h)return at(U(-h));for(var O=[],x=1,M=0;h>=x;M++)O[M]=h/x|0,x*=4294967296;return new v(O,0)}function j(h,O){if(h.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(h.charAt(0)=="-")return at(j(h.substring(1),O));if(0<=h.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=U(Math.pow(O,8)),M=J,D=0;D<h.length;D+=8){var H=Math.min(8,h.length-D),P=parseInt(h.substring(D,D+H),O);8>H?(H=U(Math.pow(O,H)),M=M.j(H).add(U(P))):(M=M.j(x),M=M.add(U(P)))}return M}var J=S(0),et=S(1),ut=S(16777216);i=v.prototype,i.m=function(){if(Y(this))return-at(this).m();for(var h=0,O=1,x=0;x<this.g.length;x++){var M=this.i(x);h+=(0<=M?M:4294967296+M)*O,O*=4294967296}return h},i.toString=function(h){if(h=h||10,2>h||36<h)throw Error("radix out of range: "+h);if(X(this))return"0";if(Y(this))return"-"+at(this).toString(h);for(var O=U(Math.pow(h,6)),x=this,M="";;){var D=ct(x,O).g;x=ot(x,D.j(O));var H=((0<x.g.length?x.g[0]:x.h)>>>0).toString(h);if(x=D,X(x))return H+M;for(;6>H.length;)H="0"+H;M=H+M}},i.i=function(h){return 0>h?0:h<this.g.length?this.g[h]:this.h};function X(h){if(h.h!=0)return!1;for(var O=0;O<h.g.length;O++)if(h.g[O]!=0)return!1;return!0}function Y(h){return h.h==-1}i.l=function(h){return h=ot(this,h),Y(h)?-1:X(h)?0:1};function at(h){for(var O=h.g.length,x=[],M=0;M<O;M++)x[M]=~h.g[M];return new v(x,~h.h).add(et)}i.abs=function(){return Y(this)?at(this):this},i.add=function(h){for(var O=Math.max(this.g.length,h.g.length),x=[],M=0,D=0;D<=O;D++){var H=M+(this.i(D)&65535)+(h.i(D)&65535),P=(H>>>16)+(this.i(D)>>>16)+(h.i(D)>>>16);M=P>>>16,H&=65535,P&=65535,x[D]=P<<16|H}return new v(x,x[x.length-1]&-2147483648?-1:0)};function ot(h,O){return h.add(at(O))}i.j=function(h){if(X(this)||X(h))return J;if(Y(this))return Y(h)?at(this).j(at(h)):at(at(this).j(h));if(Y(h))return at(this.j(at(h)));if(0>this.l(ut)&&0>h.l(ut))return U(this.m()*h.m());for(var O=this.g.length+h.g.length,x=[],M=0;M<2*O;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(var D=0;D<h.g.length;D++){var H=this.i(M)>>>16,P=this.i(M)&65535,Yt=h.i(D)>>>16,Ue=h.i(D)&65535;x[2*M+2*D]+=P*Ue,It(x,2*M+2*D),x[2*M+2*D+1]+=H*Ue,It(x,2*M+2*D+1),x[2*M+2*D+1]+=P*Yt,It(x,2*M+2*D+1),x[2*M+2*D+2]+=H*Yt,It(x,2*M+2*D+2)}for(M=0;M<O;M++)x[M]=x[2*M+1]<<16|x[2*M];for(M=O;M<2*O;M++)x[M]=0;return new v(x,0)};function It(h,O){for(;(h[O]&65535)!=h[O];)h[O+1]+=h[O]>>>16,h[O]&=65535,O++}function dt(h,O){this.g=h,this.h=O}function ct(h,O){if(X(O))throw Error("division by zero");if(X(h))return new dt(J,J);if(Y(h))return O=ct(at(h),O),new dt(at(O.g),at(O.h));if(Y(O))return O=ct(h,at(O)),new dt(at(O.g),O.h);if(30<h.g.length){if(Y(h)||Y(O))throw Error("slowDivide_ only works with positive integers.");for(var x=et,M=O;0>=M.l(h);)x=St(x),M=St(M);var D=wt(x,1),H=wt(M,1);for(M=wt(M,2),x=wt(x,2);!X(M);){var P=H.add(M);0>=P.l(h)&&(D=D.add(x),H=P),M=wt(M,1),x=wt(x,1)}return O=ot(h,D.j(O)),new dt(D,O)}for(D=J;0<=h.l(O);){for(x=Math.max(1,Math.floor(h.m()/O.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),H=U(x),P=H.j(O);Y(P)||0<P.l(h);)x-=M,H=U(x),P=H.j(O);X(H)&&(H=et),D=D.add(H),h=ot(h,P)}return new dt(D,h)}i.A=function(h){return ct(this,h).h},i.and=function(h){for(var O=Math.max(this.g.length,h.g.length),x=[],M=0;M<O;M++)x[M]=this.i(M)&h.i(M);return new v(x,this.h&h.h)},i.or=function(h){for(var O=Math.max(this.g.length,h.g.length),x=[],M=0;M<O;M++)x[M]=this.i(M)|h.i(M);return new v(x,this.h|h.h)},i.xor=function(h){for(var O=Math.max(this.g.length,h.g.length),x=[],M=0;M<O;M++)x[M]=this.i(M)^h.i(M);return new v(x,this.h^h.h)};function St(h){for(var O=h.g.length+1,x=[],M=0;M<O;M++)x[M]=h.i(M)<<1|h.i(M-1)>>>31;return new v(x,h.h)}function wt(h,O){var x=O>>5;O%=32;for(var M=h.g.length-x,D=[],H=0;H<M;H++)D[H]=0<O?h.i(H+x)>>>O|h.i(H+x+1)<<32-O:h.i(H+x);return new v(D,h.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=U,v.fromString=j,Sf=v}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});var Vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,g,y){return a==Array.prototype||a==Object.prototype||(a[g]=y.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vo=="object"&&Vo];for(var g=0;g<a.length;++g){var y=a[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var o=n(this);function c(a,g){if(g)t:{var y=o;a=a.split(".");for(var C=0;C<a.length-1;C++){var F=a[C];if(!(F in y))break t;y=y[F]}a=a[a.length-1],C=y[a],g=g(C),g!=C&&g!=null&&t(y,a,{configurable:!0,writable:!0,value:g})}}function p(a,g){a instanceof String&&(a+="");var y=0,C=!1,F={next:function(){if(!C&&y<a.length){var q=y++;return{value:g(q,a[q]),done:!1}}return C=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}c("Array.prototype.values",function(a){return a||function(){return p(this,function(g,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var v=v||{},A=this||self;function S(a){var g=typeof a;return g=g!="object"?g:a?Array.isArray(a)?"array":g:"null",g=="array"||g=="object"&&typeof a.length=="number"}function U(a){var g=typeof a;return g=="object"&&a!=null||g=="function"}function j(a,g,y){return a.call.apply(a.bind,arguments)}function J(a,g,y){if(!a)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,C),a.apply(g,F)}}return function(){return a.apply(g,arguments)}}function et(a,g,y){return et=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?j:J,et.apply(null,arguments)}function ut(a,g){var y=Array.prototype.slice.call(arguments,1);return function(){var C=y.slice();return C.push.apply(C,arguments),a.apply(this,C)}}function X(a,g){function y(){}y.prototype=g.prototype,a.aa=g.prototype,a.prototype=new y,a.prototype.constructor=a,a.Qb=function(C,F,q){for(var st=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)st[Ht-2]=arguments[Ht];return g.prototype[F].apply(C,st)}}function Y(a){const g=a.length;if(0<g){const y=Array(g);for(let C=0;C<g;C++)y[C]=a[C];return y}return[]}function at(a,g){for(let y=1;y<arguments.length;y++){const C=arguments[y];if(S(C)){const F=a.length||0,q=C.length||0;a.length=F+q;for(let st=0;st<q;st++)a[F+st]=C[st]}else a.push(C)}}class ot{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function It(a){return/^[\s\xa0]*$/.test(a)}function dt(){var a=A.navigator;return a&&(a=a.userAgent)?a:""}function ct(a){return ct[" "](a),a}ct[" "]=function(){};var St=dt().indexOf("Gecko")!=-1&&!(dt().toLowerCase().indexOf("webkit")!=-1&&dt().indexOf("Edge")==-1)&&!(dt().indexOf("Trident")!=-1||dt().indexOf("MSIE")!=-1)&&dt().indexOf("Edge")==-1;function wt(a,g,y){for(const C in a)g.call(y,a[C],C,a)}function h(a,g){for(const y in a)g.call(void 0,a[y],y,a)}function O(a){const g={};for(const y in a)g[y]=a[y];return g}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(a,g){let y,C;for(let F=1;F<arguments.length;F++){C=arguments[F];for(y in C)a[y]=C[y];for(let q=0;q<x.length;q++)y=x[q],Object.prototype.hasOwnProperty.call(C,y)&&(a[y]=C[y])}}function D(a){var g=1;a=a.split(":");const y=[];for(;0<g&&a.length;)y.push(a.shift()),g--;return a.length&&y.push(a.join(":")),y}function H(a){A.setTimeout(()=>{throw a},0)}function P(){var a=Ee;let g=null;return a.g&&(g=a.g,a.g=a.g.next,a.g||(a.h=null),g.next=null),g}class Yt{constructor(){this.h=this.g=null}add(g,y){const C=Ue.get();C.set(g,y),this.h?this.h.next=C:this.g=C,this.h=C}}var Ue=new ot(()=>new ne,a=>a.reset());class ne{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Xt,yt=!1,Ee=new Yt,Et=()=>{const a=A.Promise.resolve(void 0);Xt=()=>{a.then(Jt)}};var Jt=()=>{for(var a;a=P();){try{a.h.call(a.g)}catch(y){H(y)}var g=Ue;g.j(a),100>g.h&&(g.h++,a.next=g.g,g.g=a)}yt=!1};function Qt(){this.s=this.s,this.C=this.C}Qt.prototype.s=!1,Qt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ft(a,g){this.type=a,this.g=this.target=g,this.defaultPrevented=!1}Ft.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var a=!1,g=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const y=()=>{};A.addEventListener("test",y,g),A.removeEventListener("test",y,g)}catch{}return a}();function Rt(a,g){if(Ft.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var y=this.type=a.type,C=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=g,g=a.relatedTarget){if(St){t:{try{ct(g.nodeName);var F=!0;break t}catch{}F=!1}F||(g=null)}}else y=="mouseover"?g=a.fromElement:y=="mouseout"&&(g=a.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Bt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Rt.aa.h.call(this)}}X(Rt,Ft);var Bt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function si(a,g,y,C,F){this.listener=a,this.proxy=null,this.src=g,this.type=y,this.capture=!!C,this.ha=F,this.key=++Ce,this.da=this.fa=!1}function Te(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function dn(a){this.src=a,this.g={},this.h=0}dn.prototype.add=function(a,g,y,C,F){var q=a.toString();a=this.g[q],a||(a=this.g[q]=[],this.h++);var st=Xe(a,g,C,F);return-1<st?(g=a[st],y||(g.fa=!1)):(g=new si(g,this.src,q,!!C,F),g.fa=y,a.push(g)),g};function Oe(a,g){var y=g.type;if(y in a.g){var C=a.g[y],F=Array.prototype.indexOf.call(C,g,void 0),q;(q=0<=F)&&Array.prototype.splice.call(C,F,1),q&&(Te(g),a.g[y].length==0&&(delete a.g[y],a.h--))}}function Xe(a,g,y,C){for(var F=0;F<a.length;++F){var q=a[F];if(!q.da&&q.listener==g&&q.capture==!!y&&q.ha==C)return F}return-1}var yi="closure_lm_"+(1e6*Math.random()|0),wi={};function Vn(a,g,y,C,F){if(Array.isArray(g)){for(var q=0;q<g.length;q++)Vn(a,g[q],y,C,F);return null}return y=gt(y),a&&a[be]?a.K(g,y,U(C)?!!C.capture:!1,F):In(a,g,y,!1,C,F)}function In(a,g,y,C,F,q){if(!g)throw Error("Invalid event type");var st=U(F)?!!F.capture:!!F,Ht=Je(a);if(Ht||(a[yi]=Ht=new dn(a)),y=Ht.add(g,y,C,st,q),y.proxy)return y;if(C=ke(),y.proxy=C,C.src=a,C.listener=y,a.addEventListener)te||(F=st),F===void 0&&(F=!1),a.addEventListener(g.toString(),C,F);else if(a.attachEvent)a.attachEvent(xn(g.toString()),C);else if(a.addListener&&a.removeListener)a.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ke(){function a(y){return g.call(a.src,a.listener,y)}const g=Ne;return a}function nr(a,g,y,C,F){if(Array.isArray(g))for(var q=0;q<g.length;q++)nr(a,g[q],y,C,F);else C=U(C)?!!C.capture:!!C,y=gt(y),a&&a[be]?(a=a.i,g=String(g).toString(),g in a.g&&(q=a.g[g],y=Xe(q,y,C,F),-1<y&&(Te(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete a.g[g],a.h--)))):a&&(a=Je(a))&&(g=a.g[g.toString()],a=-1,g&&(a=Xe(g,y,C,F)),(y=-1<a?g[a]:null)&&Ve(y))}function Ve(a){if(typeof a!="number"&&a&&!a.da){var g=a.src;if(g&&g[be])Oe(g.i,a);else{var y=a.type,C=a.proxy;g.removeEventListener?g.removeEventListener(y,C,a.capture):g.detachEvent?g.detachEvent(xn(y),C):g.addListener&&g.removeListener&&g.removeListener(C),(y=Je(g))?(Oe(y,a),y.h==0&&(y.src=null,g[yi]=null)):Te(a)}}}function xn(a){return a in wi?wi[a]:wi[a]="on"+a}function Ne(a,g){if(a.da)a=!0;else{g=new Rt(g,this);var y=a.listener,C=a.ha||a.src;a.fa&&Ve(a),a=y.call(C,g)}return a}function Je(a){return a=a[yi],a instanceof dn?a:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function gt(a){return typeof a=="function"?a:(a[Qe]||(a[Qe]=function(g){return a.handleEvent(g)}),a[Qe])}function Zt(){Qt.call(this),this.i=new dn(this),this.M=this,this.F=null}X(Zt,Qt),Zt.prototype[be]=!0,Zt.prototype.removeEventListener=function(a,g,y,C){nr(this,a,g,y,C)};function ge(a,g){var y,C=a.F;if(C)for(y=[];C;C=C.F)y.push(C);if(a=a.M,C=g.type||g,typeof g=="string")g=new Ft(g,a);else if(g instanceof Ft)g.target=g.target||a;else{var F=g;g=new Ft(C,a),M(g,F)}if(F=!0,y)for(var q=y.length-1;0<=q;q--){var st=g.g=y[q];F=Wn(st,C,!0,g)&&F}if(st=g.g=a,F=Wn(st,C,!0,g)&&F,F=Wn(st,C,!1,g)&&F,y)for(q=0;q<y.length;q++)st=g.g=y[q],F=Wn(st,C,!1,g)&&F}Zt.prototype.N=function(){if(Zt.aa.N.call(this),this.i){var a=this.i,g;for(g in a.g){for(var y=a.g[g],C=0;C<y.length;C++)Te(y[C]);delete a.g[g],a.h--}}this.F=null},Zt.prototype.K=function(a,g,y,C){return this.i.add(String(a),g,!1,y,C)},Zt.prototype.L=function(a,g,y,C){return this.i.add(String(a),g,!0,y,C)};function Wn(a,g,y,C){if(g=a.i.g[String(g)],!g)return!0;g=g.concat();for(var F=!0,q=0;q<g.length;++q){var st=g[q];if(st&&!st.da&&st.capture==y){var Ht=st.listener,me=st.ha||st.src;st.fa&&Oe(a.i,st),F=Ht.call(me,C)!==!1&&F}}return F&&!C.defaultPrevented}function Ss(a,g,y){if(typeof a=="function")y&&(a=et(a,y));else if(a&&typeof a.handleEvent=="function")a=et(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:A.setTimeout(a,g||0)}function ir(a){a.g=Ss(()=>{a.g=null,a.i&&(a.i=!1,ir(a))},a.l);const g=a.h;a.h=null,a.m.apply(null,g)}class Vr extends Qt{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ir(this)}N(){super.N(),this.g&&(A.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pn(a){Qt.call(this),this.h=a,this.g={}}X(Pn,Qt);var tn=[];function pn(a){wt(a.g,function(g,y){this.g.hasOwnProperty(y)&&Ve(g)},a),a.g={}}Pn.prototype.N=function(){Pn.aa.N.call(this),pn(this)},Pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=A.JSON.stringify,oo=A.JSON.parse,qn=class{stringify(a){return A.JSON.stringify(a,void 0)}parse(a){return A.JSON.parse(a,void 0)}};function rr(){}rr.prototype.h=null;function Wr(a){return a.h||(a.h=a.i())}function Cs(){}var en={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zn(){Ft.call(this,"d")}X(Zn,Ft);function sr(){Ft.call(this,"c")}X(sr,Ft);var oi={},ze=null;function Ie(){return ze=ze||new Zt}oi.La="serverreachability";function or(a){Ft.call(this,oi.La,a)}X(or,Ft);function Di(a){const g=Ie();ge(g,new or(g))}oi.STAT_EVENT="statevent";function Mi(a,g){Ft.call(this,oi.STAT_EVENT,a),this.stat=g}X(Mi,Ft);function xe(a){const g=Ie();ge(g,new Mi(g,a))}oi.Ma="timingevent";function ai(a,g){Ft.call(this,oi.Ma,a),this.size=g}X(ai,Ft);function gn(a,g){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){a()},g)}function ui(){this.g=!0}ui.prototype.xa=function(){this.g=!1};function He(a,g,y,C,F,q){a.info(function(){if(a.g)if(q)for(var st="",Ht=q.split("&"),me=0;me<Ht.length;me++){var Mt=Ht[me].split("=");if(1<Mt.length){var le=Mt[0];Mt=Mt[1];var oe=le.split("_");st=2<=oe.length&&oe[1]=="type"?st+(le+"="+Mt+"&"):st+(le+"=redacted&")}}else st=null;else st=q;return"XMLHTTP REQ ("+C+") [attempt "+F+"]: "+g+`
`+y+`
`+st})}function vt(a,g,y,C,F,q,st){a.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+F+"]: "+g+`
`+y+`
`+q+" "+st})}function li(a,g,y,C){a.info(function(){return"XMLHTTP TEXT ("+g+"): "+qr(a,y)+(C?" "+C:"")})}function Is(a,g){a.info(function(){return"TIMEOUT: "+g})}ui.prototype.info=function(){};function qr(a,g){if(!a.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(a=0;a<y.length;a++)if(Array.isArray(y[a])){var C=y[a];if(!(2>C.length)){var F=C[1];if(Array.isArray(F)&&!(1>F.length)){var q=F[0];if(q!="noop"&&q!="stop"&&q!="close")for(var st=1;st<F.length;st++)F[st]=""}}}}return Ln(y)}catch{return g}}var ar={NO_ERROR:0,TIMEOUT:8},Zr={},Bi;function On(){}X(On,rr),On.prototype.g=function(){return new XMLHttpRequest},On.prototype.i=function(){return{}},Bi=new On;function Re(a,g,y,C){this.j=a,this.i=g,this.l=y,this.R=C||1,this.U=new Pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gr}function Gr(){this.i=null,this.g="",this.h=!1}var ur={},Ui={};function Ei(a,g,y){a.L=1,a.v=De(de(g)),a.m=y,a.P=!0,lr(a,null)}function lr(a,g){a.F=Date.now(),zi(a),a.A=de(a.v);var y=a.A,C=a.R;Array.isArray(C)||(C=[String(C)]),Qr(y.i,"t",C),a.C=0,y=a.j.J,a.h=new Gr,a.g=nn(a.j,y?g:null,!a.m),0<a.O&&(a.M=new Vr(et(a.Y,a,a.g),a.O)),g=a.U,y=a.g,C=a.ca;var F="readystatechange";Array.isArray(F)||(F&&(tn[0]=F.toString()),F=tn);for(var q=0;q<F.length;q++){var st=Vn(y,F[q],C||g.handleEvent,!1,g.h||g);if(!st)break;g.g[st.key]=st}g=a.H?O(a.H):{},a.m?(a.u||(a.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,g)):(a.u="GET",a.g.ea(a.A,a.u,null,g)),Di(),He(a.i,a.u,a.A,a.l,a.R,a.m)}Re.prototype.ca=function(a){a=a.target;const g=this.M;g&&Le(a)==3?g.j():this.Y(a)},Re.prototype.Y=function(a){try{if(a==this.g)t:{const oe=Le(this.g);var g=this.g.Ba();const sn=this.g.Z();if(!(3>oe)&&(oe!=3||this.g&&(this.h.h||this.g.oa()||rs(this.g)))){this.J||oe!=4||g==7||(g==8||0>=sn?Di(3):Di(2)),cr(this);var y=this.g.Z();this.X=y;e:if(xs(this)){var C=rs(this.g);a="";var F=C.length,q=Le(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),bi(this);var st="";break e}this.h.i=new A.TextDecoder}for(g=0;g<F;g++)this.h.h=!0,a+=this.h.i.decode(C[g],{stream:!(q&&g==F-1)});C.length=0,this.h.g+=a,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=y==200,vt(this.i,this.u,this.A,this.l,this.R,oe,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Ht,me=this.g;if((Ht=me.g?me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!It(Ht)){var Mt=Ht;break e}}Mt=null}if(y=Mt)li(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hi(this,y);else{this.o=!1,this.s=3,xe(12),ci(this),bi(this);break t}}if(this.P){y=!0;let on;for(;!this.J&&this.C<st.length;)if(on=Gn(this,st),on==Ui){oe==4&&(this.s=4,xe(14),y=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(on==ur){this.s=4,xe(15),li(this.i,this.l,st,"[Invalid Chunk]"),y=!1;break}else li(this.i,this.l,on,null),hi(this,on);if(xs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),oe!=4||st.length!=0||this.h.h||(this.s=1,xe(16),y=!1),this.o=this.o&&y,!y)li(this.i,this.l,st,"[Invalid Chunked Response]"),ci(this),bi(this);else if(0<st.length&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.ba&&!le.M&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),Q(le),le.M=!0,xe(11))}}else li(this.i,this.l,st,null),hi(this,st);oe==4&&ci(this),this.o&&!this.J&&(oe==4?Tt(this.j,this):(this.o=!1,zi(this)))}else ao(this.g),y==400&&0<st.indexOf("Unknown SID")?(this.s=3,xe(12)):(this.s=0,xe(13)),ci(this),bi(this)}}}catch{}finally{}};function xs(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Gn(a,g){var y=a.C,C=g.indexOf(`
`,y);return C==-1?Ui:(y=Number(g.substring(y,C)),isNaN(y)?ur:(C+=1,C+y>g.length?Ui:(g=g.slice(C,C+y),a.C=C+y,g)))}Re.prototype.cancel=function(){this.J=!0,ci(this)};function zi(a){a.S=Date.now()+a.I,Kr(a,a.I)}function Kr(a,g){if(a.B!=null)throw Error("WatchDog timer not null");a.B=gn(et(a.ba,a),g)}function cr(a){a.B&&(A.clearTimeout(a.B),a.B=null)}Re.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Is(this.i,this.A),this.L!=2&&(Di(),xe(17)),ci(this),this.s=2,bi(this)):Kr(this,this.S-a)};function bi(a){a.j.G==0||a.J||Tt(a.j,a)}function ci(a){cr(a);var g=a.M;g&&typeof g.ma=="function"&&g.ma(),a.M=null,pn(a.U),a.g&&(g=a.g,a.g=null,g.abort(),g.ma())}function hi(a,g){try{var y=a.j;if(y.G!=0&&(y.g==a||jt(y.h,a))){if(!a.K&&jt(y.h,a)&&y.G==3){try{var C=y.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var F=C;if(F[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<a.F)it(y),d(y);else break t;K(y),xe(18)}}else y.za=F[1],0<y.za-y.T&&37500>F[2]&&y.F&&y.v==0&&!y.C&&(y.C=gn(et(y.Za,y),6e3));if(1>=fi(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else xt(y,11)}else if((a.K||y.g==a)&&it(y),!It(g))for(F=y.Da.g.parse(g),g=0;g<F.length;g++){let Mt=F[g];if(y.T=Mt[0],Mt=Mt[1],y.G==2)if(Mt[0]=="c"){y.K=Mt[1],y.ia=Mt[2];const le=Mt[3];le!=null&&(y.la=le,y.j.info("VER="+y.la));const oe=Mt[4];oe!=null&&(y.Aa=oe,y.j.info("SVER="+y.Aa));const sn=Mt[5];sn!=null&&typeof sn=="number"&&0<sn&&(C=1.5*sn,y.L=C,y.j.info("backChannelRequestTimeoutMs_="+C)),C=y;const on=a.g;if(on){const zt=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zt){var q=C.h;q.g||zt.indexOf("spdy")==-1&&zt.indexOf("quic")==-1&&zt.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(se(q,q.h),q.h=null))}if(C.D){const Ci=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Ci&&(C.ya=Ci,Lt(C.I,C.D,Ci))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-a.F,y.j.info("Handshake RTT: "+y.R+"ms")),C=y;var st=a;if(C.qa=fe(C,C.J?C.ia:null,C.W),st.K){ve(C.h,st);var Ht=st,me=C.L;me&&(Ht.I=me),Ht.B&&(cr(Ht),zi(Ht)),C.g=st}else z(C);0<y.i.length&&w(y)}else Mt[0]!="stop"&&Mt[0]!="close"||xt(y,7);else y.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?xt(y,7):l(y):Mt[0]!="noop"&&y.l&&y.l.ta(Mt),y.v=0)}}Di(4)}catch{}}var Hi=class{constructor(a,g){this.g=a,this.map=g}};function Yr(a){this.l=a||10,A.PerformanceNavigationTiming?(a=A.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(A.chrome&&A.chrome.loadTimes&&A.chrome.loadTimes()&&A.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hr(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function fi(a){return a.h?1:a.g?a.g.size:0}function jt(a,g){return a.h?a.h==g:a.g?a.g.has(g):!1}function se(a,g){a.g?a.g.add(g):a.h=g}function ve(a,g){a.h&&a.h==g?a.h=null:a.g&&a.g.has(g)&&a.g.delete(g)}Yr.prototype.cancel=function(){if(this.i=We(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function We(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let g=a.i;for(const y of a.g.values())g=g.concat(y.D);return g}return Y(a.i)}function kn(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(S(a)){for(var g=[],y=a.length,C=0;C<y;C++)g.push(a[C]);return g}g=[],y=0;for(C in a)g[y++]=a[C];return g}function Xr(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(S(a)||typeof a=="string"){var g=[];a=a.length;for(var y=0;y<a;y++)g.push(y);return g}g=[],y=0;for(const C in a)g[y++]=C;return g}}}function Dt(a,g){if(a.forEach&&typeof a.forEach=="function")a.forEach(g,void 0);else if(S(a)||typeof a=="string")Array.prototype.forEach.call(a,g,void 0);else for(var y=Xr(a),C=kn(a),F=C.length,q=0;q<F;q++)g.call(void 0,C[q],y&&y[q],a)}var ue=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fr(a,g){if(a){a=a.split("&");for(var y=0;y<a.length;y++){var C=a[y].indexOf("="),F=null;if(0<=C){var q=a[y].substring(0,C);F=a[y].substring(C+1)}else q=a[y];g(q,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Fe(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Fe){this.h=a.h,dr(this,a.j),this.o=a.o,this.g=a.g,di(this,a.s),this.l=a.l;var g=a.i,y=new Mn;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),ye(this,y),this.m=a.m}else a&&(g=String(a).match(ue))?(this.h=!1,dr(this,g[1]||"",!0),this.o=Nn(g[2]||""),this.g=Nn(g[3]||"",!0),di(this,g[4]),this.l=Nn(g[5]||"",!0),ye(this,g[6]||"",!0),this.m=Nn(g[7]||"")):(this.h=!1,this.i=new Mn(null,this.h))}Fe.prototype.toString=function(){var a=[],g=this.j;g&&a.push(Rn(g,qe,!0),":");var y=this.g;return(y||g=="file")&&(a.push("//"),(g=this.o)&&a.push(Rn(g,qe,!0),"@"),a.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&a.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&a.push("/"),a.push(Rn(y,y.charAt(0)=="/"?Jr:Fi,!0))),(y=this.i.toString())&&a.push("?",y),(y=this.m)&&a.push("#",Rn(y,pr)),a.join("")};function de(a){return new Fe(a)}function dr(a,g,y){a.j=y?Nn(g,!0):g,a.j&&(a.j=a.j.replace(/:$/,""))}function di(a,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);a.s=g}else a.s=null}function ye(a,g,y){g instanceof Mn?(a.i=g,mn(a.i,a.h)):(y||(g=Rn(g,Kn)),a.i=new Mn(g,a.h))}function Lt(a,g,y){a.i.set(g,y)}function De(a){return Lt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Nn(a,g){return a?g?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Rn(a,g,y){return typeof a=="string"?(a=encodeURI(a).replace(g,Dn),y&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Dn(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var qe=/[#\/\?@]/g,Fi=/[#\?:]/g,Jr=/[#\?]/g,Kn=/[#\?@]/g,pr=/#/g;function Mn(a,g){this.h=this.g=null,this.i=a||null,this.j=!!g}function Ze(a){a.g||(a.g=new Map,a.h=0,a.i&&fr(a.i,function(g,y){a.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}i=Mn.prototype,i.add=function(a,g){Ze(this),this.i=null,a=Ct(this,a);var y=this.g.get(a);return y||this.g.set(a,y=[]),y.push(g),this.h+=1,this};function gr(a,g){Ze(a),g=Ct(a,g),a.g.has(g)&&(a.i=null,a.h-=a.g.get(g).length,a.g.delete(g))}function mr(a,g){return Ze(a),g=Ct(a,g),a.g.has(g)}i.forEach=function(a,g){Ze(this),this.g.forEach(function(y,C){y.forEach(function(F){a.call(g,F,C,this)},this)},this)},i.na=function(){Ze(this);const a=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let C=0;C<g.length;C++){const F=a[C];for(let q=0;q<F.length;q++)y.push(g[C])}return y},i.V=function(a){Ze(this);let g=[];if(typeof a=="string")mr(this,a)&&(g=g.concat(this.g.get(Ct(this,a))));else{a=Array.from(this.g.values());for(let y=0;y<a.length;y++)g=g.concat(a[y])}return g},i.set=function(a,g){return Ze(this),this.i=null,a=Ct(this,a),mr(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[g]),this.h+=1,this},i.get=function(a,g){return a?(a=this.V(a),0<a.length?String(a[0]):g):g};function Qr(a,g,y){gr(a,g),0<y.length&&(a.i=null,a.g.set(Ct(a,g),Y(y)),a.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var C=g[y];const q=encodeURIComponent(String(C)),st=this.V(C);for(C=0;C<st.length;C++){var F=q;st[C]!==""&&(F+="="+encodeURIComponent(String(st[C]))),a.push(F)}}return this.i=a.join("&")};function Ct(a,g){return g=String(g),a.j&&(g=g.toLowerCase()),g}function mn(a,g){g&&!a.j&&(Ze(a),a.i=null,a.g.forEach(function(y,C){var F=C.toLowerCase();C!=F&&(gr(this,C),Qr(this,F,y))},a)),a.j=g}function ee(a,g){const y=new ui;if(A.Image){const C=new Image;C.onload=ut(_n,y,"TestLoadImage: loaded",!0,g,C),C.onerror=ut(_n,y,"TestLoadImage: error",!1,g,C),C.onabort=ut(_n,y,"TestLoadImage: abort",!1,g,C),C.ontimeout=ut(_n,y,"TestLoadImage: timeout",!1,g,C),A.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=a}else g(!1)}function Ps(a,g){const y=new ui,C=new AbortController,F=setTimeout(()=>{C.abort(),_n(y,"TestPingServer: timeout",!1,g)},1e4);fetch(a,{signal:C.signal}).then(q=>{clearTimeout(F),q.ok?_n(y,"TestPingServer: ok",!0,g):_n(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(F),_n(y,"TestPingServer: error",!1,g)})}function _n(a,g,y,C,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),C(y)}catch{}}function ts(){this.g=new qn}function es(a,g,y){const C=y||"";try{Dt(a,function(F,q){let st=F;U(F)&&(st=Ln(F)),g.push(C+q+"="+encodeURIComponent(st))})}catch(F){throw g.push(C+"type="+encodeURIComponent("_badmap")),F}}function vn(a){this.l=a.Ub||null,this.j=a.eb||!1}X(vn,rr),vn.prototype.g=function(){return new Ti(this.l,this.j)},vn.prototype.i=function(a){return function(){return a}}({});function Ti(a,g){Zt.call(this),this.D=a,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Ti,Zt),i=Ti.prototype,i.open=function(a,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=g,this.readyState=1,je(this)},i.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(g.body=a),(this.D||A).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ce(this)),this.readyState=0},i.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,je(this)),this.g&&(this.readyState=3,je(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof A.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ai(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ai(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}i.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var g=a.value?a.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!a.done}))&&(this.response=this.responseText+=g)}a.done?ce(this):je(this),this.readyState==3&&Ai(this)}},i.Ra=function(a){this.g&&(this.response=this.responseText=a,ce(this))},i.Qa=function(a){this.g&&(this.response=a,ce(this))},i.ga=function(){this.g&&ce(this)};function ce(a){a.readyState=4,a.l=null,a.j=null,a.v=null,je(a)}i.setRequestHeader=function(a,g){this.u.append(a,g)},i.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,a.push(y[0]+": "+y[1]),y=g.next();return a.join(`\r
`)};function je(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function _r(a){let g="";return wt(a,function(y,C){g+=C,g+=":",g+=y,g+=`\r
`}),g}function Si(a,g,y){t:{for(C in y){var C=!1;break t}C=!0}C||(y=_r(y),typeof a=="string"?y!=null&&encodeURIComponent(String(y)):Lt(a,g,y))}function he(a){Zt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(he,Zt);var ns=/^https?$/i,ji=["POST","PUT"];i=he.prototype,i.Ha=function(a){this.J=a},i.ea=function(a,g,y,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);g=g?g.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bi.g(),this.v=this.o?Wr(this.o):Wr(Bi),this.g.onreadystatechange=et(this.Ea,this);try{this.B=!0,this.g.open(g,String(a),!0),this.B=!1}catch(q){Ls(this,q);return}if(a=y||"",y=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var F in C)y.set(F,C[F]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const q of C.keys())y.set(q,C.get(q));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),F=A.FormData&&a instanceof A.FormData,!(0<=Array.prototype.indexOf.call(ji,g,void 0))||C||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,st]of y)this.g.setRequestHeader(q,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$e(this),this.u=!0,this.g.send(a),this.u=!1}catch(q){Ls(this,q)}};function Ls(a,g){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=g,a.m=5,is(a),Yn(a)}function is(a){a.A||(a.A=!0,ge(a,"complete"),ge(a,"error"))}i.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ge(this,"complete"),ge(this,"abort"),Yn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),he.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Wt(this):this.bb())},i.bb=function(){Wt(this)};function Wt(a){if(a.h&&typeof v<"u"&&(!a.v[1]||Le(a)!=4||a.Z()!=2)){if(a.u&&Le(a)==4)Ss(a.Ea,0,a);else if(ge(a,"readystatechange"),Le(a)==4){a.h=!1;try{const st=a.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var y;if(!(y=g)){var C;if(C=st===0){var F=String(a.D).match(ue)[1]||null;!F&&A.self&&A.self.location&&(F=A.self.location.protocol.slice(0,-1)),C=!ns.test(F?F.toLowerCase():"")}y=C}if(y)ge(a,"complete"),ge(a,"success");else{a.m=6;try{var q=2<Le(a)?a.g.statusText:""}catch{q=""}a.l=q+" ["+a.Z()+"]",is(a)}}finally{Yn(a)}}}}function Yn(a,g){if(a.g){$e(a);const y=a.g,C=a.v[0]?()=>{}:null;a.g=null,a.v=null,g||ge(a,"ready");try{y.onreadystatechange=C}catch{}}}function $e(a){a.I&&(A.clearTimeout(a.I),a.I=null)}i.isActive=function(){return!!this.g};function Le(a){return a.g?a.g.readyState:0}i.Z=function(){try{return 2<Le(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(a){if(this.g){var g=this.g.responseText;return a&&g.indexOf(a)==0&&(g=g.substring(a.length)),oo(g)}};function rs(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function ao(a){const g={};a=(a.g&&2<=Le(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<a.length;C++){if(It(a[C]))continue;var y=D(a[C]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=g[F]||[];g[F]=q,q.push(y)}h(g,function(C){return C.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(a,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[a]||g}function s(a){this.Aa=0,this.i=[],this.j=new ui,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pi("baseRetryDelayMs",5e3,a),this.cb=pi("retryDelaySeedMs",1e4,a),this.Wa=pi("forwardChannelMaxRetries",2,a),this.wa=pi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Yr(a&&a.concurrentRequestLimit),this.Da=new ts,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=s.prototype,i.la=8,i.G=1,i.connect=function(a,g,y,C){xe(0),this.W=a,this.H=g||{},y&&C!==void 0&&(this.H.OSID=y,this.H.OAID=C),this.F=this.X,this.I=fe(this,null,this.W),w(this)};function l(a){if(m(a),a.G==3){var g=a.U++,y=de(a.I);if(Lt(y,"SID",a.K),Lt(y,"RID",g),Lt(y,"TYPE","terminate"),N(a,y),g=new Re(a,a.j,g),g.L=2,g.v=De(de(y)),y=!1,A.navigator&&A.navigator.sendBeacon)try{y=A.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&A.Image&&(new Image().src=g.v,y=!0),y||(g.g=nn(g.j,null),g.g.ea(g.v)),g.F=Date.now(),zi(g)}we(a)}function d(a){a.g&&(Q(a),a.g.cancel(),a.g=null)}function m(a){d(a),a.u&&(A.clearTimeout(a.u),a.u=null),it(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&A.clearTimeout(a.s),a.s=null)}function w(a){if(!hr(a.h)&&!a.s){a.s=!0;var g=a.Ga;Xt||Et(),yt||(Xt(),yt=!0),Ee.add(g,a),a.B=0}}function E(a,g){return fi(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=g.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=gn(et(a.Ga,a,g),$t(a,a.B)),a.B++,!0)}i.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const F=new Re(this,this.j,a);let q=this.o;if(this.S&&(q?(q=O(q),M(q,this.S)):q=this.S),this.m!==null||this.O||(F.H=q,q=null),this.P)t:{for(var g=0,y=0;y<this.i.length;y++){e:{var C=this.i[y];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=y;break t}if(g===4096||y===this.i.length-1){g=y+1;break t}}g=1e3}else g=1e3;g=k(this,F,g),y=de(this.I),Lt(y,"RID",a),Lt(y,"CVER",22),this.D&&Lt(y,"X-HTTP-Session-Id",this.D),N(this,y),q&&(this.O?g="headers="+encodeURIComponent(String(_r(q)))+"&"+g:this.m&&Si(y,this.m,q)),se(this.h,F),this.Ua&&Lt(y,"TYPE","init"),this.P?(Lt(y,"$req",g),Lt(y,"SID","null"),F.T=!0,Ei(F,y,null)):Ei(F,y,g),this.G=2}}else this.G==3&&(a?b(this,a):this.i.length==0||hr(this.h)||b(this))};function b(a,g){var y;g?y=g.l:y=a.U++;const C=de(a.I);Lt(C,"SID",a.K),Lt(C,"RID",y),Lt(C,"AID",a.T),N(a,C),a.m&&a.o&&Si(C,a.m,a.o),y=new Re(a,a.j,y,a.B+1),a.m===null&&(y.H=a.o),g&&(a.i=g.D.concat(a.i)),g=k(a,y,1e3),y.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),se(a.h,y),Ei(y,C,g)}function N(a,g){a.H&&wt(a.H,function(y,C){Lt(g,C,y)}),a.l&&Dt({},function(y,C){Lt(g,C,y)})}function k(a,g,y){y=Math.min(a.i.length,y);var C=a.l?et(a.l.Na,a.l,a):null;t:{var F=a.i;let q=-1;for(;;){const st=["count="+y];q==-1?0<y?(q=F[0].g,st.push("ofs="+q)):q=0:st.push("ofs="+q);let Ht=!0;for(let me=0;me<y;me++){let Mt=F[me].g;const le=F[me].map;if(Mt-=q,0>Mt)q=Math.max(0,F[me].g-100),Ht=!1;else try{es(le,st,"req"+Mt+"_")}catch{C&&C(le)}}if(Ht){C=st.join("&");break t}}}return a=a.i.splice(0,y),g.D=a,C}function z(a){if(!a.g&&!a.u){a.Y=1;var g=a.Fa;Xt||Et(),yt||(Xt(),yt=!0),Ee.add(g,a),a.v=0}}function K(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=gn(et(a.Fa,a),$t(a,a.v)),a.v++,!0)}i.Fa=function(){if(this.u=null,W(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=gn(et(this.ab,this),a)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xe(10),d(this),W(this))};function Q(a){a.A!=null&&(A.clearTimeout(a.A),a.A=null)}function W(a){a.g=new Re(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var g=de(a.qa);Lt(g,"RID","rpc"),Lt(g,"SID",a.K),Lt(g,"AID",a.T),Lt(g,"CI",a.F?"0":"1"),!a.F&&a.ja&&Lt(g,"TO",a.ja),Lt(g,"TYPE","xmlhttp"),N(a,g),a.m&&a.o&&Si(g,a.m,a.o),a.L&&(a.g.I=a.L);var y=a.g;a=a.ia,y.L=1,y.v=De(de(g)),y.m=null,y.P=!0,lr(y,a)}i.Za=function(){this.C!=null&&(this.C=null,d(this),K(this),xe(19))};function it(a){a.C!=null&&(A.clearTimeout(a.C),a.C=null)}function Tt(a,g){var y=null;if(a.g==g){it(a),Q(a),a.g=null;var C=2}else if(jt(a.h,g))y=g.D,ve(a.h,g),C=1;else return;if(a.G!=0){if(g.o)if(C==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var F=a.B;C=Ie(),ge(C,new ai(C,y)),w(a)}else z(a);else if(F=g.s,F==3||F==0&&0<g.X||!(C==1&&E(a,g)||C==2&&K(a)))switch(y&&0<y.length&&(g=a.h,g.i=g.i.concat(y)),F){case 1:xt(a,5);break;case 4:xt(a,10);break;case 3:xt(a,6);break;default:xt(a,2)}}}function $t(a,g){let y=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(y*=2),y*g}function xt(a,g){if(a.j.info("Error code "+g),g==2){var y=et(a.fb,a),C=a.Xa;const F=!C;C=new Fe(C||"//www.google.com/images/cleardot.gif"),A.location&&A.location.protocol=="http"||dr(C,"https"),De(C),F?ee(C.toString(),y):Ps(C.toString(),y)}else xe(2);a.G=0,a.l&&a.l.sa(g),we(a),m(a)}i.fb=function(a){a?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function we(a){if(a.G=0,a.ka=[],a.l){const g=We(a.h);(g.length!=0||a.i.length!=0)&&(at(a.ka,g),at(a.ka,a.i),a.h.i.length=0,Y(a.i),a.i.length=0),a.l.ra()}}function fe(a,g,y){var C=y instanceof Fe?de(y):new Fe(y);if(C.g!="")g&&(C.g=g+"."+C.g),di(C,C.s);else{var F=A.location;C=F.protocol,g=g?g+"."+F.hostname:F.hostname,F=+F.port;var q=new Fe(null);C&&dr(q,C),g&&(q.g=g),F&&di(q,F),y&&(q.l=y),C=q}return y=a.D,g=a.ya,y&&g&&Lt(C,y,g),Lt(C,"VER",a.la),N(a,C),C}function nn(a,g,y){if(g&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=a.Ca&&!a.pa?new he(new vn({eb:y})):new he(a.pa),g.Ha(a.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ge(){}i=Ge.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function At(a,g){Zt.call(this),this.g=new s(g),this.l=a,this.h=g&&g.messageUrlParams||null,a=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(a?a["X-WebChannel-Content-Type"]=g.messageContentType:a={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(a?a["X-WebChannel-Client-Profile"]=g.va:a={"X-WebChannel-Client-Profile":g.va}),this.g.S=a,(a=g&&g.Sb)&&!It(a)&&(this.g.m=a),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!It(g)&&(this.g.D=g,a=this.h,a!==null&&g in a&&(a=this.h,g in a&&delete a[g])),this.j=new ie(this)}X(At,Zt),At.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){l(this.g)},At.prototype.o=function(a){var g=this.g;if(typeof a=="string"){var y={};y.__data__=a,a=y}else this.u&&(y={},y.__data__=Ln(a),a=y);g.i.push(new Hi(g.Ya++,a)),g.G==3&&w(g)},At.prototype.N=function(){this.g.l=null,delete this.j,l(this.g),delete this.g,At.aa.N.call(this)};function rn(a){Zn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var g=a.__sm__;if(g){t:{for(const y in g){a=y;break t}a=void 0}(this.i=a)&&(a=this.i,g=g!==null&&a in g?g[a]:void 0),this.data=g}else this.data=a}X(rn,Zn);function Ut(){sr.call(this),this.status=1}X(Ut,sr);function ie(a){this.g=a}X(ie,Ge),ie.prototype.ua=function(){ge(this.g,"a")},ie.prototype.ta=function(a){ge(this.g,new rn(a))},ie.prototype.sa=function(a){ge(this.g,new Ut)},ie.prototype.ra=function(){ge(this.g,"b")},At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,Zr.COMPLETE="complete",Cs.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",Zt.prototype.listen=Zt.prototype.K,he.prototype.listenOnce=he.prototype.L,he.prototype.getLastError=he.prototype.Ka,he.prototype.getLastErrorCode=he.prototype.Ba,he.prototype.getStatus=he.prototype.Z,he.prototype.getResponseJson=he.prototype.Oa,he.prototype.getResponseText=he.prototype.oa,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Ha}).apply(typeof Vo<"u"?Vo:typeof self<"u"?self:typeof window<"u"?window:{});const pc="@firebase/firestore",gc="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Lu("@firebase/firestore");function _i(i,...t){if(qs.logLevel<=ae.DEBUG){const n=t.map(Gu);qs.debug(`Firestore (${Lo}): ${i}`,...n)}}function Cf(i,...t){if(qs.logLevel<=ae.ERROR){const n=t.map(Gu);qs.error(`Firestore (${Lo}): ${i}`,...n)}}function Xv(i,...t){if(qs.logLevel<=ae.WARN){const n=t.map(Gu);qs.warn(`Firestore (${Lo}): ${i}`,...n)}}function Gu(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(i="Unexpected state"){const t=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+i;throw Cf(t),new Error(t)}function vo(i,t){i||Ku()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class An extends Ri{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Jv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class Qv{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ty{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){vo(this.o===void 0);let o=this.i;const c=S=>this.i!==o?(o=this.i,n(S)):Promise.resolve();let p=new yo;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new yo,t.enqueueRetryable(()=>c(this.currentUser))};const v=()=>{const S=p;t.enqueueRetryable(async()=>{await S.promise,await c(this.currentUser)})},A=S=>{_i("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.o&&(this.auth.addAuthTokenListener(this.o),v())};this.t.onInit(S=>A(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?A(S):(_i("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new yo)}},0),v()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==t?(_i("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(vo(typeof o.accessToken=="string"),new If(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return vo(t===null||typeof t=="string"),new ln(t)}}class ey{constructor(t,n,o){this.l=t,this.h=n,this.P=o,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ny{constructor(t,n,o){this.l=t,this.h=n,this.P=o}getToken(){return Promise.resolve(new ey(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mc{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iy{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Qn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){vo(this.o===void 0);const o=p=>{p.error!=null&&_i("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const v=p.token!==this.R;return this.R=p.token,_i("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?n(p.token):Promise.resolve()};this.o=p=>{t.enqueueRetryable(()=>o(p))};const c=p=>{_i("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?c(p):_i("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new mc(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(vo(typeof n.token=="string"),this.R=n.token,new mc(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ry(i){return i.name==="IndexedDbTransactionError"}const yu="(default)";class va{constructor(t,n){this.projectId=t,this.database=n||yu}static empty(){return new va("","")}get isDefaultDatabase(){return this.database===yu}isEqual(t){return t instanceof va&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _c,Kt;(Kt=_c||(_c={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Sf([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=1048576;function Ga(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(t,n,o=1e3,c=1.5,p=6e4){this.Ti=t,this.timerId=n,this.Go=o,this.zo=c,this.jo=p,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),o=Math.max(0,Date.now()-this.Yo),c=Math.max(0,n-o);c>0&&_i("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,c,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,n,o,c,p){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=o,this.op=c,this.removalCallback=p,this.deferred=new yo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,o,c,p){const v=Date.now()+o,A=new Yu(t,n,v,c,p);return A.start(o),A}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new An(Tn.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var vc,yc;(yc=vc||(vc={}))._a="default",yc.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map;function ly(i,t,n,o){if(t===!0&&o===!0)throw new An(Tn.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function cy(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(o){return o.constructor?o.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Ku()}function hy(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new An(Tn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cy(i);throw new An(Tn.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="firestore.googleapis.com",Ec=!0;class bc{constructor(t){var n,o;if(t.host===void 0){if(t.ssl!==void 0)throw new An(Tn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xf,this.ssl=Ec}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Ec;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=sy;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<oy)throw new An(Tn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ly("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uy((o=t.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(p){if(p.timeoutSeconds!==void 0){if(isNaN(p.timeoutSeconds))throw new An(Tn.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new An(Tn.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new An(Tn.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(o,c){return o.timeoutSeconds===c.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pf{constructor(t,n,o,c){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bc({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new An(Tn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new An(Tn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bc(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new Jv;switch(o.type){case"firstParty":return new ny(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new An(Tn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=wc.get(n);o&&(_i("ComponentProvider","Removing Datastore"),wc.delete(n),o.terminate())}(this),Promise.resolve()}}function fy(i,t,n,o={}){var c;const p=(i=hy(i,Pf))._getSettings(),v=Object.assign(Object.assign({},p),{emulatorOptions:i._getEmulatorOptions()}),A=`${t}:${n}`;p.host!==xf&&p.host!==A&&Xv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const S=Object.assign(Object.assign({},p),{host:A,ssl:!1,emulatorOptions:o});if(!gs(S,v)&&(i._setSettings(S),o.mockUserToken)){let U,j;if(typeof o.mockUserToken=="string")U=o.mockUserToken,j=ln.MOCK_USER;else{U=yh(o.mockUserToken,(c=i._app)===null||c===void 0?void 0:c.options.projectId);const J=o.mockUserToken.sub||o.mockUserToken.user_id;if(!J)throw new An(Tn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new ln(J)}i._authCredentials=new Qv(new If(U,j))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="AsyncQueue";class Ac{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ay(this,"async_queue_retry"),this.Su=()=>{const o=Ga();o&&_i(Tc,"Visibility state changed to "+o.visibilityState),this.a_.t_()},this.bu=t;const n=Ga();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Ga();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new yo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!ry(t))throw t;_i(Tc,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(o=>{this.gu=o,this.pu=!1;const c=function(v){let A=v.message||"";return v.stack&&(A=v.stack.includes(v.message)?v.stack:v.message+`
`+v.stack),A}(o);throw Cf("INTERNAL UNHANDLED ERROR: ",c),o}).then(o=>(this.pu=!1,o))));return this.bu=n,n}enqueueAfterDelay(t,n,o){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const c=Yu.createAndSchedule(this,t,n,o,p=>this.Fu(p));return this.fu.push(c),c}Du(){this.gu&&Ku()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class dy extends Pf{constructor(t,n,o,c){super(t,n,o,c),this.type="firestore",this._queue=new Ac,this._persistenceKey=(c==null?void 0:c.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ac(t),this._firestoreClient=void 0,await t}}}function py(i,t){const n=typeof i=="object"?i:ku(),o=typeof i=="string"?i:yu,c=Ta(n,"firestore").getImmediate({identifier:o});if(!c._initialized){const p=mh("firestore");p&&fy(c,...p)}return c}(function(t,n=!0){(function(c){Lo=c})(Es),ms(new Dr("firestore",(o,{instanceIdentifier:c,options:p})=>{const v=o.getProvider("app").getImmediate(),A=new dy(new ty(o.getProvider("auth-internal")),new iy(v,o.getProvider("app-check-internal")),function(U,j){if(!Object.prototype.hasOwnProperty.apply(U.options,["projectId"]))throw new An(Tn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new va(U.options.projectId,j)}(v,c),v);return p=Object.assign({useFetchStreams:n},p),A._setSettings(p),A},"PUBLIC").setMultipleInstances(!0)),xi(pc,gc,t),xi(pc,gc,"esm2017")})();const gy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",my="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",_y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";function Sc(i,t){if(!i.intersects(t))return null;const n=Or.latLng(Math.max(i.getSouth(),t.getSouth()),Math.max(i.getWest(),t.getWest())),o=Or.latLng(Math.min(i.getNorth(),t.getNorth()),Math.min(i.getEast(),t.getEast()));return Or.latLngBounds(n,o)}async function Cc(i,t){return(await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${i}&lon=${t}`)).json()).display_name||"Posizione selezionata sulla mappa"}class vy{constructor(t,{minBBoxSizeMeters:n=2e4}={}){this.map=t,this.minBBoxSizeMeters=n,this.sicilyBounds=L.latLngBounds([36.37,12.228],[38.29,15.652])}async search(t,n=5,o="en"){if(t.length<3)return[];const c=this.map.getBounds();let p=Sc(this.sicilyBounds,c);p||(p=this.sicilyBounds),this._bboxTooSmall(p)&&(p=this._expandBBox(p,this.minBBoxSizeMeters));const v=[p.getWest(),p.getSouth(),p.getEast(),p.getNorth()].join(",");return(await(await fetch(`https://photon.komoot.io/api/?q=${encodeURIComponent(t)}&limit=${n}&lang=${o}&bbox=${v}`)).json()).features||[]}_bboxTooSmall(t){const n=t.getSouthWest(),o=t.getNorthEast(),c=n.distanceTo(L.latLng(n.lat,o.lng)),p=n.distanceTo(L.latLng(o.lat,n.lng));return c<this.minBBoxSizeMeters||p<this.minBBoxSizeMeters}_expandBBox(t,n){const o=t.getCenter(),c=this._metersToLat(n/2),p=this._metersToLon(n/2,o.lat),v=L.latLngBounds([o.lat-c,o.lng-p],[o.lat+c,o.lng+p]);return Sc(this.sicilyBounds,v)||this.sicilyBounds}_metersToLat(t){return t/111320}_metersToLon(t,n){return t/(111320*Math.cos(n*Math.PI/180))}}function Lf(i,t){let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>{i(...o)},t)}}class Of{constructor(t,n,o,c){this.inputEl=t,this.listEl=n,this.geoSearch=o,this.onSelect=c,this.results=[],this.activeIndex=-1,this.inputEl.setAttribute("role","combobox"),this.inputEl.setAttribute("aria-autocomplete","list"),this.inputEl.setAttribute("aria-expanded","false"),this.inputEl.setAttribute("aria-controls",n.id),this.listEl.setAttribute("role","listbox"),this.handleInputDebounced=Lf(p=>this.handleInput(p),300),this.inputEl.addEventListener("input",this.handleInputDebounced),this.inputEl.addEventListener("input",this.handleInputDebounced),this.inputEl.addEventListener("keydown",p=>this.handleKeyDown(p))}async handleInput(t){const n=t.target.value;if(n.length<3){this.clearResults();return}this.results=await this.geoSearch.search(n),this.activeIndex=-1,this.renderResults()}handleKeyDown(t){if(this.results.length)switch(t.key){case"ArrowDown":t.preventDefault(),this.activeIndex=(this.activeIndex+1)%this.results.length,this.updateActiveDescendant();break;case"ArrowUp":t.preventDefault(),this.activeIndex=(this.activeIndex-1+this.results.length)%this.results.length,this.updateActiveDescendant();break;case"Enter":t.preventDefault(),this.activeIndex>=0&&this.selectResult(this.results[this.activeIndex]);break;case"Escape":this.clearResults();break}}buildDisplayName(t){const n=[];if(t.properties.name){let o=t.properties.name;t.properties.housenumber&&(o+=" "+t.properties.housenumber),n.push(o)}return t.properties.district&&n.push(t.properties.district),t.properties.city&&n.push(t.properties.city),t.properties.postcode&&n.push(t.properties.postcode),n.join(", ")}renderResults(){this.listEl.innerHTML="",this.results.forEach((t,n)=>{const o=this.buildDisplayName(t),c=document.createElement("div");c.id=`autocomplete-item-${n}`,c.role="option",c.className="list-group-item list-group-item-action",c.textContent=o,c.addEventListener("click",()=>this.selectResult(t)),this.listEl.appendChild(c)}),this.inputEl.setAttribute("aria-expanded","true"),this.updateActiveDescendant()}updateActiveDescendant(){this.listEl.querySelectorAll("[role=option]").forEach((t,n)=>{t.classList.toggle("active",n===this.activeIndex)}),this.activeIndex>=0?this.inputEl.setAttribute("aria-activedescendant",`autocomplete-item-${this.activeIndex}`):this.inputEl.removeAttribute("aria-activedescendant")}selectResult(t){const n=t.geometry.coordinates[1],o=t.geometry.coordinates[0];this.onSelect({feature:t,lat:n,lon:o}),this.clearResults()}clearResults(){this.results=[],this.activeIndex=-1,this.listEl.innerHTML="",this.inputEl.setAttribute("aria-expanded","false"),this.inputEl.removeAttribute("aria-activedescendant")}}var cn="top",Fn="bottom",jn="right",hn="left",Pa="auto",no=[cn,Fn,jn,hn],ys="start",Zs="end",kf="clippingParents",Xu="viewport",Us="popper",Nf="reference",wu=no.reduce(function(i,t){return i.concat([t+"-"+ys,t+"-"+Zs])},[]),Ju=[].concat(no,[Pa]).reduce(function(i,t){return i.concat([t,t+"-"+ys,t+"-"+Zs])},[]),Rf="beforeRead",Df="read",Mf="afterRead",Bf="beforeMain",Uf="main",zf="afterMain",Hf="beforeWrite",Ff="write",jf="afterWrite",$f=[Rf,Df,Mf,Bf,Uf,zf,Hf,Ff,jf];function Ni(i){return i?(i.nodeName||"").toLowerCase():null}function $n(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var t=i.ownerDocument;return t&&t.defaultView||window}return i}function ws(i){var t=$n(i).Element;return i instanceof t||i instanceof Element}function ti(i){var t=$n(i).HTMLElement;return i instanceof t||i instanceof HTMLElement}function Qu(i){if(typeof ShadowRoot>"u")return!1;var t=$n(i).ShadowRoot;return i instanceof t||i instanceof ShadowRoot}function yy(i){var t=i.state;Object.keys(t.elements).forEach(function(n){var o=t.styles[n]||{},c=t.attributes[n]||{},p=t.elements[n];!ti(p)||!Ni(p)||(Object.assign(p.style,o),Object.keys(c).forEach(function(v){var A=c[v];A===!1?p.removeAttribute(v):p.setAttribute(v,A===!0?"":A)}))})}function wy(i){var t=i.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(o){var c=t.elements[o],p=t.attributes[o]||{},v=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:n[o]),A=v.reduce(function(S,U){return S[U]="",S},{});!ti(c)||!Ni(c)||(Object.assign(c.style,A),Object.keys(p).forEach(function(S){c.removeAttribute(S)}))})}}const tl={name:"applyStyles",enabled:!0,phase:"write",fn:yy,effect:wy,requires:["computeStyles"]};function Oi(i){return i.split("-")[0]}var ps=Math.max,ya=Math.min,Gs=Math.round;function Eu(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Vf(){return!/^((?!chrome|android).)*safari/i.test(Eu())}function Ks(i,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var o=i.getBoundingClientRect(),c=1,p=1;t&&ti(i)&&(c=i.offsetWidth>0&&Gs(o.width)/i.offsetWidth||1,p=i.offsetHeight>0&&Gs(o.height)/i.offsetHeight||1);var v=ws(i)?$n(i):window,A=v.visualViewport,S=!Vf()&&n,U=(o.left+(S&&A?A.offsetLeft:0))/c,j=(o.top+(S&&A?A.offsetTop:0))/p,J=o.width/c,et=o.height/p;return{width:J,height:et,top:j,right:U+J,bottom:j+et,left:U,x:U,y:j}}function el(i){var t=Ks(i),n=i.offsetWidth,o=i.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:i.offsetLeft,y:i.offsetTop,width:n,height:o}}function Wf(i,t){var n=t.getRootNode&&t.getRootNode();if(i.contains(t))return!0;if(n&&Qu(n)){var o=t;do{if(o&&i.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function tr(i){return $n(i).getComputedStyle(i)}function Ey(i){return["table","td","th"].indexOf(Ni(i))>=0}function Fr(i){return((ws(i)?i.ownerDocument:i.document)||window.document).documentElement}function La(i){return Ni(i)==="html"?i:i.assignedSlot||i.parentNode||(Qu(i)?i.host:null)||Fr(i)}function Ic(i){return!ti(i)||tr(i).position==="fixed"?null:i.offsetParent}function by(i){var t=/firefox/i.test(Eu()),n=/Trident/i.test(Eu());if(n&&ti(i)){var o=tr(i);if(o.position==="fixed")return null}var c=La(i);for(Qu(c)&&(c=c.host);ti(c)&&["html","body"].indexOf(Ni(c))<0;){var p=tr(c);if(p.transform!=="none"||p.perspective!=="none"||p.contain==="paint"||["transform","perspective"].indexOf(p.willChange)!==-1||t&&p.willChange==="filter"||t&&p.filter&&p.filter!=="none")return c;c=c.parentNode}return null}function Oo(i){for(var t=$n(i),n=Ic(i);n&&Ey(n)&&tr(n).position==="static";)n=Ic(n);return n&&(Ni(n)==="html"||Ni(n)==="body"&&tr(n).position==="static")?t:n||by(i)||t}function nl(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function wo(i,t,n){return ps(i,ya(t,n))}function Ty(i,t,n){var o=wo(i,t,n);return o>n?n:o}function qf(){return{top:0,right:0,bottom:0,left:0}}function Zf(i){return Object.assign({},qf(),i)}function Gf(i,t){return t.reduce(function(n,o){return n[o]=i,n},{})}var Ay=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Zf(typeof t!="number"?t:Gf(t,no))};function Sy(i){var t,n=i.state,o=i.name,c=i.options,p=n.elements.arrow,v=n.modifiersData.popperOffsets,A=Oi(n.placement),S=nl(A),U=[hn,jn].indexOf(A)>=0,j=U?"height":"width";if(!(!p||!v)){var J=Ay(c.padding,n),et=el(p),ut=S==="y"?cn:hn,X=S==="y"?Fn:jn,Y=n.rects.reference[j]+n.rects.reference[S]-v[S]-n.rects.popper[j],at=v[S]-n.rects.reference[S],ot=Oo(p),It=ot?S==="y"?ot.clientHeight||0:ot.clientWidth||0:0,dt=Y/2-at/2,ct=J[ut],St=It-et[j]-J[X],wt=It/2-et[j]/2+dt,h=wo(ct,wt,St),O=S;n.modifiersData[o]=(t={},t[O]=h,t.centerOffset=h-wt,t)}}function Cy(i){var t=i.state,n=i.options,o=n.element,c=o===void 0?"[data-popper-arrow]":o;c!=null&&(typeof c=="string"&&(c=t.elements.popper.querySelector(c),!c)||Wf(t.elements.popper,c)&&(t.elements.arrow=c))}const Kf={name:"arrow",enabled:!0,phase:"main",fn:Sy,effect:Cy,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ys(i){return i.split("-")[1]}var Iy={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xy(i,t){var n=i.x,o=i.y,c=t.devicePixelRatio||1;return{x:Gs(n*c)/c||0,y:Gs(o*c)/c||0}}function xc(i){var t,n=i.popper,o=i.popperRect,c=i.placement,p=i.variation,v=i.offsets,A=i.position,S=i.gpuAcceleration,U=i.adaptive,j=i.roundOffsets,J=i.isFixed,et=v.x,ut=et===void 0?0:et,X=v.y,Y=X===void 0?0:X,at=typeof j=="function"?j({x:ut,y:Y}):{x:ut,y:Y};ut=at.x,Y=at.y;var ot=v.hasOwnProperty("x"),It=v.hasOwnProperty("y"),dt=hn,ct=cn,St=window;if(U){var wt=Oo(n),h="clientHeight",O="clientWidth";if(wt===$n(n)&&(wt=Fr(n),tr(wt).position!=="static"&&A==="absolute"&&(h="scrollHeight",O="scrollWidth")),wt=wt,c===cn||(c===hn||c===jn)&&p===Zs){ct=Fn;var x=J&&wt===St&&St.visualViewport?St.visualViewport.height:wt[h];Y-=x-o.height,Y*=S?1:-1}if(c===hn||(c===cn||c===Fn)&&p===Zs){dt=jn;var M=J&&wt===St&&St.visualViewport?St.visualViewport.width:wt[O];ut-=M-o.width,ut*=S?1:-1}}var D=Object.assign({position:A},U&&Iy),H=j===!0?xy({x:ut,y:Y},$n(n)):{x:ut,y:Y};if(ut=H.x,Y=H.y,S){var P;return Object.assign({},D,(P={},P[ct]=It?"0":"",P[dt]=ot?"0":"",P.transform=(St.devicePixelRatio||1)<=1?"translate("+ut+"px, "+Y+"px)":"translate3d("+ut+"px, "+Y+"px, 0)",P))}return Object.assign({},D,(t={},t[ct]=It?Y+"px":"",t[dt]=ot?ut+"px":"",t.transform="",t))}function Py(i){var t=i.state,n=i.options,o=n.gpuAcceleration,c=o===void 0?!0:o,p=n.adaptive,v=p===void 0?!0:p,A=n.roundOffsets,S=A===void 0?!0:A,U={placement:Oi(t.placement),variation:Ys(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:c,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,xc(Object.assign({},U,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:v,roundOffsets:S})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,xc(Object.assign({},U,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:S})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const il={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Py,data:{}};var Wo={passive:!0};function Ly(i){var t=i.state,n=i.instance,o=i.options,c=o.scroll,p=c===void 0?!0:c,v=o.resize,A=v===void 0?!0:v,S=$n(t.elements.popper),U=[].concat(t.scrollParents.reference,t.scrollParents.popper);return p&&U.forEach(function(j){j.addEventListener("scroll",n.update,Wo)}),A&&S.addEventListener("resize",n.update,Wo),function(){p&&U.forEach(function(j){j.removeEventListener("scroll",n.update,Wo)}),A&&S.removeEventListener("resize",n.update,Wo)}}const rl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ly,data:{}};var Oy={left:"right",right:"left",bottom:"top",top:"bottom"};function sa(i){return i.replace(/left|right|bottom|top/g,function(t){return Oy[t]})}var ky={start:"end",end:"start"};function Pc(i){return i.replace(/start|end/g,function(t){return ky[t]})}function sl(i){var t=$n(i),n=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:n,scrollTop:o}}function ol(i){return Ks(Fr(i)).left+sl(i).scrollLeft}function Ny(i,t){var n=$n(i),o=Fr(i),c=n.visualViewport,p=o.clientWidth,v=o.clientHeight,A=0,S=0;if(c){p=c.width,v=c.height;var U=Vf();(U||!U&&t==="fixed")&&(A=c.offsetLeft,S=c.offsetTop)}return{width:p,height:v,x:A+ol(i),y:S}}function Ry(i){var t,n=Fr(i),o=sl(i),c=(t=i.ownerDocument)==null?void 0:t.body,p=ps(n.scrollWidth,n.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),v=ps(n.scrollHeight,n.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),A=-o.scrollLeft+ol(i),S=-o.scrollTop;return tr(c||n).direction==="rtl"&&(A+=ps(n.clientWidth,c?c.clientWidth:0)-p),{width:p,height:v,x:A,y:S}}function al(i){var t=tr(i),n=t.overflow,o=t.overflowX,c=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+c+o)}function Yf(i){return["html","body","#document"].indexOf(Ni(i))>=0?i.ownerDocument.body:ti(i)&&al(i)?i:Yf(La(i))}function Eo(i,t){var n;t===void 0&&(t=[]);var o=Yf(i),c=o===((n=i.ownerDocument)==null?void 0:n.body),p=$n(o),v=c?[p].concat(p.visualViewport||[],al(o)?o:[]):o,A=t.concat(v);return c?A:A.concat(Eo(La(v)))}function bu(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function Dy(i,t){var n=Ks(i,!1,t==="fixed");return n.top=n.top+i.clientTop,n.left=n.left+i.clientLeft,n.bottom=n.top+i.clientHeight,n.right=n.left+i.clientWidth,n.width=i.clientWidth,n.height=i.clientHeight,n.x=n.left,n.y=n.top,n}function Lc(i,t,n){return t===Xu?bu(Ny(i,n)):ws(t)?Dy(t,n):bu(Ry(Fr(i)))}function My(i){var t=Eo(La(i)),n=["absolute","fixed"].indexOf(tr(i).position)>=0,o=n&&ti(i)?Oo(i):i;return ws(o)?t.filter(function(c){return ws(c)&&Wf(c,o)&&Ni(c)!=="body"}):[]}function By(i,t,n,o){var c=t==="clippingParents"?My(i):[].concat(t),p=[].concat(c,[n]),v=p[0],A=p.reduce(function(S,U){var j=Lc(i,U,o);return S.top=ps(j.top,S.top),S.right=ya(j.right,S.right),S.bottom=ya(j.bottom,S.bottom),S.left=ps(j.left,S.left),S},Lc(i,v,o));return A.width=A.right-A.left,A.height=A.bottom-A.top,A.x=A.left,A.y=A.top,A}function Xf(i){var t=i.reference,n=i.element,o=i.placement,c=o?Oi(o):null,p=o?Ys(o):null,v=t.x+t.width/2-n.width/2,A=t.y+t.height/2-n.height/2,S;switch(c){case cn:S={x:v,y:t.y-n.height};break;case Fn:S={x:v,y:t.y+t.height};break;case jn:S={x:t.x+t.width,y:A};break;case hn:S={x:t.x-n.width,y:A};break;default:S={x:t.x,y:t.y}}var U=c?nl(c):null;if(U!=null){var j=U==="y"?"height":"width";switch(p){case ys:S[U]=S[U]-(t[j]/2-n[j]/2);break;case Zs:S[U]=S[U]+(t[j]/2-n[j]/2);break}}return S}function Xs(i,t){t===void 0&&(t={});var n=t,o=n.placement,c=o===void 0?i.placement:o,p=n.strategy,v=p===void 0?i.strategy:p,A=n.boundary,S=A===void 0?kf:A,U=n.rootBoundary,j=U===void 0?Xu:U,J=n.elementContext,et=J===void 0?Us:J,ut=n.altBoundary,X=ut===void 0?!1:ut,Y=n.padding,at=Y===void 0?0:Y,ot=Zf(typeof at!="number"?at:Gf(at,no)),It=et===Us?Nf:Us,dt=i.rects.popper,ct=i.elements[X?It:et],St=By(ws(ct)?ct:ct.contextElement||Fr(i.elements.popper),S,j,v),wt=Ks(i.elements.reference),h=Xf({reference:wt,element:dt,placement:c}),O=bu(Object.assign({},dt,h)),x=et===Us?O:wt,M={top:St.top-x.top+ot.top,bottom:x.bottom-St.bottom+ot.bottom,left:St.left-x.left+ot.left,right:x.right-St.right+ot.right},D=i.modifiersData.offset;if(et===Us&&D){var H=D[c];Object.keys(M).forEach(function(P){var Yt=[jn,Fn].indexOf(P)>=0?1:-1,Ue=[cn,Fn].indexOf(P)>=0?"y":"x";M[P]+=H[Ue]*Yt})}return M}function Uy(i,t){t===void 0&&(t={});var n=t,o=n.placement,c=n.boundary,p=n.rootBoundary,v=n.padding,A=n.flipVariations,S=n.allowedAutoPlacements,U=S===void 0?Ju:S,j=Ys(o),J=j?A?wu:wu.filter(function(X){return Ys(X)===j}):no,et=J.filter(function(X){return U.indexOf(X)>=0});et.length===0&&(et=J);var ut=et.reduce(function(X,Y){return X[Y]=Xs(i,{placement:Y,boundary:c,rootBoundary:p,padding:v})[Oi(Y)],X},{});return Object.keys(ut).sort(function(X,Y){return ut[X]-ut[Y]})}function zy(i){if(Oi(i)===Pa)return[];var t=sa(i);return[Pc(i),t,Pc(t)]}function Hy(i){var t=i.state,n=i.options,o=i.name;if(!t.modifiersData[o]._skip){for(var c=n.mainAxis,p=c===void 0?!0:c,v=n.altAxis,A=v===void 0?!0:v,S=n.fallbackPlacements,U=n.padding,j=n.boundary,J=n.rootBoundary,et=n.altBoundary,ut=n.flipVariations,X=ut===void 0?!0:ut,Y=n.allowedAutoPlacements,at=t.options.placement,ot=Oi(at),It=ot===at,dt=S||(It||!X?[sa(at)]:zy(at)),ct=[at].concat(dt).reduce(function(te,Rt){return te.concat(Oi(Rt)===Pa?Uy(t,{placement:Rt,boundary:j,rootBoundary:J,padding:U,flipVariations:X,allowedAutoPlacements:Y}):Rt)},[]),St=t.rects.reference,wt=t.rects.popper,h=new Map,O=!0,x=ct[0],M=0;M<ct.length;M++){var D=ct[M],H=Oi(D),P=Ys(D)===ys,Yt=[cn,Fn].indexOf(H)>=0,Ue=Yt?"width":"height",ne=Xs(t,{placement:D,boundary:j,rootBoundary:J,altBoundary:et,padding:U}),Xt=Yt?P?jn:hn:P?Fn:cn;St[Ue]>wt[Ue]&&(Xt=sa(Xt));var yt=sa(Xt),Ee=[];if(p&&Ee.push(ne[H]<=0),A&&Ee.push(ne[Xt]<=0,ne[yt]<=0),Ee.every(function(te){return te})){x=D,O=!1;break}h.set(D,Ee)}if(O)for(var Et=X?3:1,Jt=function(Rt){var Bt=ct.find(function(be){var Ce=h.get(be);if(Ce)return Ce.slice(0,Rt).every(function(si){return si})});if(Bt)return x=Bt,"break"},Qt=Et;Qt>0;Qt--){var Ft=Jt(Qt);if(Ft==="break")break}t.placement!==x&&(t.modifiersData[o]._skip=!0,t.placement=x,t.reset=!0)}}const Jf={name:"flip",enabled:!0,phase:"main",fn:Hy,requiresIfExists:["offset"],data:{_skip:!1}};function Oc(i,t,n){return n===void 0&&(n={x:0,y:0}),{top:i.top-t.height-n.y,right:i.right-t.width+n.x,bottom:i.bottom-t.height+n.y,left:i.left-t.width-n.x}}function kc(i){return[cn,jn,Fn,hn].some(function(t){return i[t]>=0})}function Fy(i){var t=i.state,n=i.name,o=t.rects.reference,c=t.rects.popper,p=t.modifiersData.preventOverflow,v=Xs(t,{elementContext:"reference"}),A=Xs(t,{altBoundary:!0}),S=Oc(v,o),U=Oc(A,c,p),j=kc(S),J=kc(U);t.modifiersData[n]={referenceClippingOffsets:S,popperEscapeOffsets:U,isReferenceHidden:j,hasPopperEscaped:J},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":j,"data-popper-escaped":J})}const Qf={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Fy};function jy(i,t,n){var o=Oi(i),c=[hn,cn].indexOf(o)>=0?-1:1,p=typeof n=="function"?n(Object.assign({},t,{placement:i})):n,v=p[0],A=p[1];return v=v||0,A=(A||0)*c,[hn,jn].indexOf(o)>=0?{x:A,y:v}:{x:v,y:A}}function $y(i){var t=i.state,n=i.options,o=i.name,c=n.offset,p=c===void 0?[0,0]:c,v=Ju.reduce(function(j,J){return j[J]=jy(J,t.rects,p),j},{}),A=v[t.placement],S=A.x,U=A.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=S,t.modifiersData.popperOffsets.y+=U),t.modifiersData[o]=v}const td={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$y};function Vy(i){var t=i.state,n=i.name;t.modifiersData[n]=Xf({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const ul={name:"popperOffsets",enabled:!0,phase:"read",fn:Vy,data:{}};function Wy(i){return i==="x"?"y":"x"}function qy(i){var t=i.state,n=i.options,o=i.name,c=n.mainAxis,p=c===void 0?!0:c,v=n.altAxis,A=v===void 0?!1:v,S=n.boundary,U=n.rootBoundary,j=n.altBoundary,J=n.padding,et=n.tether,ut=et===void 0?!0:et,X=n.tetherOffset,Y=X===void 0?0:X,at=Xs(t,{boundary:S,rootBoundary:U,padding:J,altBoundary:j}),ot=Oi(t.placement),It=Ys(t.placement),dt=!It,ct=nl(ot),St=Wy(ct),wt=t.modifiersData.popperOffsets,h=t.rects.reference,O=t.rects.popper,x=typeof Y=="function"?Y(Object.assign({},t.rects,{placement:t.placement})):Y,M=typeof x=="number"?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,H={x:0,y:0};if(wt){if(p){var P,Yt=ct==="y"?cn:hn,Ue=ct==="y"?Fn:jn,ne=ct==="y"?"height":"width",Xt=wt[ct],yt=Xt+at[Yt],Ee=Xt-at[Ue],Et=ut?-O[ne]/2:0,Jt=It===ys?h[ne]:O[ne],Qt=It===ys?-O[ne]:-h[ne],Ft=t.elements.arrow,te=ut&&Ft?el(Ft):{width:0,height:0},Rt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:qf(),Bt=Rt[Yt],be=Rt[Ue],Ce=wo(0,h[ne],te[ne]),si=dt?h[ne]/2-Et-Ce-Bt-M.mainAxis:Jt-Ce-Bt-M.mainAxis,Te=dt?-h[ne]/2+Et+Ce+be+M.mainAxis:Qt+Ce+be+M.mainAxis,dn=t.elements.arrow&&Oo(t.elements.arrow),Oe=dn?ct==="y"?dn.clientTop||0:dn.clientLeft||0:0,Xe=(P=D==null?void 0:D[ct])!=null?P:0,yi=Xt+si-Xe-Oe,wi=Xt+Te-Xe,Vn=wo(ut?ya(yt,yi):yt,Xt,ut?ps(Ee,wi):Ee);wt[ct]=Vn,H[ct]=Vn-Xt}if(A){var In,ke=ct==="x"?cn:hn,nr=ct==="x"?Fn:jn,Ve=wt[St],xn=St==="y"?"height":"width",Ne=Ve+at[ke],Je=Ve-at[nr],Qe=[cn,hn].indexOf(ot)!==-1,gt=(In=D==null?void 0:D[St])!=null?In:0,Zt=Qe?Ne:Ve-h[xn]-O[xn]-gt+M.altAxis,ge=Qe?Ve+h[xn]+O[xn]-gt-M.altAxis:Je,Wn=ut&&Qe?Ty(Zt,Ve,ge):wo(ut?Zt:Ne,Ve,ut?ge:Je);wt[St]=Wn,H[St]=Wn-Ve}t.modifiersData[o]=H}}const ed={name:"preventOverflow",enabled:!0,phase:"main",fn:qy,requiresIfExists:["offset"]};function Zy(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function Gy(i){return i===$n(i)||!ti(i)?sl(i):Zy(i)}function Ky(i){var t=i.getBoundingClientRect(),n=Gs(t.width)/i.offsetWidth||1,o=Gs(t.height)/i.offsetHeight||1;return n!==1||o!==1}function Yy(i,t,n){n===void 0&&(n=!1);var o=ti(t),c=ti(t)&&Ky(t),p=Fr(t),v=Ks(i,c,n),A={scrollLeft:0,scrollTop:0},S={x:0,y:0};return(o||!o&&!n)&&((Ni(t)!=="body"||al(p))&&(A=Gy(t)),ti(t)?(S=Ks(t,!0),S.x+=t.clientLeft,S.y+=t.clientTop):p&&(S.x=ol(p))),{x:v.left+A.scrollLeft-S.x,y:v.top+A.scrollTop-S.y,width:v.width,height:v.height}}function Xy(i){var t=new Map,n=new Set,o=[];i.forEach(function(p){t.set(p.name,p)});function c(p){n.add(p.name);var v=[].concat(p.requires||[],p.requiresIfExists||[]);v.forEach(function(A){if(!n.has(A)){var S=t.get(A);S&&c(S)}}),o.push(p)}return i.forEach(function(p){n.has(p.name)||c(p)}),o}function Jy(i){var t=Xy(i);return $f.reduce(function(n,o){return n.concat(t.filter(function(c){return c.phase===o}))},[])}function Qy(i){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(i())})})),t}}function tw(i){var t=i.reduce(function(n,o){var c=n[o.name];return n[o.name]=c?Object.assign({},c,o,{options:Object.assign({},c.options,o.options),data:Object.assign({},c.data,o.data)}):o,n},{});return Object.keys(t).map(function(n){return t[n]})}var Nc={placement:"bottom",modifiers:[],strategy:"absolute"};function Rc(){for(var i=arguments.length,t=new Array(i),n=0;n<i;n++)t[n]=arguments[n];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Oa(i){i===void 0&&(i={});var t=i,n=t.defaultModifiers,o=n===void 0?[]:n,c=t.defaultOptions,p=c===void 0?Nc:c;return function(A,S,U){U===void 0&&(U=p);var j={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nc,p),modifiersData:{},elements:{reference:A,popper:S},attributes:{},styles:{}},J=[],et=!1,ut={state:j,setOptions:function(ot){var It=typeof ot=="function"?ot(j.options):ot;Y(),j.options=Object.assign({},p,j.options,It),j.scrollParents={reference:ws(A)?Eo(A):A.contextElement?Eo(A.contextElement):[],popper:Eo(S)};var dt=Jy(tw([].concat(o,j.options.modifiers)));return j.orderedModifiers=dt.filter(function(ct){return ct.enabled}),X(),ut.update()},forceUpdate:function(){if(!et){var ot=j.elements,It=ot.reference,dt=ot.popper;if(Rc(It,dt)){j.rects={reference:Yy(It,Oo(dt),j.options.strategy==="fixed"),popper:el(dt)},j.reset=!1,j.placement=j.options.placement,j.orderedModifiers.forEach(function(M){return j.modifiersData[M.name]=Object.assign({},M.data)});for(var ct=0;ct<j.orderedModifiers.length;ct++){if(j.reset===!0){j.reset=!1,ct=-1;continue}var St=j.orderedModifiers[ct],wt=St.fn,h=St.options,O=h===void 0?{}:h,x=St.name;typeof wt=="function"&&(j=wt({state:j,options:O,name:x,instance:ut})||j)}}}},update:Qy(function(){return new Promise(function(at){ut.forceUpdate(),at(j)})}),destroy:function(){Y(),et=!0}};if(!Rc(A,S))return ut;ut.setOptions(U).then(function(at){!et&&U.onFirstUpdate&&U.onFirstUpdate(at)});function X(){j.orderedModifiers.forEach(function(at){var ot=at.name,It=at.options,dt=It===void 0?{}:It,ct=at.effect;if(typeof ct=="function"){var St=ct({state:j,name:ot,instance:ut,options:dt}),wt=function(){};J.push(St||wt)}})}function Y(){J.forEach(function(at){return at()}),J=[]}return ut}}var ew=Oa(),nw=[rl,ul,il,tl],iw=Oa({defaultModifiers:nw}),rw=[rl,ul,il,tl,td,Jf,ed,Kf,Qf],ll=Oa({defaultModifiers:rw});const nd=Object.freeze(Object.defineProperty({__proto__:null,afterMain:zf,afterRead:Mf,afterWrite:jf,applyStyles:tl,arrow:Kf,auto:Pa,basePlacements:no,beforeMain:Bf,beforeRead:Rf,beforeWrite:Hf,bottom:Fn,clippingParents:kf,computeStyles:il,createPopper:ll,createPopperBase:ew,createPopperLite:iw,detectOverflow:Xs,end:Zs,eventListeners:rl,flip:Jf,hide:Qf,left:hn,main:Uf,modifierPhases:$f,offset:td,placements:Ju,popper:Us,popperGenerator:Oa,popperOffsets:ul,preventOverflow:ed,read:Df,reference:Nf,right:jn,start:ys,top:cn,variationPlacements:wu,viewport:Xu,write:Ff},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.5 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Tr=new Map,Ka={set(i,t,n){Tr.has(i)||Tr.set(i,new Map);const o=Tr.get(i);if(!o.has(t)&&o.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(o.keys())[0]}.`);return}o.set(t,n)},get(i,t){return Tr.has(i)&&Tr.get(i).get(t)||null},remove(i,t){if(!Tr.has(i))return;const n=Tr.get(i);n.delete(t),n.size===0&&Tr.delete(i)}},sw=1e6,ow=1e3,Tu="transitionend",id=i=>(i&&window.CSS&&window.CSS.escape&&(i=i.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),i),aw=i=>i==null?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase(),uw=i=>{do i+=Math.floor(Math.random()*sw);while(document.getElementById(i));return i},lw=i=>{if(!i)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(i);const o=Number.parseFloat(t),c=Number.parseFloat(n);return!o&&!c?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*ow)},rd=i=>{i.dispatchEvent(new Event(Tu))},Ki=i=>!i||typeof i!="object"?!1:(typeof i.jquery<"u"&&(i=i[0]),typeof i.nodeType<"u"),Br=i=>Ki(i)?i.jquery?i[0]:i:typeof i=="string"&&i.length>0?document.querySelector(id(i)):null,io=i=>{if(!Ki(i)||i.getClientRects().length===0)return!1;const t=getComputedStyle(i).getPropertyValue("visibility")==="visible",n=i.closest("details:not([open])");if(!n)return t;if(n!==i){const o=i.closest("summary");if(o&&o.parentNode!==n||o===null)return!1}return t},Ur=i=>!i||i.nodeType!==Node.ELEMENT_NODE||i.classList.contains("disabled")?!0:typeof i.disabled<"u"?i.disabled:i.hasAttribute("disabled")&&i.getAttribute("disabled")!=="false",sd=i=>{if(!document.documentElement.attachShadow)return null;if(typeof i.getRootNode=="function"){const t=i.getRootNode();return t instanceof ShadowRoot?t:null}return i instanceof ShadowRoot?i:i.parentNode?sd(i.parentNode):null},wa=()=>{},ko=i=>{i.offsetHeight},od=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ya=[],cw=i=>{document.readyState==="loading"?(Ya.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Ya)t()}),Ya.push(i)):i()},ei=()=>document.documentElement.dir==="rtl",ri=i=>{cw(()=>{const t=od();if(t){const n=i.NAME,o=t.fn[n];t.fn[n]=i.jQueryInterface,t.fn[n].Constructor=i,t.fn[n].noConflict=()=>(t.fn[n]=o,i.jQueryInterface)}})},Sn=(i,t=[],n=i)=>typeof i=="function"?i.call(...t):n,ad=(i,t,n=!0)=>{if(!n){Sn(i);return}const c=lw(t)+5;let p=!1;const v=({target:A})=>{A===t&&(p=!0,t.removeEventListener(Tu,v),Sn(i))};t.addEventListener(Tu,v),setTimeout(()=>{p||rd(t)},c)},cl=(i,t,n,o)=>{const c=i.length;let p=i.indexOf(t);return p===-1?!n&&o?i[c-1]:i[0]:(p+=n?1:-1,o&&(p=(p+c)%c),i[Math.max(0,Math.min(p,c-1))])},hw=/[^.]*(?=\..*)\.|.*/,fw=/\..*/,dw=/::\d+$/,Xa={};let Dc=1;const ud={mouseenter:"mouseover",mouseleave:"mouseout"},pw=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ld(i,t){return t&&`${t}::${Dc++}`||i.uidEvent||Dc++}function cd(i){const t=ld(i);return i.uidEvent=t,Xa[t]=Xa[t]||{},Xa[t]}function gw(i,t){return function n(o){return hl(o,{delegateTarget:i}),n.oneOff&&rt.off(i,o.type,t),t.apply(i,[o])}}function mw(i,t,n){return function o(c){const p=i.querySelectorAll(t);for(let{target:v}=c;v&&v!==this;v=v.parentNode)for(const A of p)if(A===v)return hl(c,{delegateTarget:v}),o.oneOff&&rt.off(i,c.type,t,n),n.apply(v,[c])}}function hd(i,t,n=null){return Object.values(i).find(o=>o.callable===t&&o.delegationSelector===n)}function fd(i,t,n){const o=typeof t=="string",c=o?n:t||n;let p=dd(i);return pw.has(p)||(p=i),[o,c,p]}function Mc(i,t,n,o,c){if(typeof t!="string"||!i)return;let[p,v,A]=fd(t,n,o);t in ud&&(v=(X=>function(Y){if(!Y.relatedTarget||Y.relatedTarget!==Y.delegateTarget&&!Y.delegateTarget.contains(Y.relatedTarget))return X.call(this,Y)})(v));const S=cd(i),U=S[A]||(S[A]={}),j=hd(U,v,p?n:null);if(j){j.oneOff=j.oneOff&&c;return}const J=ld(v,t.replace(hw,"")),et=p?mw(i,n,v):gw(i,v);et.delegationSelector=p?n:null,et.callable=v,et.oneOff=c,et.uidEvent=J,U[J]=et,i.addEventListener(A,et,p)}function Au(i,t,n,o,c){const p=hd(t[n],o,c);p&&(i.removeEventListener(n,p,!!c),delete t[n][p.uidEvent])}function _w(i,t,n,o){const c=t[n]||{};for(const[p,v]of Object.entries(c))p.includes(o)&&Au(i,t,n,v.callable,v.delegationSelector)}function dd(i){return i=i.replace(fw,""),ud[i]||i}const rt={on(i,t,n,o){Mc(i,t,n,o,!1)},one(i,t,n,o){Mc(i,t,n,o,!0)},off(i,t,n,o){if(typeof t!="string"||!i)return;const[c,p,v]=fd(t,n,o),A=v!==t,S=cd(i),U=S[v]||{},j=t.startsWith(".");if(typeof p<"u"){if(!Object.keys(U).length)return;Au(i,S,v,p,c?n:null);return}if(j)for(const J of Object.keys(S))_w(i,S,J,t.slice(1));for(const[J,et]of Object.entries(U)){const ut=J.replace(dw,"");(!A||t.includes(ut))&&Au(i,S,v,et.callable,et.delegationSelector)}},trigger(i,t,n){if(typeof t!="string"||!i)return null;const o=od(),c=dd(t),p=t!==c;let v=null,A=!0,S=!0,U=!1;p&&o&&(v=o.Event(t,n),o(i).trigger(v),A=!v.isPropagationStopped(),S=!v.isImmediatePropagationStopped(),U=v.isDefaultPrevented());const j=hl(new Event(t,{bubbles:A,cancelable:!0}),n);return U&&j.preventDefault(),S&&i.dispatchEvent(j),j.defaultPrevented&&v&&v.preventDefault(),j}};function hl(i,t={}){for(const[n,o]of Object.entries(t))try{i[n]=o}catch{Object.defineProperty(i,n,{configurable:!0,get(){return o}})}return i}function Bc(i){if(i==="true")return!0;if(i==="false")return!1;if(i===Number(i).toString())return Number(i);if(i===""||i==="null")return null;if(typeof i!="string")return i;try{return JSON.parse(decodeURIComponent(i))}catch{return i}}function Ja(i){return i.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Yi={setDataAttribute(i,t,n){i.setAttribute(`data-bs-${Ja(t)}`,n)},removeDataAttribute(i,t){i.removeAttribute(`data-bs-${Ja(t)}`)},getDataAttributes(i){if(!i)return{};const t={},n=Object.keys(i.dataset).filter(o=>o.startsWith("bs")&&!o.startsWith("bsConfig"));for(const o of n){let c=o.replace(/^bs/,"");c=c.charAt(0).toLowerCase()+c.slice(1),t[c]=Bc(i.dataset[o])}return t},getDataAttribute(i,t){return Bc(i.getAttribute(`data-bs-${Ja(t)}`))}};class No{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const o=Ki(n)?Yi.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof o=="object"?o:{},...Ki(n)?Yi.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[o,c]of Object.entries(n)){const p=t[o],v=Ki(p)?"element":aw(p);if(!new RegExp(c).test(v))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${o}" provided type "${v}" but expected type "${c}".`)}}}const vw="5.3.5";class vi extends No{constructor(t,n){super(),t=Br(t),t&&(this._element=t,this._config=this._getConfig(n),Ka.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ka.remove(this._element,this.constructor.DATA_KEY),rt.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,o=!0){ad(t,n,o)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Ka.get(Br(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return vw}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Qa=i=>{let t=i.getAttribute("data-bs-target");if(!t||t==="#"){let n=i.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?n.trim():null}return t?t.split(",").map(n=>id(n)).join(","):null},bt={find(i,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,i))},findOne(i,t=document.documentElement){return Element.prototype.querySelector.call(t,i)},children(i,t){return[].concat(...i.children).filter(n=>n.matches(t))},parents(i,t){const n=[];let o=i.parentNode.closest(t);for(;o;)n.push(o),o=o.parentNode.closest(t);return n},prev(i,t){let n=i.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(i,t){let n=i.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(i){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,i).filter(n=>!Ur(n)&&io(n))},getSelectorFromElement(i){const t=Qa(i);return t&&bt.findOne(t)?t:null},getElementFromSelector(i){const t=Qa(i);return t?bt.findOne(t):null},getMultipleElementsFromSelector(i){const t=Qa(i);return t?bt.find(t):[]}},ka=(i,t="hide")=>{const n=`click.dismiss${i.EVENT_KEY}`,o=i.NAME;rt.on(document,n,`[data-bs-dismiss="${o}"]`,function(c){if(["A","AREA"].includes(this.tagName)&&c.preventDefault(),Ur(this))return;const p=bt.getElementFromSelector(this)||this.closest(`.${o}`);i.getOrCreateInstance(p)[t]()})},yw="alert",ww="bs.alert",pd=`.${ww}`,Ew=`close${pd}`,bw=`closed${pd}`,Tw="fade",Aw="show";class Na extends vi{static get NAME(){return yw}close(){if(rt.trigger(this._element,Ew).defaultPrevented)return;this._element.classList.remove(Aw);const n=this._element.classList.contains(Tw);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),rt.trigger(this._element,bw),this.dispose()}static jQueryInterface(t){return this.each(function(){const n=Na.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}ka(Na,"close");ri(Na);const Sw="button",Cw="bs.button",Iw=`.${Cw}`,xw=".data-api",Pw="active",Uc='[data-bs-toggle="button"]',Lw=`click${Iw}${xw}`;class Ra extends vi{static get NAME(){return Sw}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Pw))}static jQueryInterface(t){return this.each(function(){const n=Ra.getOrCreateInstance(this);t==="toggle"&&n[t]()})}}rt.on(document,Lw,Uc,i=>{i.preventDefault();const t=i.target.closest(Uc);Ra.getOrCreateInstance(t).toggle()});ri(Ra);const Ow="swipe",ro=".bs.swipe",kw=`touchstart${ro}`,Nw=`touchmove${ro}`,Rw=`touchend${ro}`,Dw=`pointerdown${ro}`,Mw=`pointerup${ro}`,Bw="touch",Uw="pen",zw="pointer-event",Hw=40,Fw={endCallback:null,leftCallback:null,rightCallback:null},jw={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ea extends No{constructor(t,n){super(),this._element=t,!(!t||!Ea.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Fw}static get DefaultType(){return jw}static get NAME(){return Ow}dispose(){rt.off(this._element,ro)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Sn(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=Hw)return;const n=t/this._deltaX;this._deltaX=0,n&&Sn(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(rt.on(this._element,Dw,t=>this._start(t)),rt.on(this._element,Mw,t=>this._end(t)),this._element.classList.add(zw)):(rt.on(this._element,kw,t=>this._start(t)),rt.on(this._element,Nw,t=>this._move(t)),rt.on(this._element,Rw,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===Uw||t.pointerType===Bw)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const $w="carousel",Vw="bs.carousel",jr=`.${Vw}`,gd=".data-api",Ww="ArrowLeft",qw="ArrowRight",Zw=500,fo="next",Ms="prev",zs="left",oa="right",Gw=`slide${jr}`,tu=`slid${jr}`,Kw=`keydown${jr}`,Yw=`mouseenter${jr}`,Xw=`mouseleave${jr}`,Jw=`dragstart${jr}`,Qw=`load${jr}${gd}`,tE=`click${jr}${gd}`,md="carousel",qo="active",eE="slide",nE="carousel-item-end",iE="carousel-item-start",rE="carousel-item-next",sE="carousel-item-prev",_d=".active",vd=".carousel-item",oE=_d+vd,aE=".carousel-item img",uE=".carousel-indicators",lE="[data-bs-slide], [data-bs-slide-to]",cE='[data-bs-ride="carousel"]',hE={[Ww]:oa,[qw]:zs},fE={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},dE={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ro extends vi{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=bt.findOne(uE,this._element),this._addEventListeners(),this._config.ride===md&&this.cycle()}static get Default(){return fE}static get DefaultType(){return dE}static get NAME(){return $w}next(){this._slide(fo)}nextWhenVisible(){!document.hidden&&io(this._element)&&this.next()}prev(){this._slide(Ms)}pause(){this._isSliding&&rd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){rt.one(this._element,tu,()=>this.cycle());return}this.cycle()}}to(t){const n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){rt.one(this._element,tu,()=>this.to(t));return}const o=this._getItemIndex(this._getActive());if(o===t)return;const c=t>o?fo:Ms;this._slide(c,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&rt.on(this._element,Kw,t=>this._keydown(t)),this._config.pause==="hover"&&(rt.on(this._element,Yw,()=>this.pause()),rt.on(this._element,Xw,()=>this._maybeEnableCycle())),this._config.touch&&Ea.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const o of bt.find(aE,this._element))rt.on(o,Jw,c=>c.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(zs)),rightCallback:()=>this._slide(this._directionToOrder(oa)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Zw+this._config.interval))}};this._swipeHelper=new Ea(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const n=hE[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const n=bt.findOne(_d,this._indicatorsElement);n.classList.remove(qo),n.removeAttribute("aria-current");const o=bt.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);o&&(o.classList.add(qo),o.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;const o=this._getActive(),c=t===fo,p=n||cl(this._getItems(),o,c,this._config.wrap);if(p===o)return;const v=this._getItemIndex(p),A=ut=>rt.trigger(this._element,ut,{relatedTarget:p,direction:this._orderToDirection(t),from:this._getItemIndex(o),to:v});if(A(Gw).defaultPrevented||!o||!p)return;const U=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(v),this._activeElement=p;const j=c?iE:nE,J=c?rE:sE;p.classList.add(J),ko(p),o.classList.add(j),p.classList.add(j);const et=()=>{p.classList.remove(j,J),p.classList.add(qo),o.classList.remove(qo,J,j),this._isSliding=!1,A(tu)};this._queueCallback(et,o,this._isAnimated()),U&&this.cycle()}_isAnimated(){return this._element.classList.contains(eE)}_getActive(){return bt.findOne(oE,this._element)}_getItems(){return bt.find(vd,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return ei()?t===zs?Ms:fo:t===zs?fo:Ms}_orderToDirection(t){return ei()?t===Ms?zs:oa:t===Ms?oa:zs}static jQueryInterface(t){return this.each(function(){const n=Ro.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}rt.on(document,tE,lE,function(i){const t=bt.getElementFromSelector(this);if(!t||!t.classList.contains(md))return;i.preventDefault();const n=Ro.getOrCreateInstance(t),o=this.getAttribute("data-bs-slide-to");if(o){n.to(o),n._maybeEnableCycle();return}if(Yi.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});rt.on(window,Qw,()=>{const i=bt.find(cE);for(const t of i)Ro.getOrCreateInstance(t)});ri(Ro);const pE="collapse",gE="bs.collapse",Do=`.${gE}`,mE=".data-api",_E=`show${Do}`,vE=`shown${Do}`,yE=`hide${Do}`,wE=`hidden${Do}`,EE=`click${Do}${mE}`,eu="show",js="collapse",Zo="collapsing",bE="collapsed",TE=`:scope .${js} .${js}`,AE="collapse-horizontal",SE="width",CE="height",IE=".collapse.show, .collapse.collapsing",Su='[data-bs-toggle="collapse"]',xE={parent:null,toggle:!0},PE={parent:"(null|element)",toggle:"boolean"};class Cn extends vi{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const o=bt.find(Su);for(const c of o){const p=bt.getSelectorFromElement(c),v=bt.find(p).filter(A=>A===this._element);p!==null&&v.length&&this._triggerArray.push(c)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return xE}static get DefaultType(){return PE}static get NAME(){return pE}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(IE).filter(A=>A!==this._element).map(A=>Cn.getOrCreateInstance(A,{toggle:!1}))),t.length&&t[0]._isTransitioning||rt.trigger(this._element,_E).defaultPrevented)return;for(const A of t)A.hide();const o=this._getDimension();this._element.classList.remove(js),this._element.classList.add(Zo),this._element.style[o]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const c=()=>{this._isTransitioning=!1,this._element.classList.remove(Zo),this._element.classList.add(js,eu),this._element.style[o]="",rt.trigger(this._element,vE)},v=`scroll${o[0].toUpperCase()+o.slice(1)}`;this._queueCallback(c,this._element,!0),this._element.style[o]=`${this._element[v]}px`}hide(){if(this._isTransitioning||!this._isShown()||rt.trigger(this._element,yE).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,ko(this._element),this._element.classList.add(Zo),this._element.classList.remove(js,eu);for(const c of this._triggerArray){const p=bt.getElementFromSelector(c);p&&!this._isShown(p)&&this._addAriaAndCollapsedClass([c],!1)}this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(Zo),this._element.classList.add(js),rt.trigger(this._element,wE)};this._element.style[n]="",this._queueCallback(o,this._element,!0)}_isShown(t=this._element){return t.classList.contains(eu)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=Br(t.parent),t}_getDimension(){return this._element.classList.contains(AE)?SE:CE}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Su);for(const n of t){const o=bt.getElementFromSelector(n);o&&this._addAriaAndCollapsedClass([n],this._isShown(o))}}_getFirstLevelChildren(t){const n=bt.find(TE,this._config.parent);return bt.find(t,this._config.parent).filter(o=>!n.includes(o))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const o of t)o.classList.toggle(bE,!n),o.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const o=Cn.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof o[t]>"u")throw new TypeError(`No method named "${t}"`);o[t]()}})}}rt.on(document,EE,Su,function(i){(i.target.tagName==="A"||i.delegateTarget&&i.delegateTarget.tagName==="A")&&i.preventDefault();for(const t of bt.getMultipleElementsFromSelector(this))Cn.getOrCreateInstance(t,{toggle:!1}).toggle()});ri(Cn);const zc="dropdown",LE="bs.dropdown",Ts=`.${LE}`,fl=".data-api",OE="Escape",Hc="Tab",kE="ArrowUp",Fc="ArrowDown",NE=2,RE=`hide${Ts}`,DE=`hidden${Ts}`,ME=`show${Ts}`,BE=`shown${Ts}`,yd=`click${Ts}${fl}`,wd=`keydown${Ts}${fl}`,UE=`keyup${Ts}${fl}`,Hs="show",zE="dropup",HE="dropend",FE="dropstart",jE="dropup-center",$E="dropdown-center",hs='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',VE=`${hs}.${Hs}`,aa=".dropdown-menu",WE=".navbar",qE=".navbar-nav",ZE=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",GE=ei()?"top-end":"top-start",KE=ei()?"top-start":"top-end",YE=ei()?"bottom-end":"bottom-start",XE=ei()?"bottom-start":"bottom-end",JE=ei()?"left-start":"right-start",QE=ei()?"right-start":"left-start",tb="top",eb="bottom",nb={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ib={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ki extends vi{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=bt.next(this._element,aa)[0]||bt.prev(this._element,aa)[0]||bt.findOne(aa,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return nb}static get DefaultType(){return ib}static get NAME(){return zc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ur(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!rt.trigger(this._element,ME,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(qE))for(const o of[].concat(...document.body.children))rt.on(o,"mouseover",wa);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Hs),this._element.classList.add(Hs),rt.trigger(this._element,BE,t)}}hide(){if(Ur(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!rt.trigger(this._element,RE,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))rt.off(o,"mouseover",wa);this._popper&&this._popper.destroy(),this._menu.classList.remove(Hs),this._element.classList.remove(Hs),this._element.setAttribute("aria-expanded","false"),Yi.removeDataAttribute(this._menu,"popper"),rt.trigger(this._element,DE,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Ki(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${zc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof nd>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let t=this._element;this._config.reference==="parent"?t=this._parent:Ki(this._config.reference)?t=Br(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=ll(t,this._menu,n)}_isShown(){return this._menu.classList.contains(Hs)}_getPlacement(){const t=this._parent;if(t.classList.contains(HE))return JE;if(t.classList.contains(FE))return QE;if(t.classList.contains(jE))return tb;if(t.classList.contains($E))return eb;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(zE)?n?KE:GE:n?XE:YE}_detectNavbar(){return this._element.closest(WE)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Yi.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...Sn(this._config.popperConfig,[void 0,t])}}_selectMenuItem({key:t,target:n}){const o=bt.find(ZE,this._menu).filter(c=>io(c));o.length&&cl(o,n,t===Fc,!o.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=ki.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===NE||t.type==="keyup"&&t.key!==Hc)return;const n=bt.find(VE);for(const o of n){const c=ki.getInstance(o);if(!c||c._config.autoClose===!1)continue;const p=t.composedPath(),v=p.includes(c._menu);if(p.includes(c._element)||c._config.autoClose==="inside"&&!v||c._config.autoClose==="outside"&&v||c._menu.contains(t.target)&&(t.type==="keyup"&&t.key===Hc||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const A={relatedTarget:c._element};t.type==="click"&&(A.clickEvent=t),c._completeHide(A)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),o=t.key===OE,c=[kE,Fc].includes(t.key);if(!c&&!o||n&&!o)return;t.preventDefault();const p=this.matches(hs)?this:bt.prev(this,hs)[0]||bt.next(this,hs)[0]||bt.findOne(hs,t.delegateTarget.parentNode),v=ki.getOrCreateInstance(p);if(c){t.stopPropagation(),v.show(),v._selectMenuItem(t);return}v._isShown()&&(t.stopPropagation(),v.hide(),p.focus())}}rt.on(document,wd,hs,ki.dataApiKeydownHandler);rt.on(document,wd,aa,ki.dataApiKeydownHandler);rt.on(document,yd,ki.clearMenus);rt.on(document,UE,ki.clearMenus);rt.on(document,yd,hs,function(i){i.preventDefault(),ki.getOrCreateInstance(this).toggle()});ri(ki);const Ed="backdrop",rb="fade",jc="show",$c=`mousedown.bs.${Ed}`,sb={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ob={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class bd extends No{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return sb}static get DefaultType(){return ob}static get NAME(){return Ed}show(t){if(!this._config.isVisible){Sn(t);return}this._append();const n=this._getElement();this._config.isAnimated&&ko(n),n.classList.add(jc),this._emulateAnimation(()=>{Sn(t)})}hide(t){if(!this._config.isVisible){Sn(t);return}this._getElement().classList.remove(jc),this._emulateAnimation(()=>{this.dispose(),Sn(t)})}dispose(){this._isAppended&&(rt.off(this._element,$c),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(rb),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Br(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),rt.on(t,$c,()=>{Sn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){ad(t,this._getElement(),this._config.isAnimated)}}const ab="focustrap",ub="bs.focustrap",ba=`.${ub}`,lb=`focusin${ba}`,cb=`keydown.tab${ba}`,hb="Tab",fb="forward",Vc="backward",db={autofocus:!0,trapElement:null},pb={autofocus:"boolean",trapElement:"element"};class Td extends No{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return db}static get DefaultType(){return pb}static get NAME(){return ab}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),rt.off(document,ba),rt.on(document,lb,t=>this._handleFocusin(t)),rt.on(document,cb,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,rt.off(document,ba))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const o=bt.focusableChildren(n);o.length===0?n.focus():this._lastTabNavDirection===Vc?o[o.length-1].focus():o[0].focus()}_handleKeydown(t){t.key===hb&&(this._lastTabNavDirection=t.shiftKey?Vc:fb)}}const Wc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",qc=".sticky-top",Go="padding-right",Zc="margin-right";class Cu{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Go,n=>n+t),this._setElementAttributes(Wc,Go,n=>n+t),this._setElementAttributes(qc,Zc,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Go),this._resetElementAttributes(Wc,Go),this._resetElementAttributes(qc,Zc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,o){const c=this.getWidth(),p=v=>{if(v!==this._element&&window.innerWidth>v.clientWidth+c)return;this._saveInitialAttribute(v,n);const A=window.getComputedStyle(v).getPropertyValue(n);v.style.setProperty(n,`${o(Number.parseFloat(A))}px`)};this._applyManipulationCallback(t,p)}_saveInitialAttribute(t,n){const o=t.style.getPropertyValue(n);o&&Yi.setDataAttribute(t,n,o)}_resetElementAttributes(t,n){const o=c=>{const p=Yi.getDataAttribute(c,n);if(p===null){c.style.removeProperty(n);return}Yi.removeDataAttribute(c,n),c.style.setProperty(n,p)};this._applyManipulationCallback(t,o)}_applyManipulationCallback(t,n){if(Ki(t)){n(t);return}for(const o of bt.find(t,this._element))n(o)}}const gb="modal",mb="bs.modal",ni=`.${mb}`,_b=".data-api",vb="Escape",yb=`hide${ni}`,wb=`hidePrevented${ni}`,Ad=`hidden${ni}`,Sd=`show${ni}`,Eb=`shown${ni}`,bb=`resize${ni}`,Tb=`click.dismiss${ni}`,Ab=`mousedown.dismiss${ni}`,Sb=`keydown.dismiss${ni}`,Cb=`click${ni}${_b}`,Gc="modal-open",Ib="fade",Kc="show",nu="modal-static",xb=".modal.show",Pb=".modal-dialog",Lb=".modal-body",Ob='[data-bs-toggle="modal"]',kb={backdrop:!0,focus:!0,keyboard:!0},Nb={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Js extends vi{constructor(t,n){super(t,n),this._dialog=bt.findOne(Pb,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Cu,this._addEventListeners()}static get Default(){return kb}static get DefaultType(){return Nb}static get NAME(){return gb}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||rt.trigger(this._element,Sd,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Gc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||rt.trigger(this._element,yb).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Kc),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){rt.off(window,ni),rt.off(this._dialog,ni),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new bd({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Td({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=bt.findOne(Lb,this._dialog);n&&(n.scrollTop=0),ko(this._element),this._element.classList.add(Kc);const o=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,rt.trigger(this._element,Eb,{relatedTarget:t})};this._queueCallback(o,this._dialog,this._isAnimated())}_addEventListeners(){rt.on(this._element,Sb,t=>{if(t.key===vb){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),rt.on(window,bb,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),rt.on(this._element,Ab,t=>{rt.one(this._element,Tb,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Gc),this._resetAdjustments(),this._scrollBar.reset(),rt.trigger(this._element,Ad)})}_isAnimated(){return this._element.classList.contains(Ib)}_triggerBackdropTransition(){if(rt.trigger(this._element,wb).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,o=this._element.style.overflowY;o==="hidden"||this._element.classList.contains(nu)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(nu),this._queueCallback(()=>{this._element.classList.remove(nu),this._queueCallback(()=>{this._element.style.overflowY=o},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),o=n>0;if(o&&!t){const c=ei()?"paddingLeft":"paddingRight";this._element.style[c]=`${n}px`}if(!o&&t){const c=ei()?"paddingRight":"paddingLeft";this._element.style[c]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const o=Js.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof o[t]>"u")throw new TypeError(`No method named "${t}"`);o[t](n)}})}}rt.on(document,Cb,Ob,function(i){const t=bt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&i.preventDefault(),rt.one(t,Sd,c=>{c.defaultPrevented||rt.one(t,Ad,()=>{io(this)&&this.focus()})});const n=bt.findOne(xb);n&&Js.getInstance(n).hide(),Js.getOrCreateInstance(t).toggle(this)});ka(Js);ri(Js);const Rb="offcanvas",Db="bs.offcanvas",er=`.${Db}`,Cd=".data-api",Mb=`load${er}${Cd}`,Bb="Escape",Yc="show",Xc="showing",Jc="hiding",Ub="offcanvas-backdrop",Id=".offcanvas.show",zb=`show${er}`,Hb=`shown${er}`,Fb=`hide${er}`,Qc=`hidePrevented${er}`,xd=`hidden${er}`,jb=`resize${er}`,$b=`click${er}${Cd}`,Vb=`keydown.dismiss${er}`,Wb='[data-bs-toggle="offcanvas"]',qb={backdrop:!0,keyboard:!0,scroll:!1},Zb={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class zr extends vi{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return qb}static get DefaultType(){return Zb}static get NAME(){return Rb}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||rt.trigger(this._element,zb,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Cu().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Xc);const o=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Yc),this._element.classList.remove(Xc),rt.trigger(this._element,Hb,{relatedTarget:t})};this._queueCallback(o,this._element,!0)}hide(){if(!this._isShown||rt.trigger(this._element,Fb).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Jc),this._backdrop.hide();const n=()=>{this._element.classList.remove(Yc,Jc),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Cu().reset(),rt.trigger(this._element,xd)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){rt.trigger(this._element,Qc);return}this.hide()},n=!!this._config.backdrop;return new bd({className:Ub,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new Td({trapElement:this._element})}_addEventListeners(){rt.on(this._element,Vb,t=>{if(t.key===Bb){if(this._config.keyboard){this.hide();return}rt.trigger(this._element,Qc)}})}static jQueryInterface(t){return this.each(function(){const n=zr.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}rt.on(document,$b,Wb,function(i){const t=bt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Ur(this))return;rt.one(t,xd,()=>{io(this)&&this.focus()});const n=bt.findOne(Id);n&&n!==t&&zr.getInstance(n).hide(),zr.getOrCreateInstance(t).toggle(this)});rt.on(window,Mb,()=>{for(const i of bt.find(Id))zr.getOrCreateInstance(i).show()});rt.on(window,jb,()=>{for(const i of bt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(i).position!=="fixed"&&zr.getOrCreateInstance(i).hide()});ka(zr);ri(zr);const Gb=/^aria-[\w-]*$/i,Pd={"*":["class","dir","id","lang","role",Gb],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Kb=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Yb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Xb=(i,t)=>{const n=i.nodeName.toLowerCase();return t.includes(n)?Kb.has(n)?!!Yb.test(i.nodeValue):!0:t.filter(o=>o instanceof RegExp).some(o=>o.test(n))};function Jb(i,t,n){if(!i.length)return i;if(n&&typeof n=="function")return n(i);const c=new window.DOMParser().parseFromString(i,"text/html"),p=[].concat(...c.body.querySelectorAll("*"));for(const v of p){const A=v.nodeName.toLowerCase();if(!Object.keys(t).includes(A)){v.remove();continue}const S=[].concat(...v.attributes),U=[].concat(t["*"]||[],t[A]||[]);for(const j of S)Xb(j,U)||v.removeAttribute(j.nodeName)}return c.body.innerHTML}const Qb="TemplateFactory",tT={allowList:Pd,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},eT={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},nT={entry:"(string|element|function|null)",selector:"(string|element)"};class iT extends No{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return tT}static get DefaultType(){return eT}static get NAME(){return Qb}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[c,p]of Object.entries(this._config.content))this._setContent(t,p,c);const n=t.children[0],o=this._resolvePossibleFunction(this._config.extraClass);return o&&n.classList.add(...o.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[n,o]of Object.entries(t))super._typeCheckConfig({selector:n,entry:o},nT)}_setContent(t,n,o){const c=bt.findOne(o,t);if(c){if(n=this._resolvePossibleFunction(n),!n){c.remove();return}if(Ki(n)){this._putElementInTemplate(Br(n),c);return}if(this._config.html){c.innerHTML=this._maybeSanitize(n);return}c.textContent=n}}_maybeSanitize(t){return this._config.sanitize?Jb(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Sn(t,[void 0,this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}}const rT="tooltip",sT=new Set(["sanitize","allowList","sanitizeFn"]),iu="fade",oT="modal",Ko="show",aT=".tooltip-inner",th=`.${oT}`,eh="hide.bs.modal",po="hover",ru="focus",uT="click",lT="manual",cT="hide",hT="hidden",fT="show",dT="shown",pT="inserted",gT="click",mT="focusin",_T="focusout",vT="mouseenter",yT="mouseleave",wT={AUTO:"auto",TOP:"top",RIGHT:ei()?"left":"right",BOTTOM:"bottom",LEFT:ei()?"right":"left"},ET={allowList:Pd,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},bT={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class so extends vi{constructor(t,n){if(typeof nd>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ET}static get DefaultType(){return bT}static get NAME(){return rT}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),rt.off(this._element.closest(th),eh,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=rt.trigger(this._element,this.constructor.eventName(fT)),o=(sd(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!o)return;this._disposePopper();const c=this._getTipElement();this._element.setAttribute("aria-describedby",c.getAttribute("id"));const{container:p}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(p.append(c),rt.trigger(this._element,this.constructor.eventName(pT))),this._popper=this._createPopper(c),c.classList.add(Ko),"ontouchstart"in document.documentElement)for(const A of[].concat(...document.body.children))rt.on(A,"mouseover",wa);const v=()=>{rt.trigger(this._element,this.constructor.eventName(dT)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(v,this.tip,this._isAnimated())}hide(){if(!this._isShown()||rt.trigger(this._element,this.constructor.eventName(cT)).defaultPrevented)return;if(this._getTipElement().classList.remove(Ko),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))rt.off(c,"mouseover",wa);this._activeTrigger[uT]=!1,this._activeTrigger[ru]=!1,this._activeTrigger[po]=!1,this._isHovered=null;const o=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),rt.trigger(this._element,this.constructor.eventName(hT)))};this._queueCallback(o,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(iu,Ko),n.classList.add(`bs-${this.constructor.NAME}-auto`);const o=uw(this.constructor.NAME).toString();return n.setAttribute("id",o),this._isAnimated()&&n.classList.add(iu),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new iT({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[aT]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(iu)}_isShown(){return this.tip&&this.tip.classList.contains(Ko)}_createPopper(t){const n=Sn(this._config.placement,[this,t,this._element]),o=wT[n.toUpperCase()];return ll(this._element,t,this._getPopperConfig(o))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return Sn(t,[this._element,this._element])}_getPopperConfig(t){const n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:o=>{this._getTipElement().setAttribute("data-popper-placement",o.state.placement)}}]};return{...n,...Sn(this._config.popperConfig,[void 0,n])}}_setListeners(){const t=this._config.trigger.split(" ");for(const n of t)if(n==="click")rt.on(this._element,this.constructor.eventName(gT),this._config.selector,o=>{this._initializeOnDelegatedTarget(o).toggle()});else if(n!==lT){const o=n===po?this.constructor.eventName(vT):this.constructor.eventName(mT),c=n===po?this.constructor.eventName(yT):this.constructor.eventName(_T);rt.on(this._element,o,this._config.selector,p=>{const v=this._initializeOnDelegatedTarget(p);v._activeTrigger[p.type==="focusin"?ru:po]=!0,v._enter()}),rt.on(this._element,c,this._config.selector,p=>{const v=this._initializeOnDelegatedTarget(p);v._activeTrigger[p.type==="focusout"?ru:po]=v._element.contains(p.relatedTarget),v._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},rt.on(this._element.closest(th),eh,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const n=Yi.getDataAttributes(this._element);for(const o of Object.keys(n))sT.has(o)&&delete n[o];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:Br(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[n,o]of Object.entries(this._config))this.constructor.Default[n]!==o&&(t[n]=o);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const n=so.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}ri(so);const TT="popover",AT=".popover-header",ST=".popover-body",CT={...so.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},IT={...so.DefaultType,content:"(null|string|element|function)"};class dl extends so{static get Default(){return CT}static get DefaultType(){return IT}static get NAME(){return TT}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[AT]:this._getTitle(),[ST]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const n=dl.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}ri(dl);const xT="scrollspy",PT="bs.scrollspy",pl=`.${PT}`,LT=".data-api",OT=`activate${pl}`,nh=`click${pl}`,kT=`load${pl}${LT}`,NT="dropdown-item",Bs="active",RT='[data-bs-spy="scroll"]',su="[href]",DT=".nav, .list-group",ih=".nav-link",MT=".nav-item",BT=".list-group-item",UT=`${ih}, ${MT} > ${ih}, ${BT}`,zT=".dropdown",HT=".dropdown-toggle",FT={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},jT={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Da extends vi{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return FT}static get DefaultType(){return jT}static get NAME(){return xT}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Br(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(rt.off(this._config.target,nh),rt.on(this._config.target,nh,su,t=>{const n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();const o=this._rootElement||window,c=n.offsetTop-this._element.offsetTop;if(o.scrollTo){o.scrollTo({top:c,behavior:"smooth"});return}o.scrollTop=c}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){const n=v=>this._targetLinks.get(`#${v.target.id}`),o=v=>{this._previousScrollData.visibleEntryTop=v.target.offsetTop,this._process(n(v))},c=(this._rootElement||document.documentElement).scrollTop,p=c>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=c;for(const v of t){if(!v.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(v));continue}const A=v.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(p&&A){if(o(v),!c)return;continue}!p&&!A&&o(v)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=bt.find(su,this._config.target);for(const n of t){if(!n.hash||Ur(n))continue;const o=bt.findOne(decodeURI(n.hash),this._element);io(o)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,o))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Bs),this._activateParents(t),rt.trigger(this._element,OT,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(NT)){bt.findOne(HT,t.closest(zT)).classList.add(Bs);return}for(const n of bt.parents(t,DT))for(const o of bt.prev(n,UT))o.classList.add(Bs)}_clearActiveClass(t){t.classList.remove(Bs);const n=bt.find(`${su}.${Bs}`,t);for(const o of n)o.classList.remove(Bs)}static jQueryInterface(t){return this.each(function(){const n=Da.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}rt.on(window,kT,()=>{for(const i of bt.find(RT))Da.getOrCreateInstance(i)});ri(Da);const $T="tab",VT="bs.tab",As=`.${VT}`,WT=`hide${As}`,qT=`hidden${As}`,ZT=`show${As}`,GT=`shown${As}`,KT=`click${As}`,YT=`keydown${As}`,XT=`load${As}`,JT="ArrowLeft",rh="ArrowRight",QT="ArrowUp",sh="ArrowDown",ou="Home",oh="End",fs="active",ah="fade",au="show",t0="dropdown",Ld=".dropdown-toggle",e0=".dropdown-menu",uu=`:not(${Ld})`,n0='.list-group, .nav, [role="tablist"]',i0=".nav-item, .list-group-item",r0=`.nav-link${uu}, .list-group-item${uu}, [role="tab"]${uu}`,Od='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',lu=`${r0}, ${Od}`,s0=`.${fs}[data-bs-toggle="tab"], .${fs}[data-bs-toggle="pill"], .${fs}[data-bs-toggle="list"]`;class Qs extends vi{constructor(t){super(t),this._parent=this._element.closest(n0),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),rt.on(this._element,YT,n=>this._keydown(n)))}static get NAME(){return $T}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),o=n?rt.trigger(n,WT,{relatedTarget:t}):null;rt.trigger(t,ZT,{relatedTarget:n}).defaultPrevented||o&&o.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(fs),this._activate(bt.getElementFromSelector(t));const o=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(au);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),rt.trigger(t,GT,{relatedTarget:n})};this._queueCallback(o,t,t.classList.contains(ah))}_deactivate(t,n){if(!t)return;t.classList.remove(fs),t.blur(),this._deactivate(bt.getElementFromSelector(t));const o=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(au);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),rt.trigger(t,qT,{relatedTarget:n})};this._queueCallback(o,t,t.classList.contains(ah))}_keydown(t){if(![JT,rh,QT,sh,ou,oh].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=this._getChildren().filter(c=>!Ur(c));let o;if([ou,oh].includes(t.key))o=n[t.key===ou?0:n.length-1];else{const c=[rh,sh].includes(t.key);o=cl(n,t.target,c,!0)}o&&(o.focus({preventScroll:!0}),Qs.getOrCreateInstance(o).show())}_getChildren(){return bt.find(lu,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(const o of n)this._setInitialAttributesOnChild(o)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const n=this._elemIsActive(t),o=this._getOuterElement(t);t.setAttribute("aria-selected",n),o!==t&&this._setAttributeIfNotExists(o,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const n=bt.getElementFromSelector(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){const o=this._getOuterElement(t);if(!o.classList.contains(t0))return;const c=(p,v)=>{const A=bt.findOne(p,o);A&&A.classList.toggle(v,n)};c(Ld,fs),c(e0,au),o.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,o){t.hasAttribute(n)||t.setAttribute(n,o)}_elemIsActive(t){return t.classList.contains(fs)}_getInnerElement(t){return t.matches(lu)?t:bt.findOne(lu,t)}_getOuterElement(t){return t.closest(i0)||t}static jQueryInterface(t){return this.each(function(){const n=Qs.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}rt.on(document,KT,Od,function(i){["A","AREA"].includes(this.tagName)&&i.preventDefault(),!Ur(this)&&Qs.getOrCreateInstance(this).show()});rt.on(window,XT,()=>{for(const i of bt.find(s0))Qs.getOrCreateInstance(i)});ri(Qs);const o0="toast",a0="bs.toast",$r=`.${a0}`,u0=`mouseover${$r}`,l0=`mouseout${$r}`,c0=`focusin${$r}`,h0=`focusout${$r}`,f0=`hide${$r}`,d0=`hidden${$r}`,p0=`show${$r}`,g0=`shown${$r}`,m0="fade",uh="hide",Yo="show",Xo="showing",_0={animation:"boolean",autohide:"boolean",delay:"number"},v0={animation:!0,autohide:!0,delay:5e3};class Ma extends vi{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return v0}static get DefaultType(){return _0}static get NAME(){return o0}show(){if(rt.trigger(this._element,p0).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(m0);const n=()=>{this._element.classList.remove(Xo),rt.trigger(this._element,g0),this._maybeScheduleHide()};this._element.classList.remove(uh),ko(this._element),this._element.classList.add(Yo,Xo),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||rt.trigger(this._element,f0).defaultPrevented)return;const n=()=>{this._element.classList.add(uh),this._element.classList.remove(Xo,Yo),rt.trigger(this._element,d0)};this._element.classList.add(Xo),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Yo),super.dispose()}isShown(){return this._element.classList.contains(Yo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const o=t.relatedTarget;this._element===o||this._element.contains(o)||this._maybeScheduleHide()}_setListeners(){rt.on(this._element,u0,t=>this._onInteraction(t,!0)),rt.on(this._element,l0,t=>this._onInteraction(t,!1)),rt.on(this._element,c0,t=>this._onInteraction(t,!0)),rt.on(this._element,h0,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const n=Ma.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}ka(Ma);ri(Ma);const y0=Zv(Fu);py(Fu);rf(Fu);delete Or.Icon.Default.prototype._getIconUrl;Or.Icon.Default.mergeOptions({iconRetinaUrl:gy,iconUrl:my,shadowUrl:_y});const w0=[37.5079,15.083],Hr=Or.map("map").setView(w0,13);Or.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(Hr);const E0=document.getElementById("street"),b0=document.getElementById("streetSuggestions"),kd=new vy(Hr);new Of(E0,b0,kd,({feature:i})=>{i.properties.postcode&&(document.getElementById("zipCode").value=i.properties.postcode),i.properties.city&&(document.getElementById("city").value=i.properties.city),i.properties.name&&(document.getElementById("street").value=i.properties.name),i.properties.housenumber&&(document.getElementById("houseNumber").value=i.properties.name)});const T0=document.getElementById("mapSearch"),A0=document.getElementById("mapSearchSuggestions");new Of(T0,A0,kd,({lat:i,lon:t})=>{Nd(i,t,{center:!0})});const ua=document.getElementById("reportForm");let Pr=null,Jo=null;const lh=document.getElementById("modeAddress"),Iu=document.getElementById("modeMap"),xu=document.getElementById("modeGoogleMapsUrl"),gl=[Ye("#city"),Ye("#houseNumber"),Ye("#zipCode"),Ye("#street")];lh.addEventListener("change",()=>{lh.checked&&(gl.forEach(i=>{i.prop("required",!0)}),Ye("#collapseMapButton").addClass("collapsed"),Ye("#collapseGoogleMapsUrlButton").addClass("collapsed"),Ye("#collapseAddressButton").removeClass("collapsed"),Cn.getOrCreateInstance(document.getElementById("collapseMap"),{toggle:!1}).hide(),Cn.getOrCreateInstance(document.getElementById("collapseGoogleMapsUrl"),{toggle:!1}).hide(),Cn.getOrCreateInstance(document.getElementById("collapseAddress"),{toggle:!1}).show())});Iu.addEventListener("change",()=>{Iu.checked&&(gl.forEach(i=>{i.prop("required",!1)}),Ye("#collapseMapButton").removeClass("collapsed"),Ye("#collapseAddressButton").addClass("collapsed"),Ye("#collapseGoogleMapsUrlButton").addClass("collapsed"),Cn.getOrCreateInstance(document.getElementById("collapseAddress"),{toggle:!1}).hide(),Cn.getOrCreateInstance(document.getElementById("collapseGoogleMapsUrl"),{toggle:!1}).hide(),Cn.getOrCreateInstance(document.getElementById("collapseMap"),{toggle:!1}).show(),Hr.invalidateSize())});xu.addEventListener("change",()=>{xu.checked&&(gl.forEach(i=>{i.prop("required",!1)}),Ye("#collapseGoogleMapsUrlButton").removeClass("collapsed"),Ye("#collapseAddressButton").addClass("collapsed"),Ye("#collapseMapButton").addClass("collapsed"),Cn.getOrCreateInstance(document.getElementById("collapseMap"),{toggle:!1}).hide(),Cn.getOrCreateInstance(document.getElementById("collapseAddress"),{toggle:!1}).hide(),Cn.getOrCreateInstance(document.getElementById("collapseGoogleMapsUrl"),{toggle:!1}).show(),Hr.invalidateSize())});Ye("#headingMap").on("click",function(){Hr.invalidateSize()});function Nd(i,t,{center:n=!0}={}){Jo?(Jo.setLatLng([i,t]),Pr={lat:i,lon:t}):(Jo=Or.marker([i,t],{draggable:!0}).addTo(Hr),Jo.on("dragend",function(o){const c=o.target.getLatLng();Pr={lat:c.lat,lon:c.lng},Pr.lat=c.lat,Pr.lon=c.lng})),Pr={lat:i,lon:t},n&&Hr.setView([i,t],16)}Hr.on("click",function(i){const t=i.latlng.lat,n=i.latlng.lng;Nd(t,n,{center:!1})});const S0=document.getElementById("mediaList"),C0=document.getElementById("addMediaBtn"),Qo=[],I0=10485760;C0.addEventListener("click",()=>{if(Qo.length>=5){alert("Puoi caricare al massimo 5 file.");return}const i=document.createElement("input");i.type="file",i.accept="image/*,video/*",i.onchange=async t=>{const n=t.target.files[0];if(!n)return;if(n.size>I0){alert("Il file supera i 10MB.");return}const o=Date.now()+"_"+n.name,c=qv(y0,"uploads/temp/"+o),p=document.createElement("div");p.className="position-relative",p.style.width="100px",p.style.height="100px",p.innerHTML=`
      <div class="d-flex justify-content-center align-items-center bg-secondary bg-opacity-10" 
           style="width: 100%; height: 100%;">
        <div class="spinner-border text-secondary" role="status"></div>
      </div>
    `,S0.appendChild(p),$v(c,n).on("state_changed",A=>{},A=>{p.innerHTML='<div class="text-danger small">Errore upload</div>'},async()=>{const A=await Vv(c);Qo.push({url:A,storagePath:c.fullPath});const S=n.type.startsWith("image/"),U=document.createElement(S?"img":"video");U.src=A,U.style.width="100px",U.style.height="100px",U.style.objectFit="cover",S||(U.controls=!0);const j=document.createElement("button");j.type="button",j.className="btn-close position-absolute top-0 end-0",j.addEventListener("click",async()=>{await Wv(c),Qo.splice(Qo.findIndex(J=>J.url===A),1),p.remove()}),p.innerHTML="",p.appendChild(U),p.appendChild(j)})},i.click()});const ch=document.getElementById("severity"),x0=document.getElementById("severityValue");ch.addEventListener("input",()=>{x0.textContent=ch.value});let Lr=null;const gi=document.getElementById("googleMapsUrl");gi.addEventListener("input",Lf(async i=>{document.getElementById("googleMapsUrlStatus").classList.remove("invisible");const t=gi.value,n=encodeURIComponent(t);let o=document.getElementById("googleMapsUrlModeValidationResult");try{const c=await fetch("/api/decode-google-maps-uri?uri="+n);c.ok?(gi.setCustomValidity(""),gi.classList.remove("is-invalid"),gi.classList.add("is-valid"),o.classList.remove("text-danger"),o.classList.add("text-success"),Lr=await c.json(),o.textContent=`Coordinate rilevate: ${Lr.lat}, ${Lr.lon}`):(o.textContent=await c.text(),o.classList.add("text-danger"),o.classList.remove("text-success"),o.textContent="URL non valida",ua.classList.contains("was-validated")&&(gi.setCustomValidity("Invalid URL"),gi.classList.add("is-invalid"),gi.classList.remove("is-valid")),Lr=null)}catch{gi.setCustomValidity("Invalid URL"),gi.classList.add("is-invalid"),gi.classList.remove("is-valid"),o.classList.add("text-danger"),o.classList.remove("text-success"),o.textContent="URL non valida",Lr=null}document.getElementById("googleMapsUrlStatus").classList.add("invisible")},300));ua.addEventListener("submit",async i=>{i.preventDefault();let t=!1;if(ua.checkValidity()&&(t|=!0),Iu.checked&&(Pr?(Ye("#mapModeValidationResult").removeClass("alert-danger").addClass("visually-hidden").text(""),t|=!0):Ye("#mapModeValidationResult").removeClass("visually-hidden").addClass("alert-danger").text("Selezionare una posizione sulla mappa")),xu.checked){let n=document.getElementById("googleMapsUrl");Lr==null?(n.setCustomValidity("Invalid URL"),n.classList.add("is-invalid"),n.classList.remove("is-valid")):(n.setCustomValidity(""),n.classList.add("is-valid"),n.classList.remove("is-invalid"))}ua.classList.add("was-validated"),t&&(await P0(),window.location.href="thankyou.html")});async function P0(){const i=document.querySelector('input[name="locationMode"]:checked').value,t=document.getElementById("summary").value.trim(),n=document.getElementById("category").value.trim(),o=document.getElementById("description").value.trim(),c=parseInt(document.getElementById("severity").value,10),p={summary:t,category:n,description:o,severity:c,created_at:new Date().toISOString()};if(i==="address")p.location_mode="address",p.address=document.getElementById("street").value.trim(),p.house_number=document.getElementById("houseNumber").value.trim(),p.city=document.getElementById("city").value.trim(),p.zip_code=document.getElementById("zipCode").value.trim();else if(i==="map"){const v=Pr.lat,A=Pr.lon;p.location_mode="map",p.coordinates={lat:v,lon:A},p.address=await Cc(v,A)}else if(i==="googleMapsUrl"){const v=Lr.lat,A=Lr.lon;p.location_mode="googleMapsUrl",p.coordinates={lat:v,lon:A},p.address=await Cc(v,A)}try{const v=await fetch("/api/reports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!v.ok){const S=await v.text();throw new Error(`Errore dal backend: ${S}`)}const A=await v.text();console.log("Report salvato con ID:",A)}catch(v){alert("Errore durante l'invio della segnalazione: "+v.message)}}
